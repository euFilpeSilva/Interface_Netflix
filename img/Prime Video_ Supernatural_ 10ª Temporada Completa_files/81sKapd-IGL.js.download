(()=>{var e,t,n,r,a={"./node_modules/@amzn/av-experiment-token-js-library/dist/configuration/schema/experimentToken_pb.js":(e,t)=>{"use strict";var n=t.iz={};n.read=function(e,t){return e.readFields(n._readField,{cancellationWinbackToken:null,leavingSoonToken:null,pvCinemaToken:null},t)},n._readField=function(e,t,n){1===e?t.cancellationWinbackToken=r.read(n,n.readVarint()+n.pos):2===e?t.leavingSoonToken=o.read(n,n.readVarint()+n.pos):3===e&&(t.pvCinemaToken=s.read(n,n.readVarint()+n.pos))},n.write=function(e,t){e.cancellationWinbackToken&&t.writeMessage(1,r.write,e.cancellationWinbackToken),e.leavingSoonToken&&t.writeMessage(2,o.write,e.leavingSoonToken),e.pvCinemaToken&&t.writeMessage(3,s.write,e.pvCinemaToken)};var r={};r.read=function(e,t){return e.readFields(r._readField,{TAPS_EXPERIMENT_CANCELLATION_WINBACK_277551:"",cancellationWinbackStringInfo:null,enrollmentId:"",csrfToken:""},t)},r._readField=function(e,t,n){1===e?t.TAPS_EXPERIMENT_CANCELLATION_WINBACK_277551=n.readString():2===e?t.cancellationWinbackStringInfo=a.read(n,n.readVarint()+n.pos):3===e?t.enrollmentId=n.readString():4===e&&(t.csrfToken=n.readString())},r.write=function(e,t){e.TAPS_EXPERIMENT_CANCELLATION_WINBACK_277551&&t.writeStringField(1,e.TAPS_EXPERIMENT_CANCELLATION_WINBACK_277551),e.cancellationWinbackStringInfo&&t.writeMessage(2,a.write,e.cancellationWinbackStringInfo),e.enrollmentId&&t.writeStringField(3,e.enrollmentId),e.csrfToken&&t.writeStringField(4,e.csrfToken)};var a={};a.read=function(e,t){return e.readFields(a._readField,{label:"",confirmationLabel:"",cancellationLabel:"",playbackLabel:"",modalMessage:""},t)},a._readField=function(e,t,n){1===e?t.label=n.readString():2===e?t.confirmationLabel=n.readString():3===e?t.cancellationLabel=n.readString():4===e?t.playbackLabel=n.readString():5===e&&(t.modalMessage=n.readString())},a.write=function(e,t){e.label&&t.writeStringField(1,e.label),e.confirmationLabel&&t.writeStringField(2,e.confirmationLabel),e.cancellationLabel&&t.writeStringField(3,e.cancellationLabel),e.playbackLabel&&t.writeStringField(4,e.playbackLabel),e.modalMessage&&t.writeStringField(5,e.modalMessage)};var o={};o.read=function(e,t){return e.readFields(o._readField,{DV_WEB_XPL_HOVER_LEAVING_291408:"",availabilityChange:null},t)},o._readField=function(e,t,n){1===e?t.DV_WEB_XPL_HOVER_LEAVING_291408=n.readString():2===e&&(t.availabilityChange=i.read(n,n.readVarint()+n.pos))},o.write=function(e,t){e.DV_WEB_XPL_HOVER_LEAVING_291408&&t.writeStringField(1,e.DV_WEB_XPL_HOVER_LEAVING_291408),e.availabilityChange&&t.writeMessage(2,i.write,e.availabilityChange)};var i={};i.read=function(e,t){return e.readFields(i._readField,{changeTime:0,benefitId:"",changeType:0},t)},i._readField=function(e,t,n){1===e?t.changeTime=n.readVarint(!0):2===e?t.benefitId=n.readString():3===e&&(t.changeType=n.readVarint())},i.write=function(e,t){e.changeTime&&t.writeVarintField(1,e.changeTime),e.benefitId&&t.writeStringField(2,e.benefitId),e.changeType&&t.writeVarintField(3,e.changeType)};var s={};s.read=function(e,t){return e.readFields(s._readField,{TAPS_EXPERIMENT_PV_CINEMA_296876:"",brandingMessage:"",logoUrl:""},t)},s._readField=function(e,t,n){1===e?t.TAPS_EXPERIMENT_PV_CINEMA_296876=n.readString():2===e?t.brandingMessage=n.readString():3===e&&(t.logoUrl=n.readString())},s.write=function(e,t){e.TAPS_EXPERIMENT_PV_CINEMA_296876&&t.writeStringField(1,e.TAPS_EXPERIMENT_PV_CINEMA_296876),e.brandingMessage&&t.writeStringField(2,e.brandingMessage),e.logoUrl&&t.writeStringField(3,e.logoUrl)}},"./node_modules/@amzn/av-experiment-token-js-library/dist/src/experimentTokenHelper.js":(e,t,n)=>{"use strict";function r(e,t){if(n=e,!(null!=(r=t)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r))throw new TypeError("Cannot call a class as a function");var n,r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n("./node_modules/@amzn/av-experiment-token-js-library/dist/configuration/schema/experimentToken_pb.js").iz,i=n("./node_modules/@amzn/av-experiment-token-js-library/node_modules/pbf/index.js"),s=function(){function e(){r(this,e)}var t,n,s;return t=e,(n=[{key:"decode",value:function(e){if(!e)return null;if("undefined"!=typeof window&&void 0!==window.atob){var t=new i(Uint8Array.from(window.atob(e),(function(e){return e.charCodeAt(0)})));return o.read(t)}return t=new i(Buffer.from(e,"base64")),o.read(t)}}])&&a(t.prototype,n),s&&a(t,s),e}();t.default=s},"./node_modules/@amzn/av-experiment-token-js-library/index.js":(e,t,n)=>{t.ExperimentTokenHelper=n("./node_modules/@amzn/av-experiment-token-js-library/dist/src/experimentTokenHelper.js").default},"./node_modules/@amzn/av-experiment-token-js-library/node_modules/ieee754/index.js":(e,t)=>{t.read=function(e,t,n,r,a){var o,i,s=8*a-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?a-1:0,p=n?-1:1,f=e[t+d];for(d+=p,o=f&(1<<-u)-1,f>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=p,u-=8);for(i=o&(1<<-u)-1,o>>=-u,u+=r;u>0;i=256*i+e[t+d],d+=p,u-=8);if(0===o)o=1-l;else{if(o===c)return i?NaN:1/0*(f?-1:1);i+=Math.pow(2,r),o-=l}return(f?-1:1)*i*Math.pow(2,o-r)},t.write=function(e,t,n,r,a,o){var i,s,c,l=8*o-a-1,u=(1<<l)-1,d=u>>1,p=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,m=r?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=u):(i=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-i))<1&&(i--,c*=2),(t+=i+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(i++,c/=2),i+d>=u?(s=0,i=u):i+d>=1?(s=(t*c-1)*Math.pow(2,a),i+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),i=0));a>=8;e[n+f]=255&s,f+=m,s/=256,a-=8);for(i=i<<a|s,l+=a;l>0;e[n+f]=255&i,f+=m,i/=256,l-=8);e[n+f-m]|=128*h}},"./node_modules/@amzn/av-experiment-token-js-library/node_modules/pbf/index.js":(e,t,n)=>{"use strict";e.exports=a;var r=n("./node_modules/@amzn/av-experiment-token-js-library/node_modules/ieee754/index.js");function a(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}a.Varint=0,a.Fixed64=1,a.Bytes=2,a.Fixed32=5;var o=4294967296,i=1/o,s="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function c(e){return e.type===a.Bytes?e.readVarint()+e.pos:e.pos+1}function l(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function u(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var a=n.pos-1;a>=e;a--)n.buf[a+r]=n.buf[a]}function d(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function f(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function m(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function h(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function g(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function v(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function _(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function y(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function b(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function E(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function w(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}a.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),a=r>>3,o=this.pos;this.type=7&r,e(a,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=b(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=w(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=b(this.buf,this.pos)+b(this.buf,this.pos+4)*o;return this.pos+=8,e},readSFixed64:function(){var e=b(this.buf,this.pos)+w(this.buf,this.pos+4)*o;return this.pos+=8,e},readFloat:function(){var e=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,a,o=n.buf;if(a=o[n.pos++],r=(112&a)>>4,a<128)return l(e,r,t);if(a=o[n.pos++],r|=(127&a)<<3,a<128)return l(e,r,t);if(a=o[n.pos++],r|=(127&a)<<10,a<128)return l(e,r,t);if(a=o[n.pos++],r|=(127&a)<<17,a<128)return l(e,r,t);if(a=o[n.pos++],r|=(127&a)<<24,a<128)return l(e,r,t);if(a=o[n.pos++],r|=(1&a)<<31,a<128)return l(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&s?function(e,t,n){return s.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){var r="",a=t;for(;a<n;){var o,i,s,c=e[a],l=null,u=c>239?4:c>223?3:c>191?2:1;if(a+u>n)break;1===u?c<128&&(l=c):2===u?128==(192&(o=e[a+1]))&&(l=(31&c)<<6|63&o)<=127&&(l=null):3===u?(o=e[a+1],i=e[a+2],128==(192&o)&&128==(192&i)&&((l=(15&c)<<12|(63&o)<<6|63&i)<=2047||l>=55296&&l<=57343)&&(l=null)):4===u&&(o=e[a+1],i=e[a+2],s=e[a+3],128==(192&o)&&128==(192&i)&&128==(192&s)&&((l=(15&c)<<18|(63&o)<<12|(63&i)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,u=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),a+=u}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==a.Bytes)return e.push(this.readVarint(t));var n=c(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==a.Bytes)return e.push(this.readSVarint());var t=c(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==a.Bytes)return e.push(this.readBoolean());var t=c(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==a.Bytes)return e.push(this.readFloat());var t=c(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==a.Bytes)return e.push(this.readDouble());var t=c(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==a.Bytes)return e.push(this.readFixed32());var t=c(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==a.Bytes)return e.push(this.readSFixed32());var t=c(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==a.Bytes)return e.push(this.readFixed64());var t=c(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==a.Bytes)return e.push(this.readSFixed64());var t=c(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===a.Varint)for(;this.buf[this.pos++]>127;);else if(t===a.Bytes)this.pos=this.readVarint()+this.pos;else if(t===a.Fixed32)this.pos+=4;else{if(t!==a.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),E(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),E(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),E(this.buf,-1&e,this.pos),E(this.buf,Math.floor(e*i),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),E(this.buf,-1&e,this.pos),E(this.buf,Math.floor(e*i),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0));if(e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}(n,0,t),function(e,t){var n=(7&e)<<4;if(t.buf[t.pos++]|=n|((e>>>=3)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;t.buf[t.pos++]=127&e}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,a,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!a){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):a=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,a=r;continue}r=a-55296<<10|r-56320|65536,a=null}else a&&(e[n++]=239,e[n++]=191,e[n++]=189,a=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&u(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),r.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),r.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&u(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,a.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,d,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,p,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,h,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,f,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,m,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,g,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,v,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,_,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,y,t)},writeBytesField:function(e,t){this.writeTag(e,a.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,a.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,a.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,a.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,a.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,a.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,a.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,a.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,a.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,a.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},"./node_modules/@amzn/dvui/dist/Expander.js":function(e,t,n){var r,a,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};n("./node_modules/@amzn/dvui/dist/Expander.css"),"undefined"!=typeof self&&self,a=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/components/Expander/Expander.tsx")}({"./node_modules/classnames/index.js":function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},"./src/common/Tracker.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveTracker=t.Tracker=void 0;var r=function(){var e=this;this.queue=[],this.csm_is_loaded=!1,this.csm_check_count=0,this.add=function(){return Date.now()},this.componentMount=function(t,n){e.csm_is_loaded?e._logLoadTime(t,n):e.queue.push([t,n])},this._whenCSMLoads=function(){if("undefined"!=typeof window)var t=window.setInterval((function(){window.ue&&(e.csm_is_loaded=!0,e.queue.forEach((function(t){return e._logLoadTime.apply(e,t)})),e.queue=[]),e.csm_check_count++,(e.csm_check_count>=600||e.csm_is_loaded)&&window.clearInterval(t)}),100)},this._logLoadTime=function(e,t){window.ue.count("DVUI:"+e,Date.now()-t)},this._whenCSMLoads()};t.Tracker=r,t.ActiveTracker=new r},"./src/common/baseProps.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baseProps=void 0,t.baseProps=function(e){var t={};return e.testID&&(t["data-automation-id"]=e.testID,t["data-testid"]=e.testID),t}},"./src/common/extractClassNamesFromProps.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractClassNamesFromProps=t.extractClassObjectFromProps=t.BaseComponentProps=void 0;var r=n("./node_modules/classnames/index.js"),a=n("./src/common/baseProps.ts");Object.defineProperty(t,"BaseComponentProps",{enumerable:!0,get:function(){return a.BaseComponentProps}}),t.extractClassObjectFromProps=function(e){var t={};return e.className&&(t[e.className]=!0),t},t.extractClassNamesFromProps=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return r.apply(void 0,s(s([],n),[t.extractClassObjectFromProps(e)]))}},"./src/components/Expander/Expander.module.scss":function(e,t,n){e.exports={expander:"mlmPSf",checkbox:"wgGFDs",label:"_1W5VSv",lines1:"_1gFLpG",lines2:"_19hYO2",lines3:"e8yjMf",lines4:"_1wxob_",lines5:"Edo3AB",contentWrapper:"_3qsVvm","expand-ellipsis":"_2BIfcJ"}},"./src/components/Expander/Expander.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Expander=void 0;var r=n("react"),a=n("./node_modules/classnames/index.js"),i=n("./src/common/extractClassNamesFromProps.ts"),s=n("./src/common/baseProps.ts"),c=n("./src/utils/utils.ts"),l=n("./src/common/Tracker.ts"),u=n("./src/components/Expander/Expander.module.scss"),d=function(e){function t(t){var n=e.call(this,t)||this;return n.displayName="Expander",n.tracker=l.ActiveTracker.add(),n.expand=n.expand.bind(n),n.state={isExpanded:t.isExpanded||!1},n}return o(t,e),t.prototype.componentDidMount=function(){l.ActiveTracker.componentMount(this.displayName,this.tracker)},t.prototype.expand=function(){this.setState({isExpanded:!0})},t.prototype.render=function(){var e=!1;this.state&&(e=this.state.isExpanded||!1);var t=this.props,n=i.extractClassNamesFromProps(t,u.expander),o=t.numOfLines,l=void 0===o?1:o,d=t.uniqueId,p=a(u.contentWrapper,u["lines"+l]),f=d||c.uniqueId(),m=a(u.label,e?"":u["cursor-pointer"]);return r.createElement("div",Object.assign({},s.baseProps(t),{className:n}),r.createElement("input",{id:f,className:u.checkbox,type:"checkbox",checked:e,disabled:e,onChange:this.expand}),r.createElement("label",{htmlFor:f,className:m,onClick:this.expand}),r.createElement("div",{className:p},t.children))},t}(r.Component);t.Expander=d},"./src/utils/debounce.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0,t.debounce=function(e,t){void 0===t&&(t=250);var n=null;return function(){for(var r=this,a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout((function(){Reflect.apply(e,r,a)}),t)}},t.default=t.debounce},"./src/utils/utils.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueId=t.firstResult=t.attributesToString=t.htmlEscape=t.createEscaper=t.camelToDashed=t.camelToDataAttrs=t.debounce=void 0;var r=n("./src/utils/debounce.ts");function a(e){return e&&"string"==typeof e?e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})):(console.warn("function [camelToDashed] : invalid camel case"),"")}Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return r.debounce}}),t.camelToDataAttrs=function(e){return Object.keys(e).reduce((function(t,n){var r;return i(((r={})["data-"+a(n)]=e[n],r),t)}),{})},t.camelToDashed=a,t.createEscaper=function(e){void 0===e&&(e={});var t=function(t){var n=e[t];return"object"==typeof n&&n&&n.replacement?n.replacement:n},n="(?:"+Object.keys(e).map((function(t){var n=e[t];return"object"==typeof n&&n&&n.regex?n.regex:t})).join("|")+")",r=RegExp(n),a=RegExp(n,"g");return function(e){var n=null==e?"":""+e;return r.test(n)?n.replace(a,t):n}},t.htmlEscape=t.createEscaper({"&":{regex:"&(?!(lt;|gt;|amp;|#123;|#125;))",replacement:"&amp;"},"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"});var o={href:function(e){return e}},c=function(e,n){return o[e]?o[e](n):t.htmlEscape(n)};t.attributesToString=function(e){if("object"!=typeof e||null===e)return"";var n=Object.keys(e).reduce((function(n,r){return s(s([],n),[[t.htmlEscape(r),'="',c(r,e[r]),'"'].join("")])}),[]);return n.length?" "+n.join(" "):""},t.firstResult=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;n++){var r="function"==typeof e[n]&&e[n]();if(void 0!==r&&!1!==r&&null!==r)return r}},t.uniqueId=function(){return Math.random().toString(36).slice(2)}},react:function(t,n){t.exports=e}})},e.exports=a(n("./node_modules/react/index.js"))},"./node_modules/@amzn/dvui/dist/Icons/Add.js":function(e,t,n){var r,a,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});n("./node_modules/@amzn/dvui/dist/Icons/Add.css"),"undefined"!=typeof self&&self,a=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/components/Icons/Add.tsx")}({"./node_modules/classnames/index.js":function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},"./src/common/Tracker.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveTracker=t.Tracker=void 0;var r=function(){var e=this;this.queue=[],this.csm_is_loaded=!1,this.csm_check_count=0,this.add=function(){return Date.now()},this.componentMount=function(t,n){e.csm_is_loaded?e._logLoadTime(t,n):e.queue.push([t,n])},this._whenCSMLoads=function(){if("undefined"!=typeof window)var t=window.setInterval((function(){window.ue&&(e.csm_is_loaded=!0,e.queue.forEach((function(t){return e._logLoadTime.apply(e,t)})),e.queue=[]),e.csm_check_count++,(e.csm_check_count>=600||e.csm_is_loaded)&&window.clearInterval(t)}),100)},this._logLoadTime=function(e,t){window.ue.count("DVUI:"+e,Date.now()-t)},this._whenCSMLoads()};t.Tracker=r,t.ActiveTracker=new r},"./src/components/Icons/Add.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Add=void 0;var r=n("react"),a=n("./node_modules/classnames/index.js"),i=n("./src/common/Tracker.ts"),s=n("./src/components/Icons/Icons.module.scss"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.displayName="IconAdd",n.tracker=i.ActiveTracker.add(),n}return o(t,e),t.prototype.componentDidMount=function(){i.ActiveTracker.componentMount("Icon:Add",this.tracker)},t.prototype.render=function(){return r.createElement("svg",{className:a(s.icon,s.Add),viewBox:"0 0 24 24",height:"24",width:"24",role:"img",style:{height:this.props.height||"24",width:this.props.width||"24"},"aria-hidden":"true"},r.createElement("title",null,this.props.title||"Add"),r.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},r.createElement("title",null,this.props.title||"Add"),r.createElement("path",{d:"M3 12h18m-9 9V3",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round"})),"")},t}(r.Component);t.Add=c,t.default=c},"./src/components/Icons/Icons.module.scss":function(e,t,n){e.exports={icon:"_22qEau"}},react:function(t,n){t.exports=e}})},e.exports=a(n("./node_modules/react/index.js"))},"./node_modules/@amzn/dvui/dist/Icons/Edit.js":function(e,t,n){var r,a,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});n("./node_modules/@amzn/dvui/dist/Icons/Edit.css"),"undefined"!=typeof self&&self,a=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/components/Icons/Edit.tsx")}({"./node_modules/classnames/index.js":function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},"./src/common/Tracker.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveTracker=t.Tracker=void 0;var r=function(){var e=this;this.queue=[],this.csm_is_loaded=!1,this.csm_check_count=0,this.add=function(){return Date.now()},this.componentMount=function(t,n){e.csm_is_loaded?e._logLoadTime(t,n):e.queue.push([t,n])},this._whenCSMLoads=function(){if("undefined"!=typeof window)var t=window.setInterval((function(){window.ue&&(e.csm_is_loaded=!0,e.queue.forEach((function(t){return e._logLoadTime.apply(e,t)})),e.queue=[]),e.csm_check_count++,(e.csm_check_count>=600||e.csm_is_loaded)&&window.clearInterval(t)}),100)},this._logLoadTime=function(e,t){window.ue.count("DVUI:"+e,Date.now()-t)},this._whenCSMLoads()};t.Tracker=r,t.ActiveTracker=new r},"./src/components/Icons/Edit.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Edit=void 0;var r=n("react"),a=n("./node_modules/classnames/index.js"),i=n("./src/common/Tracker.ts"),s=n("./src/components/Icons/Icons.module.scss"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.displayName="IconEdit",n.tracker=i.ActiveTracker.add(),n}return o(t,e),t.prototype.componentDidMount=function(){i.ActiveTracker.componentMount("Icon:Edit",this.tracker)},t.prototype.render=function(){return r.createElement("svg",{className:a(s.icon,s.Edit),viewBox:"0 0 24 24",height:"24",width:"24",role:"img",style:{height:this.props.height||"24",width:this.props.width||"24"},"aria-hidden":"true"},r.createElement("title",null,this.props.title||"Edit"),r.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},r.createElement("title",null,this.props.title||"Edit"),r.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeWidth:"2"},r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.87 3L3 17v4h4L22 7.09z"}),r.createElement("path",{d:"M15 7l3 3"}))),"")},t}(r.Component);t.Edit=c,t.default=c},"./src/components/Icons/Icons.module.scss":function(e,t,n){e.exports={icon:"_22qEau"}},react:function(t,n){t.exports=e}})},e.exports=a(n("./node_modules/react/index.js"))},"./node_modules/@amzn/dvui/dist/Icons/Help.js":function(e,t,n){var r,a,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});n("./node_modules/@amzn/dvui/dist/Icons/Help.css"),"undefined"!=typeof self&&self,a=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/components/Icons/Help.tsx")}({"./node_modules/classnames/index.js":function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},"./src/common/Tracker.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveTracker=t.Tracker=void 0;var r=function(){var e=this;this.queue=[],this.csm_is_loaded=!1,this.csm_check_count=0,this.add=function(){return Date.now()},this.componentMount=function(t,n){e.csm_is_loaded?e._logLoadTime(t,n):e.queue.push([t,n])},this._whenCSMLoads=function(){if("undefined"!=typeof window)var t=window.setInterval((function(){window.ue&&(e.csm_is_loaded=!0,e.queue.forEach((function(t){return e._logLoadTime.apply(e,t)})),e.queue=[]),e.csm_check_count++,(e.csm_check_count>=600||e.csm_is_loaded)&&window.clearInterval(t)}),100)},this._logLoadTime=function(e,t){window.ue.count("DVUI:"+e,Date.now()-t)},this._whenCSMLoads()};t.Tracker=r,t.ActiveTracker=new r},"./src/components/Icons/Help.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Help=void 0;var r=n("react"),a=n("./node_modules/classnames/index.js"),i=n("./src/common/Tracker.ts"),s=n("./src/components/Icons/Icons.module.scss"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.displayName="IconHelp",n.tracker=i.ActiveTracker.add(),n}return o(t,e),t.prototype.componentDidMount=function(){i.ActiveTracker.componentMount("Icon:Help",this.tracker)},t.prototype.render=function(){return r.createElement("svg",{className:a(s.icon,s.Help),viewBox:"0 0 24 24",height:"24",width:"24",role:"img",style:{height:this.props.height||"24",width:this.props.width||"24"},"aria-hidden":"true"},r.createElement("title",null,this.props.title||"Help"),r.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},r.createElement("title",null,this.props.title||"Help"),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M11 18v-2h2v2h-2zm1-12c3.401 0 4 1.757 4 2.925 0 1.47-.627 1.88-1.4 2.38-.774.485-1.438 1.061-1.6 1.954l-.072.741H11v-.846c.108-1.32.681-1.716 1.4-2.186.703-.469 1.6-1.013 1.6-1.83 0-.925-1.046-1.454-2-1.454-1.296 0-1.982 1.03-2 2.105H8C8.054 7.623 9.372 6 12 6z",fill:"currentColor"}),r.createElement("circle",{stroke:"currentColor",strokeWidth:"2",cx:"12",cy:"12",r:"9"}))),"")},t}(r.Component);t.Help=c,t.default=c},"./src/components/Icons/Icons.module.scss":function(e,t,n){e.exports={icon:"_22qEau"}},react:function(t,n){t.exports=e}})},e.exports=a(n("./node_modules/react/index.js"))},"./node_modules/@amzn/dvui/dist/Icons/Lightbulb.js":function(e,t,n){var r,a,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});n("./node_modules/@amzn/dvui/dist/Icons/Lightbulb.css"),"undefined"!=typeof self&&self,a=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/components/Icons/Lightbulb.tsx")}({"./node_modules/classnames/index.js":function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},"./src/common/Tracker.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveTracker=t.Tracker=void 0;var r=function(){var e=this;this.queue=[],this.csm_is_loaded=!1,this.csm_check_count=0,this.add=function(){return Date.now()},this.componentMount=function(t,n){e.csm_is_loaded?e._logLoadTime(t,n):e.queue.push([t,n])},this._whenCSMLoads=function(){if("undefined"!=typeof window)var t=window.setInterval((function(){window.ue&&(e.csm_is_loaded=!0,e.queue.forEach((function(t){return e._logLoadTime.apply(e,t)})),e.queue=[]),e.csm_check_count++,(e.csm_check_count>=600||e.csm_is_loaded)&&window.clearInterval(t)}),100)},this._logLoadTime=function(e,t){window.ue.count("DVUI:"+e,Date.now()-t)},this._whenCSMLoads()};t.Tracker=r,t.ActiveTracker=new r},"./src/components/Icons/Icons.module.scss":function(e,t,n){e.exports={icon:"_22qEau"}},"./src/components/Icons/Lightbulb.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lightbulb=void 0;var r=n("react"),a=n("./node_modules/classnames/index.js"),i=n("./src/common/Tracker.ts"),s=n("./src/components/Icons/Icons.module.scss"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.displayName="IconLightbulb",n.tracker=i.ActiveTracker.add(),n}return o(t,e),t.prototype.componentDidMount=function(){i.ActiveTracker.componentMount("Icon:Lightbulb",this.tracker)},t.prototype.render=function(){return r.createElement("svg",{className:a(s.icon,s.Lightbulb),viewBox:"0 0 24 27",height:"27",width:"24",role:"img",style:{height:this.props.height||"27",width:this.props.width||"24"},"aria-hidden":"true"},r.createElement("title",null,this.props.title||"Lightbulb"),r.createElement("svg",{width:"24",height:"27",xmlns:"http://www.w3.org/2000/svg"},r.createElement("title",null,this.props.title||"Lightbulb"),r.createElement("g",{strokeWidth:"2",fill:"none",fillRule:"evenodd"},r.createElement("g",{stroke:"currentColor"},r.createElement("path",{d:"M12 6c1.71 0 6 .9 6 6.3 0 5.4-3.43 8.18-3.43 8.18v3.62l-.86.9H12m0-19c-1.71 0-6 .9-6 6.3 0 5.4 3.43 8.18 3.43 8.18v3.62l.86.9H12",strokeLinecap:"round"}),r.createElement("path",{d:"M7 18h9M9 21h6"})),r.createElement("g",{strokeLinecap:"round"},r.createElement("path",{stroke:"currentColor",d:"M2 12h1M21 12h1"})),r.createElement("g",{stroke:"currentColor",strokeLinecap:"round"},r.createElement("path",{d:"M3 5l.63.64M20.37 18.37L21 19"})),r.createElement("g",{stroke:"currentColor",strokeLinecap:"round"},r.createElement("path",{d:"M3 19l.63-.63M20.37 5.64L21 5"})))),"")},t}(r.Component);t.Lightbulb=c,t.default=c},react:function(t,n){t.exports=e}})},e.exports=a(n("./node_modules/react/index.js"))},"./node_modules/@amzn/dvui/dist/Icons/LinkArrow.js":function(e,t,n){var r,a,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});n("./node_modules/@amzn/dvui/dist/Icons/LinkArrow.css"),"undefined"!=typeof self&&self,a=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/components/Icons/LinkArrow.tsx")}({"./node_modules/classnames/index.js":function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},"./src/common/Tracker.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveTracker=t.Tracker=void 0;var r=function(){var e=this;this.queue=[],this.csm_is_loaded=!1,this.csm_check_count=0,this.add=function(){return Date.now()},this.componentMount=function(t,n){e.csm_is_loaded?e._logLoadTime(t,n):e.queue.push([t,n])},this._whenCSMLoads=function(){if("undefined"!=typeof window)var t=window.setInterval((function(){window.ue&&(e.csm_is_loaded=!0,e.queue.forEach((function(t){return e._logLoadTime.apply(e,t)})),e.queue=[]),e.csm_check_count++,(e.csm_check_count>=600||e.csm_is_loaded)&&window.clearInterval(t)}),100)},this._logLoadTime=function(e,t){window.ue.count("DVUI:"+e,Date.now()-t)},this._whenCSMLoads()};t.Tracker=r,t.ActiveTracker=new r},"./src/components/Icons/Icons.module.scss":function(e,t,n){e.exports={icon:"_22qEau"}},"./src/components/Icons/LinkArrow.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkArrow=void 0;var r=n("react"),a=n("./node_modules/classnames/index.js"),i=n("./src/common/Tracker.ts"),s=n("./src/components/Icons/Icons.module.scss"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.displayName="IconLinkArrow",n.tracker=i.ActiveTracker.add(),n}return o(t,e),t.prototype.componentDidMount=function(){i.ActiveTracker.componentMount("Icon:LinkArrow",this.tracker)},t.prototype.render=function(){return r.createElement("svg",{className:a(s.icon,s.LinkArrow),viewBox:"0 0 24 24",height:"24",width:"24",role:"img",style:{height:this.props.height||"24",width:this.props.width||"24"},"aria-hidden":"true"},r.createElement("title",null,this.props.title||"Link Arrow"),r.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},r.createElement("title",null,this.props.title||"Link Arrow"),r.createElement("path",{stroke:"currentColor",strokeWidth:"2",d:"M9.5 17.5l5-5-5-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})),"")},t}(r.Component);t.LinkArrow=c,t.default=c},react:function(t,n){t.exports=e}})},e.exports=a(n("./node_modules/react/index.js"))},"./node_modules/@amzn/dvui/dist/Icons/LogoPrimevideoApp.js":function(e,t,n){var r,a,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});n("./node_modules/@amzn/dvui/dist/Icons/LogoPrimevideoApp.css"),"undefined"!=typeof self&&self,a=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/components/Icons/LogoPrimevideoApp.tsx")}({"./node_modules/classnames/index.js":function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},"./src/common/Tracker.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveTracker=t.Tracker=void 0;var r=function(){var e=this;this.queue=[],this.csm_is_loaded=!1,this.csm_check_count=0,this.add=function(){return Date.now()},this.componentMount=function(t,n){e.csm_is_loaded?e._logLoadTime(t,n):e.queue.push([t,n])},this._whenCSMLoads=function(){if("undefined"!=typeof window)var t=window.setInterval((function(){window.ue&&(e.csm_is_loaded=!0,e.queue.forEach((function(t){return e._logLoadTime.apply(e,t)})),e.queue=[]),e.csm_check_count++,(e.csm_check_count>=600||e.csm_is_loaded)&&window.clearInterval(t)}),100)},this._logLoadTime=function(e,t){window.ue.count("DVUI:"+e,Date.now()-t)},this._whenCSMLoads()};t.Tracker=r,t.ActiveTracker=new r},"./src/components/Icons/Icons.module.scss":function(e,t,n){e.exports={icon:"_22qEau"}},"./src/components/Icons/LogoPrimevideoApp.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogoPrimevideoApp=void 0;var r=n("react"),a=n("./node_modules/classnames/index.js"),i=n("./src/common/Tracker.ts"),s=n("./src/components/Icons/Icons.module.scss"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.displayName="IconLogoPrimevideoApp",n.tracker=i.ActiveTracker.add(),n}return o(t,e),t.prototype.componentDidMount=function(){i.ActiveTracker.componentMount("Icon:LogoPrimevideoApp",this.tracker)},t.prototype.render=function(){return r.createElement("svg",{className:a(s.icon,s.LogoPrimevideoApp),viewBox:"0 0 100 100",height:"100",width:"100",role:"img",style:{height:this.props.height||"100",width:this.props.width||"100"},"aria-hidden":"true"},r.createElement("title",null,this.props.title||"Logo Primevideo App"),r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 100 100"},r.createElement("title",null,this.props.title||"Logo Primevideo App"),r.createElement("defs",null,r.createElement("linearGradient",{id:"logo_primevideo_app_b",gradientUnits:"userSpaceOnUse",x1:"0",y1:"0",x2:"1",y2:"0",gradientTransform:"matrix(-132.931478,132.931478,-132.931478,-132.931478,156.342589,-56.341663)"},r.createElement("stop",{offset:"0",stopColor:"#f6f6f6"}),r.createElement("stop",{offset:".281",stopColor:"#90dae5"}),r.createElement("stop",{offset:".636",stopColor:"#4aa6e1"}),r.createElement("stop",{offset:"1",stopColor:"#202e5c"})),r.createElement("clipPath",{id:"logo_primevideo_app_a"},r.createElement("path",{d:"M78.227 100H21.773C9.75 100 0 90.25 0 78.227V21.773C0 9.75 9.75 0 21.773 0h56.454C90.25 0 100 9.75 100 21.773v56.454C100 90.25 90.25 100 78.227 100zm0 0"}))),r.createElement("g",{"clip-path":"url(#logo_primevideo_app_a)"},r.createElement("path",{d:"M78.227 100H21.773C9.75 100 0 90.25 0 78.227V21.773C0 9.75 9.75 0 21.773 0h56.454C90.25 0 100 9.75 100 21.773v56.454C100 90.25 90.25 100 78.227 100",fill:"url(#logo_primevideo_app_b)"})),r.createElement("path",{d:"M24.05 60.984c.075.09.165.157.274.2.106.043.246.062.41.062h2.16c.184 0 .325-.02.422-.062a.68.68 0 00.262-.2 1.55 1.55 0 00.211-.39l4.25-11.13c.047-.132.09-.245.121-.347a.837.837 0 00.05-.277c0-.246-.163-.371-.495-.371h-2.41c-.266 0-.457.047-.582.148-.125.098-.22.266-.285.5l-2.61 8.852-2.558-8.852c-.067-.234-.165-.402-.286-.5-.125-.101-.32-.148-.586-.148h-2.484c-.332 0-.496.125-.496.37 0 .087.016.177.05.278.032.102.075.215.122.348l4.25 11.129c.066.168.137.297.21.39zm10.106-24.199h2.266c.219 0 .371-.047.46-.14.087-.094.13-.243.13-.45v-7.914c.363-.156.8-.285 1.32-.39.52-.102.961-.153 1.32-.153.266 0 .489.008.66.024.172.015.317.023.426.023.219 0 .375-.047.461-.14.086-.094.13-.243.13-.45V25.22c0-.219-.048-.371-.145-.461-.09-.086-.25-.13-.47-.13h-.331c-.63 0-1.219.145-1.778.434-.558.293-1.156.786-1.78 1.477l-.31-1.273c-.078-.348-.296-.52-.66-.52h-1.699c-.203 0-.351.043-.445.129-.098.09-.145.242-.145.46v10.86c0 .207.047.356.145.45.094.093.242.14.445.14zm9.5 18.035c0 1.332.227 2.325.684 2.973.457.652 1.156.977 2.101.977.793 0 1.555-.235 2.286-.7V51.47c-.715-.418-1.536-.625-2.461-.625-.88 0-1.532.328-1.961.988-.434.656-.649 1.652-.649 2.988zm-3.676.098c0-2.066.489-3.723 1.465-4.965.977-1.242 2.27-1.863 3.875-1.863 1.309 0 2.446.379 3.407 1.129v-5.856c0-.23.046-.394.148-.484.098-.094.254-.14.469-.14h2.386c.235 0 .395.046.485.14.09.09.137.254.137.484v17.258c0 .215-.047.375-.137.473-.09.101-.25.152-.485.152h-1.988c-.199 0-.351-.043-.457-.125-.11-.082-.187-.226-.238-.426l-.149-.574c-1.027.934-2.242 1.399-3.652 1.399-1.074 0-2.012-.278-2.809-.836-.792-.559-1.402-1.336-1.824-2.325-.422-.992-.633-2.14-.633-3.441zm20.422-1.14c.825 0 1.426-.126 1.797-.38.375-.253.563-.64.563-1.164 0-1.03-.61-1.547-1.825-1.547-1.558 0-2.457.965-2.699 2.895.649.133 1.371.195 2.164.195zm.196 2.206c-.926 0-1.727-.09-2.41-.27.097 1.099.425 1.884.988 2.356.558.473 1.402.711 2.539.711.453 0 .894-.027 1.328-.086.426-.058 1.023-.183 1.785-.379a.825.825 0 01.266-.05c.277 0 .414.187.414.566v1.129c0 .258-.035.441-.11.55-.074.106-.214.2-.425.282a10.377 10.377 0 01-3.77.684c-2.012 0-3.555-.551-4.633-1.664-1.074-1.114-1.617-2.708-1.617-4.786 0-2.125.555-3.793 1.656-5 1.102-1.21 2.633-1.816 4.594-1.816 1.508 0 2.688.367 3.54 1.102.85.734 1.277 1.718 1.277 2.945 0 1.226-.461 2.152-1.375 2.781-.915.633-2.266.945-4.047.945zm11.09-1.14c0 2.652.87 3.976 2.609 3.976 1.738 0 2.61-1.324 2.61-3.976 0-2.633-.872-3.953-2.61-3.953s-2.61 1.32-2.61 3.953zm-2.012 4.988c-1.11-1.191-1.664-2.855-1.664-4.988 0-2.117.554-3.774 1.664-4.965 1.11-1.191 2.652-1.79 4.62-1.79 1.974 0 3.513.599 4.622 1.79 1.11 1.191 1.664 2.848 1.664 4.965 0 2.133-.555 3.797-1.664 4.988-1.11 1.191-2.648 1.79-4.621 1.79-1.969 0-3.512-.599-4.621-1.79zm-32.38-16.719c-.378-.347-.886-.523-1.515-.523-.629 0-1.133.176-1.515.523-.38.352-.57.828-.57 1.426 0 .602.19 1.074.57 1.426.382.351.886.527 1.515.527.63 0 1.137-.176 1.516-.527.383-.352.57-.824.57-1.426 0-.598-.187-1.074-.57-1.426zM34.59 48.47c-.215 0-.371.043-.473.136-.097.09-.148.254-.148.489V60.62c0 .215.05.375.148.473.102.101.258.152.473.152h2.383c.234 0 .394-.05.484-.152.094-.098.14-.258.14-.473V49.094c0-.235-.046-.399-.14-.489-.09-.093-.25-.136-.484-.136zm39.144-20.89c-.441.464-.722 1.16-.84 2.093.149.031.301.055.458.078.503.074 1.05.11 1.64.11.801 0 1.387-.122 1.746-.364.364-.242.543-.617.543-1.121 0-.988-.59-1.484-1.77-1.484-.75 0-1.34.23-1.777.687zm-4.023 3.483c0-1.789.41-3.238 1.227-4.347.117-.16.242-.313.378-.457.063-.07.133-.133.204-.2 1.05-1.027 2.464-1.546 4.25-1.546 1.464 0 2.609.351 3.433 1.058.512.442.863.97 1.059 1.59.12.38.18.793.18 1.238 0 .887-.25 1.61-.75 2.168-.169.188-.36.356-.583.508-.46.317-1.043.547-1.734.696-.633.14-1.363.21-2.191.21-.473 0-.91-.023-1.317-.074a6.884 6.884 0 01-1.02-.183c.028.308.075.586.141.84.16.624.43 1.097.817 1.421.222.188.5.336.82.446.453.156 1 .238 1.645.238.437 0 .867-.027 1.285-.086.414-.05.992-.176 1.73-.363.028-.008.059-.012.086-.02.02-.004.04-.011.059-.015a.697.697 0 01.117-.012c.066 0 .125.012.176.035.148.066.222.238.222.508v1.082c0 .21-.023.363-.074.469a.234.234 0 01-.031.062c-.059.086-.168.164-.32.23a.674.674 0 01-.094.04c-1.145.441-2.364.66-3.656.66-1.95 0-3.446-.531-4.493-1.602a5.007 5.007 0 01-.953-1.398 5.709 5.709 0 01-.297-.813c-.207-.707-.316-1.496-.316-2.383zm-20.215 5.7c.047.05.11.086.184.11a.902.902 0 00.265.03h2.266c.219 0 .371-.043.46-.14a.442.442 0 00.083-.16.853.853 0 00.047-.286V27.79c.144-.074.297-.133.445-.195a5.624 5.624 0 012.149-.442c.957 0 1.437.535 1.437 1.602v7.562c0 .172.043.297.11.391.011.016.019.043.035.055a.4.4 0 00.18.11.902.902 0 00.265.03h2.266c.218 0 .37-.043.46-.14.086-.094.13-.242.13-.446v-8.554c.863-.407 1.718-.61 2.57-.61.359 0 .652.075.875.227.375.25.562.707.562 1.375v7.562c0 .09.012.164.031.235.008.027.02.05.032.074.023.05.043.102.082.137a.4.4 0 00.18.11.902.902 0 00.265.03h2.266c.218 0 .37-.043.46-.14.087-.094.13-.242.13-.446V28c0-.39-.043-.75-.118-1.078-.14-.598-.402-1.094-.793-1.492-.605-.61-1.457-.918-2.558-.918-.754 0-1.485.117-2.192.355-.101.031-.199.074-.3.113-.336.13-.684.29-1.043.485-.301.164-.606.344-.922.555a2.794 2.794 0 00-1.27-1.165c-.48-.226-1.055-.343-1.726-.343a6.24 6.24 0 00-1.047.086c-.075.011-.145.03-.219.047-.27.054-.535.12-.797.21-.191.063-.39.145-.594.239-.511.226-1.062.531-1.66.926l-.187-.633c-.051-.227-.168-.371-.344-.45a.713.713 0 00-.316-.07h-1.7a.91.91 0 00-.297.047.512.512 0 00-.152.082.242.242 0 00-.059.078c-.003.004-.003.012-.007.016a.764.764 0 00-.075.363v10.863c0 .149.036.254.083.344.019.035.035.078.058.102zm-5.914-11.895c-.203 0-.352.043-.45.13-.093.085-.14.237-.14.456v10.863c0 .204.047.356.14.446.098.093.247.144.45.144h2.266c.218 0 .37-.05.457-.144.09-.09.133-.242.133-.446V25.453c0-.219-.043-.371-.133-.457-.086-.086-.239-.129-.457-.129zm1.133-1.863c.597 0 1.074-.164 1.437-.492.364-.332.543-.778.543-1.344 0-.566-.18-1.016-.543-1.344-.363-.328-.84-.496-1.437-.496-.598 0-1.078.168-1.442.496-.359.328-.539.778-.539 1.344 0 .566.18 1.012.54 1.344.363.328.843.492 1.44.492zM22.887 33.937c.691.422 1.46.637 2.312.637.88 0 1.528-.3 1.946-.894.414-.598.625-1.54.625-2.828 0-1.305-.204-2.254-.614-2.852-.41-.598-1.062-.895-1.957-.895-.82 0-1.59.211-2.312.633zm-3.301 7.692c-.098-.086-.145-.242-.145-.461V25.453c0-.219.047-.371.145-.457.094-.086.242-.129.445-.129h1.7c.363 0 .581.172.66.52l.164.61a5.243 5.243 0 011.71-1.083 5.408 5.408 0 012.044-.402c1.523 0 2.73.558 3.617 1.672.89 1.117 1.332 2.625 1.332 4.527 0 1.3-.219 2.441-.656 3.414-.442.973-1.04 1.723-1.793 2.25-.758.527-1.622.79-2.598.79a5.543 5.543 0 01-1.84-.306 4.514 4.514 0 01-1.484-.847v5.156c0 .219-.043.375-.13.46-.089.087-.241.13-.46.13H20.03c-.203 0-.351-.043-.445-.13zm60.617 25.726c-.351-.464-2-.902-4.039-.902-2.184 0-4.816.5-6.797 1.988 0 .004-.004.004-.004.008-.234.176-.36.38-.383.555v.11c.024.152.133.265.329.296.066.012.14.012.226 0 2.153-.277 6.957-.894 7.813.285.644.88-.207 3.813-1.016 6.137-.273.781-.539 1.492-.742 2.035-.094.254-.07.445.023.563.149.18.473.164.809-.14.027-.028.055-.056.086-.083 2.3-2.121 3.484-5.691 3.824-8.18.184-1.32.125-2.336-.129-2.672zm-5.312 5.18c-1.672 1.328-3.536 2.5-5.52 3.512-5.945 3.035-12.973 4.625-19.242 4.625-11.711 0-22.258-4.66-30.246-12.41a1.112 1.112 0 01-.09-.102.797.797 0 01-.172-.37v-.185l.004-.003a.505.505 0 01.184-.325c.09-.07.199-.117.332-.117.101 0 .218.035.336.094.03.016.062.023.097.043 3.934 2.46 8.293 4.469 12.918 5.93 5.496 1.738 11.367 2.703 17.344 2.703 7.422 0 15.578-1.657 23.082-5.082 1.133-.512 2.078.804.973 1.687",fill:"#f7f8f9"})),"")},t}(r.Component);t.LogoPrimevideoApp=c,t.default=c},react:function(t,n){t.exports=e}})},e.exports=a(n("./node_modules/react/index.js"))},"./node_modules/@amzn/dvui/dist/Icons/PlayArrow.js":function(e,t,n){var r,a,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});n("./node_modules/@amzn/dvui/dist/Icons/PlayArrow.css"),"undefined"!=typeof self&&self,a=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/components/Icons/PlayArrow.tsx")}({"./node_modules/classnames/index.js":function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},"./src/common/Tracker.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveTracker=t.Tracker=void 0;var r=function(){var e=this;this.queue=[],this.csm_is_loaded=!1,this.csm_check_count=0,this.add=function(){return Date.now()},this.componentMount=function(t,n){e.csm_is_loaded?e._logLoadTime(t,n):e.queue.push([t,n])},this._whenCSMLoads=function(){if("undefined"!=typeof window)var t=window.setInterval((function(){window.ue&&(e.csm_is_loaded=!0,e.queue.forEach((function(t){return e._logLoadTime.apply(e,t)})),e.queue=[]),e.csm_check_count++,(e.csm_check_count>=600||e.csm_is_loaded)&&window.clearInterval(t)}),100)},this._logLoadTime=function(e,t){window.ue.count("DVUI:"+e,Date.now()-t)},this._whenCSMLoads()};t.Tracker=r,t.ActiveTracker=new r},"./src/components/Icons/Icons.module.scss":function(e,t,n){e.exports={icon:"_22qEau"}},"./src/components/Icons/PlayArrow.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayArrow=void 0;var r=n("react"),a=n("./node_modules/classnames/index.js"),i=n("./src/common/Tracker.ts"),s=n("./src/components/Icons/Icons.module.scss"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.displayName="IconPlayArrow",n.tracker=i.ActiveTracker.add(),n}return o(t,e),t.prototype.componentDidMount=function(){i.ActiveTracker.componentMount("Icon:PlayArrow",this.tracker)},t.prototype.render=function(){return r.createElement("svg",{className:a(s.icon,s.PlayArrow),viewBox:"0 0 24 24",height:"24",width:"24",role:"img",style:{height:this.props.height||"24",width:this.props.width||"24"},"aria-hidden":"true"},r.createElement("title",null,this.props.title||"Play Arrow"),r.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},r.createElement("title",null,this.props.title||"Play Arrow"),r.createElement("path",{d:"M4.576 2.452C3.71 1.953 3 2.364 3 3.364v17.272c0 1 .71 1.41 1.576.912l15.03-8.642c.867-.498.867-1.314 0-1.812L4.576 2.452z",fill:"currentColor",fillRule:"evenodd"})),"")},t}(r.Component);t.PlayArrow=c,t.default=c},react:function(t,n){t.exports=e}})},e.exports=a(n("./node_modules/react/index.js"))},"./node_modules/@amzn/dvui/dist/Icons/Share.js":function(e,t,n){var r,a,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});n("./node_modules/@amzn/dvui/dist/Icons/Share.css"),"undefined"!=typeof self&&self,a=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/components/Icons/Share.tsx")}({"./node_modules/classnames/index.js":function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},"./src/common/Tracker.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveTracker=t.Tracker=void 0;var r=function(){var e=this;this.queue=[],this.csm_is_loaded=!1,this.csm_check_count=0,this.add=function(){return Date.now()},this.componentMount=function(t,n){e.csm_is_loaded?e._logLoadTime(t,n):e.queue.push([t,n])},this._whenCSMLoads=function(){if("undefined"!=typeof window)var t=window.setInterval((function(){window.ue&&(e.csm_is_loaded=!0,e.queue.forEach((function(t){return e._logLoadTime.apply(e,t)})),e.queue=[]),e.csm_check_count++,(e.csm_check_count>=600||e.csm_is_loaded)&&window.clearInterval(t)}),100)},this._logLoadTime=function(e,t){window.ue.count("DVUI:"+e,Date.now()-t)},this._whenCSMLoads()};t.Tracker=r,t.ActiveTracker=new r},"./src/components/Icons/Icons.module.scss":function(e,t,n){e.exports={icon:"_22qEau"}},"./src/components/Icons/Share.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Share=void 0;var r=n("react"),a=n("./node_modules/classnames/index.js"),i=n("./src/common/Tracker.ts"),s=n("./src/components/Icons/Icons.module.scss"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.displayName="IconShare",n.tracker=i.ActiveTracker.add(),n}return o(t,e),t.prototype.componentDidMount=function(){i.ActiveTracker.componentMount("Icon:Share",this.tracker)},t.prototype.render=function(){return r.createElement("svg",{className:a(s.icon,s.Share),viewBox:"0 0 24 24",height:"24",width:"24",role:"img",style:{height:this.props.height||"24",width:this.props.width||"24"},"aria-hidden":"true"},r.createElement("title",null,this.props.title||"Share"),r.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},r.createElement("title",null,this.props.title||"Share"),r.createElement("path",{d:"M6 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm12-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0 12a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-3-4l-7-3m7-7l-7 3",stroke:"currentColor",strokeWidth:"2",fill:"none"})),"")},t}(r.Component);t.Share=c,t.default=c},react:function(t,n){t.exports=e}})},e.exports=a(n("./node_modules/react/index.js"))},"./node_modules/@amzn/dvui/dist/Icons/Trailer.js":function(e,t,n){var r,a,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});n("./node_modules/@amzn/dvui/dist/Icons/Trailer.css"),"undefined"!=typeof self&&self,a=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/components/Icons/Trailer.tsx")}({"./node_modules/classnames/index.js":function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},"./src/common/Tracker.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveTracker=t.Tracker=void 0;var r=function(){var e=this;this.queue=[],this.csm_is_loaded=!1,this.csm_check_count=0,this.add=function(){return Date.now()},this.componentMount=function(t,n){e.csm_is_loaded?e._logLoadTime(t,n):e.queue.push([t,n])},this._whenCSMLoads=function(){if("undefined"!=typeof window)var t=window.setInterval((function(){window.ue&&(e.csm_is_loaded=!0,e.queue.forEach((function(t){return e._logLoadTime.apply(e,t)})),e.queue=[]),e.csm_check_count++,(e.csm_check_count>=600||e.csm_is_loaded)&&window.clearInterval(t)}),100)},this._logLoadTime=function(e,t){window.ue.count("DVUI:"+e,Date.now()-t)},this._whenCSMLoads()};t.Tracker=r,t.ActiveTracker=new r},"./src/components/Icons/Icons.module.scss":function(e,t,n){e.exports={icon:"_22qEau"}},"./src/components/Icons/Trailer.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Trailer=void 0;var r=n("react"),a=n("./node_modules/classnames/index.js"),i=n("./src/common/Tracker.ts"),s=n("./src/components/Icons/Icons.module.scss"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.displayName="IconTrailer",n.tracker=i.ActiveTracker.add(),n}return o(t,e),t.prototype.componentDidMount=function(){i.ActiveTracker.componentMount("Icon:Trailer",this.tracker)},t.prototype.render=function(){return r.createElement("svg",{className:a(s.icon,s.Trailer),viewBox:"0 0 24 24",height:"24",width:"24",role:"img",style:{height:this.props.height||"24",width:this.props.width||"24"},"aria-hidden":"true"},r.createElement("title",null,this.props.title||"Trailer"),r.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},r.createElement("title",null,this.props.title||"Trailer"),r.createElement("path",{d:"M4.078 3.319c-.2-.116-.078-.186-.078.045v17.272c0 .231-.123.16.078.045l15.03-8.641c.197-.115.197.034 0-.08L4.077 3.32z",stroke:"currentColor",strokeWidth:"2",fill:"none"})),"")},t}(r.Component);t.Trailer=c,t.default=c},react:function(t,n){t.exports=e}})},e.exports=a(n("./node_modules/react/index.js"))},"./node_modules/@amzn/dvui/dist/Icons/WatchParty.js":function(e,t,n){var r,a,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});n("./node_modules/@amzn/dvui/dist/Icons/WatchParty.css"),"undefined"!=typeof self&&self,a=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/components/Icons/WatchParty.tsx")}({"./node_modules/classnames/index.js":function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},"./src/common/Tracker.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveTracker=t.Tracker=void 0;var r=function(){var e=this;this.queue=[],this.csm_is_loaded=!1,this.csm_check_count=0,this.add=function(){return Date.now()},this.componentMount=function(t,n){e.csm_is_loaded?e._logLoadTime(t,n):e.queue.push([t,n])},this._whenCSMLoads=function(){if("undefined"!=typeof window)var t=window.setInterval((function(){window.ue&&(e.csm_is_loaded=!0,e.queue.forEach((function(t){return e._logLoadTime.apply(e,t)})),e.queue=[]),e.csm_check_count++,(e.csm_check_count>=600||e.csm_is_loaded)&&window.clearInterval(t)}),100)},this._logLoadTime=function(e,t){window.ue.count("DVUI:"+e,Date.now()-t)},this._whenCSMLoads()};t.Tracker=r,t.ActiveTracker=new r},"./src/components/Icons/Icons.module.scss":function(e,t,n){e.exports={icon:"_22qEau"}},"./src/components/Icons/WatchParty.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WatchParty=void 0;var r=n("react"),a=n("./node_modules/classnames/index.js"),i=n("./src/common/Tracker.ts"),s=n("./src/components/Icons/Icons.module.scss"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.displayName="IconWatchParty",n.tracker=i.ActiveTracker.add(),n}return o(t,e),t.prototype.componentDidMount=function(){i.ActiveTracker.componentMount("Icon:WatchParty",this.tracker)},t.prototype.render=function(){return r.createElement("svg",{className:a(s.icon,s.WatchParty),viewBox:"0 0 24 24",height:"24",width:"24",role:"img",style:{height:this.props.height||"24",width:this.props.width||"24"},"aria-hidden":"true"},r.createElement("title",null,this.props.title||"Watch Party"),r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.createElement("title",null,this.props.title||"Watch Party"),r.createElement("g",{fill:"none",fillRule:"evenodd",transform:"rotate(45 13.621 11.293)"},r.createElement("polygon",{stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",points:"7.362 15.985 12.862 27.985 18.362 15.985"}),r.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.20520683,12.8786797 C7.9841616,11.0305625 7.19297531,10.0986243 6.20520683,9.87867966"}),r.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20.8890873,12.6109127 C20.4469968,9.53071743 18.8646243,7.97748706 16.8890873,7.6109127",transform:"matrix(-1 0 0 1 37.778 0)"}),r.createElement("circle",{cx:"3.316",cy:"7.49",r:"1",fill:"currentColor"}),r.createElement("circle",{cx:"20.657",cy:"11.879",r:"1",fill:"currentColor"}),r.createElement("circle",{cx:"3.316",cy:"11.732",r:"1",fill:"currentColor"}),r.createElement("circle",{cx:"1.195",cy:"9.611",r:"1",fill:"currentColor"}),r.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M12.557293,13.0753788 C14.5891901,10.5746233 14.5891901,4.94159902 11.0953579,4.94159902 C8.22476933,4.94159902 8.63047547,8.5284102 10.8269766,8.5284102 C13.5809029,8.5284102 16.0116573,2.4313965 11.751917,0.0753787975"}))),"")},t}(r.Component);t.WatchParty=c,t.default=c},react:function(t,n){t.exports=e}})},e.exports=a(n("./node_modules/react/index.js"))},"./node_modules/@amzn/dvui/dist/Icons/WatchlistOn.js":function(e,t,n){var r,a,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});n("./node_modules/@amzn/dvui/dist/Icons/WatchlistOn.css"),"undefined"!=typeof self&&self,a=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/components/Icons/WatchlistOn.tsx")}({"./node_modules/classnames/index.js":function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},"./src/common/Tracker.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveTracker=t.Tracker=void 0;var r=function(){var e=this;this.queue=[],this.csm_is_loaded=!1,this.csm_check_count=0,this.add=function(){return Date.now()},this.componentMount=function(t,n){e.csm_is_loaded?e._logLoadTime(t,n):e.queue.push([t,n])},this._whenCSMLoads=function(){if("undefined"!=typeof window)var t=window.setInterval((function(){window.ue&&(e.csm_is_loaded=!0,e.queue.forEach((function(t){return e._logLoadTime.apply(e,t)})),e.queue=[]),e.csm_check_count++,(e.csm_check_count>=600||e.csm_is_loaded)&&window.clearInterval(t)}),100)},this._logLoadTime=function(e,t){window.ue.count("DVUI:"+e,Date.now()-t)},this._whenCSMLoads()};t.Tracker=r,t.ActiveTracker=new r},"./src/components/Icons/Icons.module.scss":function(e,t,n){e.exports={icon:"_22qEau"}},"./src/components/Icons/WatchlistOn.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WatchlistOn=void 0;var r=n("react"),a=n("./node_modules/classnames/index.js"),i=n("./src/common/Tracker.ts"),s=n("./src/components/Icons/Icons.module.scss"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.displayName="IconWatchlistOn",n.tracker=i.ActiveTracker.add(),n}return o(t,e),t.prototype.componentDidMount=function(){i.ActiveTracker.componentMount("Icon:WatchlistOn",this.tracker)},t.prototype.render=function(){return r.createElement("svg",{className:a(s.icon,s.WatchlistOn),viewBox:"0 0 24 24",height:"24",width:"24",role:"img",style:{height:this.props.height||"24",width:this.props.width||"24"},"aria-hidden":"true"},r.createElement("title",null,this.props.title||"Watchlist On"),r.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},r.createElement("title",null,this.props.title||"Watchlist On"),r.createElement("g",{fill:"none",fillRule:"evenodd",strokeLinecap:"round",stroke:"currentColor",strokeWidth:"2"},r.createElement("path",{strokeLinejoin:"round",d:"M10 5H4v16h16v-9"}),r.createElement("path",{d:"M8 17h8m-8-4h8M8 9h3"}),r.createElement("path",{strokeLinejoin:"round",d:"M14 6.286L16.25 9 22 3"}))),"")},t}(r.Component);t.WatchlistOn=c,t.default=c},react:function(t,n){t.exports=e}})},e.exports=a(n("./node_modules/react/index.js"))},"./node_modules/@amzn/dvui/dist/MoreContent.js":function(e,t,n){var r,a,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};n("./node_modules/@amzn/dvui/dist/MoreContent.css"),"undefined"!=typeof self&&self,a=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/components/MoreContent/MoreContent.tsx")}({"./node_modules/classnames/index.js":function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},"./src/common/Tracker.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveTracker=t.Tracker=void 0;var r=function(){var e=this;this.queue=[],this.csm_is_loaded=!1,this.csm_check_count=0,this.add=function(){return Date.now()},this.componentMount=function(t,n){e.csm_is_loaded?e._logLoadTime(t,n):e.queue.push([t,n])},this._whenCSMLoads=function(){if("undefined"!=typeof window)var t=window.setInterval((function(){window.ue&&(e.csm_is_loaded=!0,e.queue.forEach((function(t){return e._logLoadTime.apply(e,t)})),e.queue=[]),e.csm_check_count++,(e.csm_check_count>=600||e.csm_is_loaded)&&window.clearInterval(t)}),100)},this._logLoadTime=function(e,t){window.ue.count("DVUI:"+e,Date.now()-t)},this._whenCSMLoads()};t.Tracker=r,t.ActiveTracker=new r},"./src/common/baseProps.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baseProps=void 0,t.baseProps=function(e){var t={};return e.testID&&(t["data-automation-id"]=e.testID,t["data-testid"]=e.testID),t}},"./src/components/MoreContent/MoreContent.module.scss":function(e,t,n){e.exports={screenreaderonly:"RdpVO2",clearfix:"lpmLZB",moreContent:"Xo7urA","more-item":"_1n3rj7","more-item-input":"_1sRE-V","more-item-hidden":"_1tgwWh"}},"./src/components/MoreContent/MoreContent.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MoreContent=t.MoreItem=void 0;var r=n("react"),a=n("./src/components/MoreContent/MoreContent.module.scss"),i=n("./src/utils/utils.ts"),s=n("./node_modules/classnames/index.js"),c=n("./src/common/baseProps.ts"),l=n("./src/common/Tracker.ts");t.MoreItem=function(e){var t=e.string,n=e.id;return r.createElement(r.Fragment,null,r.createElement("input",{className:a["more-item-input"],type:"checkbox",id:"more-content-toggle-"+n}),r.createElement("label",{className:a["more-item"],htmlFor:"more-content-toggle-"+n},t||"…"))};var u=function(e){function n(t){var n=e.call(this,t)||this;return n.displayName="MoreContent",n.tracker=l.ActiveTracker.add(),n}return o(n,e),n.prototype.componentDidMount=function(){l.ActiveTracker.componentMount(this.displayName,this.tracker)},n.prototype.render=function(){return r.createElement("span",Object.assign({},c.baseProps(this.props),{className:s(a.moreContent,this.props.className)}),this.props.visible,r.createElement(t.MoreItem,{string:this.props.moreString,id:this.props.index||i.uniqueId()}),(Array.isArray(this.props.hidden)?this.props.hidden:[this.props.hidden]).map((function(e,t){return r.createElement("span",{key:t,className:a["more-item-hidden"]},e)})))},n}(r.Component);t.MoreContent=u},"./src/utils/debounce.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0,t.debounce=function(e,t){void 0===t&&(t=250);var n=null;return function(){for(var r=this,a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout((function(){Reflect.apply(e,r,a)}),t)}},t.default=t.debounce},"./src/utils/utils.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueId=t.firstResult=t.attributesToString=t.htmlEscape=t.createEscaper=t.camelToDashed=t.camelToDataAttrs=t.debounce=void 0;var r=n("./src/utils/debounce.ts");function a(e){return e&&"string"==typeof e?e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})):(console.warn("function [camelToDashed] : invalid camel case"),"")}Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return r.debounce}}),t.camelToDataAttrs=function(e){return Object.keys(e).reduce((function(t,n){var r;return i(((r={})["data-"+a(n)]=e[n],r),t)}),{})},t.camelToDashed=a,t.createEscaper=function(e){void 0===e&&(e={});var t=function(t){var n=e[t];return"object"==typeof n&&n&&n.replacement?n.replacement:n},n="(?:"+Object.keys(e).map((function(t){var n=e[t];return"object"==typeof n&&n&&n.regex?n.regex:t})).join("|")+")",r=RegExp(n),a=RegExp(n,"g");return function(e){var n=null==e?"":""+e;return r.test(n)?n.replace(a,t):n}},t.htmlEscape=t.createEscaper({"&":{regex:"&(?!(lt;|gt;|amp;|#123;|#125;))",replacement:"&amp;"},"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"});var o={href:function(e){return e}},c=function(e,n){return o[e]?o[e](n):t.htmlEscape(n)};t.attributesToString=function(e){if("object"!=typeof e||null===e)return"";var n=Object.keys(e).reduce((function(n,r){return s(s([],n),[[t.htmlEscape(r),'="',c(r,e[r]),'"'].join("")])}),[]);return n.length?" "+n.join(" "):""},t.firstResult=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;n++){var r="function"==typeof e[n]&&e[n]();if(void 0!==r&&!1!==r&&null!==r)return r}},t.uniqueId=function(){return Math.random().toString(36).slice(2)}},react:function(t,n){t.exports=e}})},e.exports=a(n("./node_modules/react/index.js"))},"./node_modules/@amzn/dvui/dist/StarRating.js":function(e,t,n){var r,a,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};n("./node_modules/@amzn/dvui/dist/StarRating.css"),"undefined"!=typeof self&&self,a=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/components/StarRating/StarRating.tsx")}({"./node_modules/classnames/index.js":function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},"./src/common/Tracker.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveTracker=t.Tracker=void 0;var r=function(){var e=this;this.queue=[],this.csm_is_loaded=!1,this.csm_check_count=0,this.add=function(){return Date.now()},this.componentMount=function(t,n){e.csm_is_loaded?e._logLoadTime(t,n):e.queue.push([t,n])},this._whenCSMLoads=function(){if("undefined"!=typeof window)var t=window.setInterval((function(){window.ue&&(e.csm_is_loaded=!0,e.queue.forEach((function(t){return e._logLoadTime.apply(e,t)})),e.queue=[]),e.csm_check_count++,(e.csm_check_count>=600||e.csm_is_loaded)&&window.clearInterval(t)}),100)},this._logLoadTime=function(e,t){window.ue.count("DVUI:"+e,Date.now()-t)},this._whenCSMLoads()};t.Tracker=r,t.ActiveTracker=new r},"./src/common/baseProps.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baseProps=void 0,t.baseProps=function(e){var t={};return e.testID&&(t["data-automation-id"]=e.testID,t["data-testid"]=e.testID),t}},"./src/components/StarRating/StarRating.module.scss":function(e,t,n){e.exports={rating:"_2P6ICV",fullStar:"_1UiYYY",halfStar:"_29ls17",emptyStar:"_2tKs5V"}},"./src/components/StarRating/StarRating.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StarRating=t.sanitiseNumber=t.MIN_STARS=t.MAX_STARS=void 0;var r=n("react"),a=n("./node_modules/classnames/index.js"),s=n("./src/common/baseProps.ts"),c=n("./src/common/Tracker.ts"),l=n("./src/components/StarRating/StarRating.module.scss");t.MAX_STARS=5,t.MIN_STARS=.5,t.sanitiseNumber=function(e){return e>t.MAX_STARS?t.MAX_STARS:e<t.MIN_STARS?t.MIN_STARS:Math.round(2*e)/2};var u=function(){return r.createElement("div",{className:a(l.fullStar)})},d=function(){return r.createElement("div",{className:a(l.halfStar)})},p=function(){return r.createElement("div",{className:a(l.emptyStar)})},f=function(e){function n(t){var n=e.call(this,t)||this;return n.displayName="StarRating",n.tracker=c.ActiveTracker.add(),n}return o(n,e),n.prototype.componentDidMount=function(){c.ActiveTracker.componentMount(this.displayName,this.tracker)},n.prototype.render=function(){var e=this.props,n=e.rating,o=e.className,c=e.link,f=t.sanitiseNumber(n),m=f!==Math.round(f),h=Math.floor(f),g=t.MAX_STARS-h-(m?1:0),v=c?"a":"div";return r.createElement(v,Object.assign({},s.baseProps(this.props),{className:a(o,l.rating),href:c}),i([],Array(h)).map((function(e,t){return r.createElement(u,{key:t})})),m&&r.createElement(d,null),i([],Array(g)).map((function(e,t){return r.createElement(p,{key:t})})))},n}(r.Component);t.StarRating=f},react:function(t,n){t.exports=e}})},e.exports=a(n("./node_modules/react/index.js"))},"./src/entrypoints/hydration/detail.tsx":(e,t,n)=>{"use strict";var r,a=n("./src/util/hydration/hydrateWidgets.tsx"),o=n("./src/util/csm/csm.tsx"),i=n("./node_modules/react/index.js"),s=n("./src/util/utils/cache.ts"),c=n("./src/util/api/WPSClient.ts"),l=n("./src/util/api/APIClient.ts"),u=n("./src/util/api/request.ts"),d=n("./src/util/api/services.ts"),p=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};!function(e){e.GetStaticPageContent="getStaticPageContent"}(r||(r={}));var m,h=function(){function e(e){var t=this;void 0===e&&(e=new l.l),this.call=function(e,n,r,a){return p(t,void 0,void 0,(function(){var t,o,i,s,l,d,p,m,h,g;return f(this,(function(f){switch(f.label){case 0:return[3,6];case 1:if(f.trys.push([1,3,,4]),!this.endpoint)throw new Error("Endpoint is invalid");if("https:"!==(p=new t(this.endpoint)).protocol)throw new Error("Given end point protocol '"+p.protocol+"' is incompatible with AuthMode '"+this.api.authentication.authMode+"'. Only https is supported.");return i=p.hostname,[4,this.api.authentication.cloudauthClient.getAccessToken({host:i,realm:"PVStarlightPresentationServiceLambda",scope:"https://aaa.amazon.com/scopes/PVStarlightPresentationServiceLambda#"+e})];case 2:return s=f.sent(),o.Authorization=s.tokenType+" "+s.token,[3,4];case 3:if(l=f.sent(),this.logger.error("Error occurred while generating access token",l),this.api.authentication.authMode===c.vB.ON)throw l;return[3,4];case 4:return d=new t(e,this.endpoint),m=(0,u.By)(this.logger,a.requestID,d.href,n,{name:"PVStarlightPresentationService "+e,requester:"SPSClient",operationType:r,headers:o,timeout:5e3}),[4,(h=this.api).call.apply(h,m)];case 5:return[2,f.sent()];case 6:return p="/gp/video/starlightapi/"+e,m=(0,u.By)(this.logger,a.requestID,p,n,{name:"PVStarlightPresentationService "+e,requester:"SPSClient",operationType:r}),[4,(g=this.api).call.apply(g,m)];case 7:return[2,f.sent()]}}))}))},this.api=e,this.logger=e.logger,null!=e.endpoints&&null!=e.endpoints.serviceEndpoints&&(this.endpoint=e.endpoints.serviceEndpoints[d.K.PVStarlightPresentationServiceLambda])}return e.prototype.GetStaticPageContent=function(e,t){return p(this,void 0,void 0,(function(){return f(this,(function(n){switch(n.label){case 0:return[4,this.call(r.GetStaticPageContent,e,u.C8.READ,t)];case 1:return[2,n.sent()]}}))}))},e}(),g=n("./src/util/utils/strings.ts"),v=n("./node_modules/@amzn/dvui/dist/Text.js");!function(e){e[e.ATF=0]="ATF",e[e.BTF=1]="BTF"}(m||(m={}));var _={bundles:[m.ATF,m.BTF],strings:["DV_TW_title_starring","DV_TW_title_actors","DV_TW_title_producers","DV_TW_title_genres","DV_TW_title_moods_row","DV_TW_title_moods_line","DV_TW_title_subtitles","DV_TW_title_languages","DV_TW_title_directors","DV_TW_title_studio","DV_TW_title_network","DV_TW_title_seasonyear","DV_TW_title_amr","DV_TW_title_content_descriptors","DV_DP_learn_more","DV_DP_ARIA_learn_more_amr","DV_comma_separator","DV_TW_title_purchaserights","DV_TW_title_devices","DV_TW_data_available_to_watch_devices","DV_TW_data_purchaserights_streaming","DV_TW_Detail_text","DV_TW_title_format","DV_TW_data_format_streaming","DV_TW_title_mpaarating","DV_TW_title_bbfcrating","DV_TW_title_fskrating","DV_TW_title_eirinrating","DV_DP_more_details","DV_DP_more_items","DV_brand_av","DV_WEB_DP_popover_purchase_rights","DV_DP_none_available"]},y={bundles:[m.ATF,m.BTF],strings:["DV_MWTW_TITLE","DV_MWTW_TITLE_MAIN"]},b={bundles:[m.ATF,m.BTF],strings:["DV_RBB_CANCEL_PURCH_MODAL_HEADER","DV_RBB_CANCEL_PURCH_MODAL_SUBMIT","DV_AB_CANCEL_ACCIDENTAL_PURCHASE","DV_DP_you_multiple_orders_for_this_title","DV_DP_choose_order_to_cancel"]},E={bundles:[m.BTF],strings:["DV_DP_EL_episode_title_template","DV_DP_EL_bonus_title_template","DV_comma_separator"]},w={bundles:[m.ATF,m.BTF],strings:["AVOD_DP_redeem_gift_card_or_promotion"]},D={bundles:[m.BTF],strings:["DV_DP_unavailable_episode_list_message"]},T={bundles:[m.BTF],strings:["DV_DP_live_badge_text"]},P={bundles:[m.ATF],strings:["AVOD_DP_season_selector"]},I={bundles:[m.ATF,m.BTF],strings:["DV_DP_first_review","DV_DP_ARIA_amazon_rating","DV_DP_ARIA_imdb_rating","DV_DP_ARIA_watch_episode","DV_DP_ARIA_watch_title","DV_DP_ARIA_audio_description","DV_DP_ARIA_release_year","DV_WEB_SETTINGS_HEAD_SUBTITLES","DV_DP_ARIA_runtime","DV_DP_ARIA_scheduled","DV_DP_ARIA_located","DV_DP_ARIA_suitable_for","DV_TW_amr_nr_text"]},S={bundles:[m.ATF],strings:["AVOD_DP_season_selector","DV_DP_Watchlist_toggle_label","DV_DP_WL_removeMovie","DV_DP_WL_removeTv","DV_DP_WL_addMovie","DV_DP_WL_addTv","DV_DP_WL_addTvProcessing","DV_DP_WL_removeTvProcessing","AVOD_WL_error_msg","DV_DP_WL_watchlist"]},k={bundles:[m.ATF],strings:["DV_WEB_FEEDBACK__send_us_feedback","DV_WEB_FEEDBACK_feedback","DV_WEB_FEEDBACK_select_related_device","DV_WEB_FEEDBACK_select_option_dropdown_menu","DV_WEB_FEEDBACK_dropdown_prompt","DV_WEB_FEEDBACK_submit_button","DV_WEB_FEEDBACK_no_device_website","DV_WEB_SETTINGS_HEAD_YOUR_DEVICES"]},C={bundles:[m.ATF],strings:["DV_DP_see_more"]},O={bundles:[m.ATF],strings:["DV_DP_unavailable_page_message","DV_DP_unavailable_live_page_message","DV_DP_only_playback_available_in_gen4_message"]},x={bundles:[m.BTF],strings:["DV_WEB_PAGINATION_PAGE","DV_WEB_PAGINATION_PREVIOUS","DV_WEB_PAGINATION_NEXT"]},A={bundles:[m.ATF],strings:["DV_DP_COMING_SOON_MESSAGE","DV_DP_COMING_SOON_TBC_DATE","DV_DP_COMING_IN_YEAR_MESSAGE"]},N={bundles:[m.ATF,m.BTF],strings:["AVOD_DP_E_error_text","AVOD_DP_E_error_ok"]},R={bundles:[m.BTF],strings:["DV_DP_CAST_CREW_HEADING","DV_DP_powered_by"]},L={bundles:[m.ATF],strings:["DV_WEB_LIVE_NOT_SUPPORTED_BODY","DV_DP_PLAYER_TIMEOUT_BODY","DV_DP_PLAYER_TIMEOUT_HEADING"]},V={bundles:[m.BTF],strings:["DV_DP_CL_other_formats_title"]},M={bundles:[m.BTF],strings:["DV_DP_EPISODE_EXPANDER","DV_DP_EPISODE_NUM_ASCENDING","DV_DP_EPISODE_NUM_DESCENDING","DV_DP_EPISODE_AVAILABLE","DV_DP_EPISODE_SORT_BY"]},W={bundles:[m.ATF,m.BTF],strings:["DV_DP_GC_widget_heading","DV_DP_UB_GC_success_message","DV_DP_DV_GCPC_window_title","DV_DP_UB_GC_popup_apply","DV_DP_UB_GC_enter_code","AVOD_DP_GC_promotion_message","DV_DP_GC_balances_explanation","AVOD_DP_GC_toc_learn_more","DV_DP_GC_balance_type_heading","DV_DP_GC_balance_amount_heading","DV_DP_GC_code_input_placeholder","DV_DP_GC_wrong_code","DV_DP_GC_balance_update_failed"]},j={bundles:[m.BTF],strings:["DV_DP_TAB_episodes","DV_DP_TAB_explore","DV_DP_TAB_extras","DV_DP_TAB_related","DV_DP_TAB_details"]},B={bundles:[m.ATF,m.BTF],strings:["DV_DP_CREATE_WATCH_PARTY","DV_DP_WATCH_PARTY_TOOLTIP","DV_DP_WATCH_PARTY_FTUE_HEADER","DV_DP_WATCH_PARTY_FTUE_BODY"]},F={bundles:[m.ATF],strings:["DV_DP_WP_ERROR_HEADING","DV_DP_WP_ERROR","DV_DP_WP_END_HEADING","DV_DP_WP_END","DV_DP_WP_STREAM_ENDED","DV_DP_WP_CREATE_INELIGIBLE_HEADING","DV_DP_WP_CREATE_INELIGIBLE","DV_DP_WP_CREATE_INELIGIBLE_TVOD","DV_DP_WP_CREATE_INELIGIBLE_SVOD_TVOD","DV_DP_WP_JOIN_INELIGIBLE_HEADING","DV_DP_WP_JOIN_INELIGIBLE","DV_DP_WP_JOIN_INELIGIBLE_TVOD","DV_DP_WP_JOIN_INELIGIBLE_SVOD_TVOD","DV_DP_WP_GEO_RESTRICTION_HEADING","DV_DP_WP_GEO_RESTRICTION","DV_DP_WP_UNSUPPORTED_BROWSER_HEADING","DV_DP_WP_UNSUPPORTED_BROWSER","DV_DP_WP_UNSUPPORTED_CHAT_HEADING","DV_DP_WP_UNSUPPORTED_CHAT","DV_DP_WP_BANNED_SPECIFIC_CHAT_HEADING","DV_DP_WP_BANNED_SPECIFIC_CHAT","DV_DP_WP_SAFARI_MAC_UNSUPPORTED_HEADING","DV_DP_WP_SAFARI_MAC_UNSUPPORTED_BODY"]},U={bundles:[m.ATF],strings:["DV_DP_trailer__AV"]},H={bundles:[m.ATF],strings:["AVOD_DP_E_error_text"]},G={bundles:[m.BTF],strings:["DV_CR_sorted_by","DV_CR_see_all_reviews","DV_CR_sorting_top_reviews","DV_CR_sorting_most_recent","DV_CR_profile_aria_label","DV_CR_helpful_button_label","DV_CR_report_abuse_label","DV_CR_reviews_header","DV_CR_write_review_label","DV_CR_write_review_label_other","DV_CR_vote_unsuccessful","DV_CR_thank_you_feedback","DV_CR_report_abuse_message","DV_CR_confirm_label","DV_CR_sending_feedback","DV_CR_reviews_explanation_header","DV_CR_reviews_explanation_text","DV_CR_fallback_with_ratings","DV_CR_fallback_no_ratings","DV_CR_verified_purchase","DE_DV_CR_sorting_header","JP_DV_CR_sorting_header","US_DV_CR_sorting_header","UK_DV_CR_sorting_header","DV_CR_other_countries_header"]},q={bundles:[m.ATF],strings:["DV_DP_CHART_TOP_TEN"]},z=n("./src/util/utils/htmlEncode.ts"),Z=function(e){var t=e.string,n=e.dir,r=(0,z.l_)(t);return n?i.createElement("div",{dir:n},r):i.createElement(i.Fragment,null,r)};Z.displayName="DecodedText";var Y=n("./src/widgets/DVWebNodeDetail/utils/dpWidgetContext.ts"),X=[_,y,E,w,D,T,x,N,R,V,M,W,j,B,P,I,S,C,b,O,A,L,k,F,U,H,G,q],K=function(e){var t;return(t=[]).concat.apply(t,X.filter((function(t){return t.bundles.includes(e)})).map((function(e){return e.strings})))},J=function(e,t){return{context:e,ids:K(t)}},Q=function(e){var t=e.stringID,n=e.replace,r=e.dvStringAttrs,a=e.shouldDecode,o=void 0!==a&&a,s=e.dir,c=e.className,l=void 0===c?"":c,u=(0,i.useContext(Y.h).getString)(t,n),d=(0,g.e6)(u,r||{}),p=o?i.createElement(Z,{string:d.string}):i.createElement(v.Text,{string:d,className:l});return s?i.createElement("span",{dir:s}," ",p," "):p},$=n("./src/widgets/DVWebNodeDetail/utils/utils.ts"),ee=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},te=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ne=new s.Ct({ttl:600,limit:100}),re=function(e){var t=e.context,n=e.api,r=e.operation,a=e.stringBundle,o=e.titleID,i=e.logger,s=e.enableStarlightCache,l=e.requestSPS,u=void 0!==l&&l;return ee(void 0,void 0,void 0,(function(){var e,l,d,p,f,m,g,v,_,y,b,E,w,D,T,P,I,S,k,C,O,x,A,N,R;return te(this,(function(L){switch(L.label){case 0:return e=new c.eZ(n),l=new h(n),d=null==s||(0,$.JQ)(s),void 0!==a?(J(t,a),p=function(){return e.GetStrings(J(t,a)).then((function(e){return e.results}))}):p=function(){return Promise.resolve(void 0)},f=function(e){return u?l.GetStaticPageContent({pageId:e,marketplaceId:t.marketplaceID,locale:t.locale},t).catch((function(e){var t="SPS call failed with error: "+e,n=$.EZ+"::SPS::Failed";null==i||i.error(t).count(n,1,!1)})):Promise.resolve(void 0)},m=function(e){return ee(void 0,void 0,void 0,(function(){var t,n,r,a,o;return te(this,(function(s){switch(s.label){case 0:return t=(new Date).getTime(),[4,fetch(e,{method:"GET"}).then((function(e){return ee(void 0,void 0,void 0,(function(){return te(this,(function(t){switch(t.label){case 0:return[4,e.text()];case 1:return[2,{staticPageContent:t.sent()}]}}))}))})).catch((function(e){var t=$.EZ+"::Starlight::Fetch::Failed";null==i||i.error(e).count(t,1,!1)}))];case 1:return n=s.sent(),r=(new Date).getTime()-t,a="Starlight Fetch took "+r+" MS",o=$.EZ+"::Starlight::Fetch::Latency",null==i||i.info(a).count(o,r,!1),[2,n]}}))}))},(g=ne.get(o))&&d&&u?(i&&i.count($.EZ+"::Starlight::Title::LookUp::CacheHit",1,!1),[4,Promise.all([p(),r(e),f(g)])]):[3,2];case 1:return v=L.sent(),y=v[0],b=v[1],E=v[2],[2,{operationResponse:b,stringMap:y,stringBundle:a,starlightResponse:E}];case 2:return[4,Promise.all([p(),r(e)])];case 3:return _=L.sent(),y=_[0],b=_[1],E=void 0,u?(D=null==(w=b)?void 0:w.widgets,T=null===(N=null==D?void 0:D.productDetails)||void 0===N?void 0:N.detail,P=(0,$.JQ)(null==T?void 0:T.isStarlightEnhanced),I=null==T?void 0:T.catalogId,S="true"===(null===(R=null==D?void 0:D.pageContext)||void 0===R?void 0:R.features.disableExploreTab),k=null==T?void 0:T.explorePanelURL,C=Boolean(!k&&!S&&P&&I),O=Boolean(k&&!S),C?[4,f(I)]:[3,5]):[3,10];case 4:return x=L.sent(),[3,9];case 5:return O?[4,m(k)]:[3,7];case 6:return A=L.sent(),[3,8];case 7:A=void 0,L.label=8;case 8:x=A,L.label=9;case 9:(E=x)&&d&&C&&(i&&i.count($.EZ+"::Starlight::Title::LookUp::CacheHit",0,!1),ne.put(o,I)),L.label=10;case 10:return[2,{operationResponse:b,stringMap:y,stringBundle:a,starlightResponse:E}]}}))}))},ae=n("./src/util/wrappers/ArgsContext.tsx"),oe=n("./node_modules/react-redux/es/index.js");const ie="_3I-nQy",se="_2C9xWo",ce="VuF--y",le="_1GS1_C",ue="_2caVCa",de="_1HxZWz";var pe=function(){return(pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},fe=new Set(["aivDebug","appDebug","auiDebug","avClientAddress","avCurrentTerritory","avMarketplace","avRecordTerritory","avRegion","avGeoToken","csTools","debug","experiment","forceAV","isDebug","language","pfDisableCache","pfShowFeatures","serviceDebug","inspector","stringDebug","keepSubscription"]),me=function(e,t){return void 0===t&&(t={}),pe(pe({},(n=e,Object.keys(n).reduce((function(e,t){var r;return fe.has(t)?pe(pe({},e),((r={})[t]=n[t],r)):e}),{}))),t);var n},he=new RegExp("/region/(na|eu|fe|local)"),ge=function(e,t){return e.isRetail?function(e){return e?"":"/gp/video"}(t):function(e){var t=e.originalURI,n=t&&t.match(he);return n&&n[0]||""}(e)},ve=function(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(t)},_e=function(e,t){var n=t.urlData,r=t.get,a=t.refTag,o=t.isShortUrl;if(!n)return"";var i=ge(n,void 0!==o&&o),s=n.parameters||{},c=me(s,r),l=Object.keys(c).reduce((function(e,t){var n=c[t];if(Array.isArray(n)){var r=n.map((function(e){return ve(t,e)}));e.push.apply(e,r)}else e.push(ve(t,n));return e}),[]).join("&"),u=l?"?"+l:"",d=a?"/ref="+a:"";return i+"/"+function(e){return e.replace(/^\//,"")}(e)+d+u};function ye(e,t,n){return _e("/auth-redirect",{urlData:e,refTag:t,get:{returnUrl:n,signin:"1"}})}var be=function(e){return"/detail/"+e};function Ee(e,t,n){return _e(be(t),{urlData:e,refTag:n})}const we="_2IIDsE",De="_1z4REl",Te="_1ITy4O",Pe="n4qlso",Ie="_1yP1uA",Se="_2GUwRS",ke="HaWow5";var Ce,Oe,xe=n("./node_modules/classnames/index.js"),Ae=n.n(xe),Ne=n("./src/util/utils/imageUtils/imageUtils.tsx"),Re=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};!function(e){e.WIDTH="WIDTH",e.HEIGHT="HEIGHT"}(Ce||(Ce={})),function(e){e.gif="gif",e.png="png",e.webp="webp",e.pkmz="pkmz"}(Oe||(Oe={}));var Le=[1.5,2],Ve={phone:"20em",phablet:"28em","phone-landscape":"47em",tablet:"55em","tablet-landscape":"65em",desktop:"90em",largeScreen:"118em"},Me=RegExp("("+Object.keys(Ve).join("|")+")$"),We=function(e){return"string"==typeof e?e:e+"px"},je=function(e,t,n,r,a){var o=Le.map((function(o){return Be({src:e,value:t*o,baseType:n,type:r,skipStripTags:a})+" "+o+"x"}));return o&&o.unshift(Be({src:e,value:t,baseType:n,type:r,skipStripTags:a})),o&&o.join(", ")},Be=function(e){var t=e.src,n=e.value,r=e.baseType,a=e.type,o=e.skipStripTags;if(!t)return"";var i=new Ne.e(t);return o||i.stripTags(),r===Ce.HEIGHT?i.scaleHeight(n):i.scaleWidth(n),a&&i.forceFormat(a),i.getImageUrl()},Fe=function(e,t,n,r,a){return t.map((function(t){return Be({src:e,value:t,baseType:n,type:r,skipStripTags:a})+" "+t+"w"})).join(", ")},Ue=function(e,t){void 0===t&&(t=[]);var n=t.reduce((function(e,t){var n=Object.entries(t)[0],r=n[0],a=n[1],o=function(e){return e.replace(Me,(function(e){return"width: "+Ve[e]}))}(r);return o&&a&&e.push("("+o+") "+We(a)),e}),[]);return n.push(We(e)),n.join(", ")},He=function(e){var t=e.src,n=e.baseValue,r=e.baseType,a=void 0===r?Ce.WIDTH:r,o=e.srcSizes,i=e.format,s=e.resolutions,c=e.skipStripTags;if(a===Ce.HEIGHT&&o)throw new Error("BaseType.HEIGHT can't be used with srcSizes. It is only compatible with format and resolutions.");if((0,$.xb)(o))return{src:Be({src:t,value:n,baseType:a,type:i,skipStripTags:c}),srcSet:je(t,n,a,i,c)};var l=o.map((function(e){return Object.values(e)[0]}));l.push(n);var u=function(e,t){void 0===t&&(t=Le);var n=t.reduce((function(t,n){var r=e.map((function(e){return Math.floor(e*n)}));return Re(Re([],t),r)}),e);return Array.from(new Set(n)).sort($.ws)}(l,s);return{src:Be({src:t,value:n,baseType:a,type:i,skipStripTags:c}),srcSet:Fe(t,u,a,i,c),sizes:Ue(n,o)}},Ge=n("./src/widgets/DVWebNodeDetail/utils/useInteractionObserver.tsx"),qe=n("./src/widgets/DVWebNodeDetail/selectors/selectorWrapper.ts"),ze=n("./src/widgets/DVWebNodeDetail/selectors/basicState.ts"),Ze=(0,qe.P)([ze.bS.pageContext],(function(e){return e.isCerberusChild})),Ye=(0,qe.P)(ze.bS.pageContext,(function(e){return Boolean("MShop"===e.app&&("IOS"===e.os||"MacOS"===e.os))})),Xe=(0,qe.P)(ze.bS.pageContext,(function(e){return function(e){return Boolean("Phone"===e.formFactor)}(e)})),Ke=(0,qe.P)(ze.bS.pageContext,(function(e){return function(e){return Boolean("Desktop"!==e.formFactor)}(e)})),Je=(0,qe.P)(ze.bS.pageContext,(function(e){return"MShop"===e.app})),Qe=((0,qe.P)(ze.bS.pageContext,(function(e){return"InternetExplorer"===e.app})),(0,qe.P)(ze.bS.pageContext,(function(e){return"Safari"===e.app}))),$e=((0,qe.P)(ze.bS.pageContext,(function(e){return e.pageType})),(0,qe.P)(ze.bS.pageContext,(function(e){return e.subPageType})),(0,qe.P)(ze.bS.pageContext,(function(e){return e.features}))),et=(0,qe.P)(ze.bS.pageContext,(function(e){return e.downloadLaunchType})),tt=(0,qe.P)(ze.bS.pageContext,(function(e){return e.features&&e.features.moodMetadataTreatment})),nt=function(e,t){return void 0===t&&(t="true"),(0,qe.P)(ze.bS.pageContext,(function(n){return Boolean(n.features)&&n.features[e]===t}))},rt=nt("offerClarityEnabled"),at=(nt("isJPHeroImageEnabled"),nt("isFirestormReviewsEnabled")),ot=nt("activateAutoPlayingInHovers");const it="_3AGscX",st="Zk8aEm",ct="_1Asy_o",lt="_3Ey1L9";var ut,dt=function(){return(dt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},pt=function(e){var t=e.src,n=e.baseValue,r=e.format,a=e.baseType,o=e.srcSizes,s=e.skipStripTags,c=e.className,l=e.classNameContainer,u=e.alt,d=He({src:t,baseValue:n,baseType:a,srcSizes:o,format:r,skipStripTags:s}),p=d.src,f=d.srcSet,m=d.sizes,h=i.useState(!1),g=(h[0],h[1],He({src:t,baseValue:50,baseType:Ce.WIDTH,format:r}).src);return i.createElement(i.Fragment,null,i.createElement(i.Fragment,null,i.createElement("noscript",null,i.createElement("img",{src:t,className:c,alt:u}),i.createElement("style",null,"."+it+"{display:none;}")),i.createElement("div",{className:it+" "+l,dangerouslySetInnerHTML:{__html:'\n      <script>document.body.classList.remove("atfimgloaded")<\/script>\n      <img id="atf-thumb" class="'+lt+'" src="'+g+'"/>\n      <img id="atf-full" class="'+st+" "+c+'" src="'+p+'" srcSet="'+f+'" sizes="'+m+'" alt="'+u+'" onload="document.body.classList.add(\''+"atfimgloaded')\"/>\n            "}})))},ft=function(e){var t,n=e.src,r=e.baseValue,a=e.format,o=e.baseType,s=e.srcSizes,c=e.skipStripTags,l=e.className,u=e.classNameContainer,d=e.alt,p=e.isLazyImageSupported,f=i.useRef(),m=i.useState(!1),h=m[0],g=m[1],v=i.useState(!1),_=v[0],y=v[1],b=i.useCallback((function(e,t){e[0].isIntersecting&&(y(!0),t.unobserve(f.current))}),[]);return(0,Ge.Z)({enabled:p,target:f,rootMargin:"200px",onIntersect:b}),i.createElement(i.Fragment,null,i.createElement("noscript",null,i.createElement("img",{src:n,className:l,alt:d}),i.createElement("style",null,"."+it+"{display:none;}")),i.createElement("div",{ref:f,className:Ae()(it,u)},_&&i.createElement("img",dt({},He({src:n,baseValue:r,baseType:o,srcSizes:s,format:a,skipStripTags:c}),{loading:"lazy",onLoad:function(){g(!0)},alt:d,className:Ae()(st,l,(t={},t[ct]=h,t))}))))},mt=(0,oe.$j)((function(e){return{isLazyImageSupported:!Qe(e)}}))(i.memo((function(e){var t=e.src,n=e.baseValue,r=e.format,a=e.baseType,o=e.srcSizes,s=e.skipStripTags,c=e.isLazy,l=void 0!==c&&c,u=e.className,d=e.alt,p=e.isAtfMainImage,f=e.isLazyImageSupported;return t&&n?f&&p?i.createElement(pt,dt({},e)):f&&l?i.createElement(ft,dt({},e)):i.createElement("img",dt({},He({src:t,baseValue:n,baseType:a,srcSizes:o,format:r,skipStripTags:s}),{className:u,alt:d})):null}))),ht=function(){return(ht=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},gt=function(e){var t=e.title,n=e.asin,r=e.cGti,a=e.isRetail,o=e.makeUrl,s=e.showLinkToDP,c=void 0!==s&&s,l=e.titleLogo,u=e.providerLogo,d=vt(u,l,t)||t&&i.createElement("h1",{className:xe(we,ie),"data-automation-id":"title"},t);if(d){if(c){var p=a&&n||r,f=o&&p&&o(be(p),{refTag:"atv_hover_title"});return i.createElement("a",{href:f,className:ke},d)}return d}return null},vt=function(e,t,n){var r={alt:n,src:t,baseValue:600,srcSizes:[{"max-phablet":300},{"min-phablet":600}],format:Oe.png};return t&&i.createElement(i.Fragment,null,_t(e),i.createElement("h1",{className:xe(we,se),"data-testid":"title-art"},i.createElement("div",{className:ce},i.createElement(mt,ht({className:le},r)))))},_t=function(e){var t={alt:"",src:e,baseValue:300,srcSizes:[{"max-phablet":200},{"min-phablet":300}],format:Oe.png};return e&&i.createElement("div",{className:xe(we,ue)},i.createElement(mt,ht({className:de},t)))},yt=n("./src/widgets/DVWebNodeDetail/utils/titleTypes.ts"),bt=(0,qe.P)(ze.mZ.headerDetail,(function(e){return e&&e.images})),Et=(0,qe.P)(ze.mZ.headerDetail,(function(e){return e&&e.liveState})),wt=(0,qe.P)(ze.mZ.headerDetail,(function(e){return(0,yt.I)(e&&e.titleType)})),Dt=(0,qe.P)(wt,(function(e){return e?"Movie":"TVSeason"})),Tt=((0,qe.P)(ze.mZ.headerDetail,(function(e){return e&&e.title})),(0,qe.P)(ze.mZ.headerDetail,(function(e){return e&&e.seasonNumber}))),Pt=n("./src/util/api/util.ts"),It=function(e){return"Retail"===e},St=function(){return(St=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},kt=(0,qe.P)(ze.bS.context,(function(e){return e.domain||"Fogg"})),Ct=(0,qe.P)(ze.bS.context,(function(e){return e.sessionID})),Ot=(0,qe.P)(ze.bS.context,(function(e){return e.requestID})),xt=(0,qe.P)(ze.bS.context,(function(e){return e.customerID})),At=(0,qe.P)(ze.bS.context,(function(e){return e.appName})),Nt=(0,qe.P)(ze.bS.context,(function(e){return e.locale||"en_US"})),Rt=(0,qe.P)(Nt,(function(e){return e.replace("_","-")})),Lt=(0,qe.P)(ze.bS.context,(function(e){return(0,Pt.aP)(e.isInternal||"0")})),Vt=(0,qe.P)(ze.bS.context,(function(e){return e.queryParameters||{}})),Mt=(0,qe.P)(ze.bS.context,(function(e){return e.originalURI||""})),Wt=(0,qe.P)(ze.bS.context,(function(e){return e.marketplaceID})),jt=(0,qe.P)(kt,(function(e){return It(e)})),Bt=(0,qe.P)([jt,Mt,Vt],(function(e,t,n){return function(r,a){return _e(r,St({urlData:{isRetail:e,originalURI:t,parameters:n}},a))}})),Ft=(0,qe.P)([ze.bS.context,jt,Mt,Vt,Lt,Ct,Ot,Rt,Bt,xt,At],(function(e,t,n,r,a,o,i,s,c,l,u){return{rawContext:e,isRetail:t,originalURI:n,queryParameters:r,isInternal:a,makeUrl:c,sessionID:o,isRecognizedCustomer:Boolean(l),requestID:i,locale:s,appName:u}})),Ut=n("./src/widgets/DVWebNodeDetail/selectors/shared.ts"),Ht=(0,qe.P)(ze.mZ.notification,(function(e){return e&&e.warnings})),Gt=(0,qe.P)(ze.mZ.notification,(function(e){return e&&e.alerts})),qt=n("./src/widgets/DVWebNodeDetail/selectors/actionFragment.ts"),zt=n("./src/widgets/DVWebNodeDetail/utils/stringUtils.ts"),Zt=n("./src/widgets/DVWebNodeDetail/utils/playbackActionHelper.ts"),Yt=n("./src/widgets/DVWebNodeDetail/utils/playbackEnvelope.ts"),Xt=function(){return(Xt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Kt="atv_dp_watch_trailer";!function(e){e.feature="Feature",e.trailer="Trailer"}(ut||(ut={}));var Jt,Qt=(0,qe.P)([ze.bS.context,ze.bS.pageContext],(function(e,t){var n=e.sessionID,r=e.marketplaceID,a=e.customerID,o=e.locale,i=e.deviceID;return{sessionId:n,marketplaceId:r,customerId:a,locale:o,playerBeta:!1,useDefaultView:!0,pageType:"Android"===t.os?"MShop"===t.app?"DetailAndroidMShop":"DetailAndroid":"Detail",deviceId:i}})),$t=(0,qe.P)(qt.a1,(function(e){return e?{playbackUrl:e.playbackURL,signInUrl:e.signInURL,contentConfig:{asin:e.playbackID,trailer:!1,position:e.resumeTime||0,ref:e.refMarker,videoType:e.videoMaterialType,playbackEnvelope:(0,Yt.D)(e)}}:void 0})),en=(0,qe.P)([ze.mZ.trailer],(function(e){return e?{playbackUrl:e.playbackURL,contentConfig:{asin:e.playbackID,trailer:!0,position:0,ref:Kt,videoType:e.videoMaterialType}}:void 0})),tn=(0,qe.P)([Vt,$t,en,ze.mZ.restriction],(function(e,t,n,r){if(!r||!r.blockedPageModel){var a=e.autoplay&&e.autoplay[0],o="trailer"===a?n:"1"===a?t:void 0;return o&&e.t&&(o.contentConfig.position=parseInt(e.t[0],10)||0),o}})),nn=(0,qe.P)([ze.bS.pageContext,$t,en],(function(e,t,n){var r="EMBEDDED"===e.playbackLaunchType&&t||"EMBEDDED"===e.playbackTrailerLaunchType&&n;return r&&!r.signInUrl?r.contentConfig:void 0})),rn=(0,qe.P)([ze.bS.pageTitleId,ze.mZ.actionAtf,qt.IB],(function(e,t,n){var r,a={};return Object.entries(Xt((r={},r[e]=t,r),n)).filter((function(e){var t=e[1];return Boolean(t)})).forEach((function(e){var t=e[0],n=e[1].playbackActions,r=(0,Zt.fi)(n);r&&r.forEach((function(e){a[e]=t}))})),a})),an=n("./src/widgets/DVWebNodeDetail/utils/entityTypes.ts"),on=n("./src/widgets/DVWebNodeDetail/utils/actionBoxUtils.ts"),sn=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},cn=(0,qe.P)([qt.l7,qt.aQ,qt.u5,qt.Li],(function(e,t,n,r){return{subProblemMessages:e,offerMessages:t,topLevelTvodMessages:n,acceptedPreorder:r}})),ln=(0,qe.P)(qt.ZM,(function(e){return e&&e.map((function(e){return e.message&&{text:(0,zt.bJ)(e.message),logo:e.image,channelLogoURL:e.channelLink}})).filter(Boolean)||[]})),un=(0,qe.P)(qt.J2,(function(e){return e&&e.label&&{text:(0,zt.bJ)(e.label),logo:e.imageLink}||void 0})),dn=(0,qe.P)(qt.lO,(function(e){return e&&e.map((function(e){return{text:(0,zt.bJ)(e.header),logo:e.logo}})).filter(Boolean)||[]})),pn=(0,qe.P)(qt.lO,(function(e){return{messages:(e||[]).reduce((function(e,t){var n=(0,zt.bJ)(t.message);return t.severity&&!["CRITICAL","ERROR"].includes(t.severity)||!n.string||e.some((function(e){return e.string===n.string}))||e.push(n),e}),[])}})),fn=(0,qe.P)(qt.lO,on.N),mn=(0,qe.P)([qt.tW,qt.rp],(function(e,t){var n=t&&t.imageLink,r=t&&t.messages&&t.messages[0]&&t.messages[0].string,a=e&&e.filter((function(e){return"FREE"===e.entitlementType}))||[];return r&&0===a.length&&n&&{text:(0,zt.bJ)(r),logo:n}||void 0})),hn=(0,qe.P)(qt.tW,(function(e){return e&&e.map((function(e){return"FREE"!==e.entitlementType&&e.heading&&e.logo&&{text:(0,zt.bJ)(e.heading),logo:e.logo,channelLogoURL:e.channelLink}})).filter(Boolean)||void 0})),gn=(0,qe.P)([ln,dn,hn,mn,un,qt.UT],(function(e,t,n,r,a,o){var i=o&&"Collapsed"===o?[]:sn([a],e);return sn(sn(sn(sn([],n||[]),[r]),t),i).filter((function(e){return Boolean(e&&e.text.string)}))})),vn=(0,qe.P)([qt.tW,qt.rp],(function(e,t){var n=t&&t.imageLink,r=t&&t.messages;return 0===(e&&e.filter((function(e){return"FREE"===e.entitlementType}))||[]).length&&!n&&r||void 0})),_n=(0,qe.P)(qt.tW,(function(e){return e&&e.map((function(e){return"FREE"!==e.entitlementType&&!e.logo&&e.heading&&(0,zt.e6)(e.heading)})).filter(Boolean)||void 0})),yn=(0,qe.P)([cn,fn,Ht,gn,ze.mZ.restriction,vn,_n,Gt,ze.mZ.headerDetail,ze.mZ.hdPlaybackRestricted],(function(e,t,n,r,a,o,i,s,c,l){var u=s&&s.filter((function(e){return"Default"===e.notificationType})).map((function(e){return(0,zt.e6)(e.message)})),d=c&&!(0,an.Z4)(c.entityType)&&s&&s.filter((function(e){return"ComingSoon"===e.notificationType})).map((function(e){return(0,zt.e6)(e.message)})),p=sn(sn(sn(sn(sn([],e.offerMessages||[]),o||[]),i||[]),u||[]),d||[]).filter(Boolean);return{notificationWarnings:sn(sn([],(n||[]).map((function(e){return(0,zt.e6)(e.message)}))),t),subProblemMessages:e.subProblemMessages,messagesWithLogo:r,infoAlertMessages:p,topLevelTvodMessages:e.topLevelTvodMessages,acceptedPreorder:e.acceptedPreorder,maturityLockText:a&&a.maturityLockText,hdPlaybackRestricted:l&&l.message}})),bn=((0,qe.P)([Ct,ze.bS.pageTitleId,Qt,qt.a1,kt],(function(e,t,n,r,a){return r&&{playbackData:r,sessionId:e,pageTitleId:t,playerConfigData:n,isRetail:a&&It(a)}||void 0})),(0,qe.P)([qt.PC,ze.bS.self,qt.VM,Tt],(function(e,t,n,r){var a=t&&e&&t[e.titleID];return e&&{episodeIds:n,seasonNumber:r,label:e.label,downloadURL:e.downloadURL,fallbackURL:e.fallbackURL,titleID:e.titleID,episodeNumber:a&&"episode"===a.titleType.toLocaleLowerCase()?a.sequenceNumber:void 0}}))),En=(0,qe.P)([et,qt.PC],(function(e,t){return"NONE"!==e&&void 0!==t})),wn=(0,qe.P)([Ct,ze.bS.pageTitleId,rt,Qt,Je,ze.bS.self,qt.tW,kt],(function(e,t,n,r,a,o,i,s){return i&&i.length>0&&{playbackDataList:i.map((function(e){return{playbackActionData:e,self:e&&o[e.playbackID]}})),sessionId:e,pageTitleId:t,isRetail:s&&It(s),playerConfigData:r,isOfferClarityEnabled:n,isMShop:a}||void 0})),Dn=(0,qe.P)([Ct,ze.bS.pageTitleId,Qt,ze.mZ.trailer],(function(e,t,n,r){return r&&{playbackData:r,playerConfigData:n,sessionId:e,pageTitleId:t}||void 0})),Tn=(0,qe.P)([qt.AI,ze.mZ.buyboxTitleId],(function(e,t){return e&&{acquisitionActions:e,titleId:t,forceDoubleHeight:!0}})),Pn=(0,qe.P)(qt.Lu,(function(e){return e&&{message:e.message,returnLink:e.returnLink}})),In=(0,qe.P)(qt.c9,(function(e){return!!e&&Boolean((e.children||[]).length>0)})),Sn=(0,qe.P)([In,qt.c9,ze.mZ.buyboxTitleId],(function(e,t,n){return{shouldShowMoreWaysToWatch:e,moreWaysToWatch:t,titleId:n}})),kn=(0,qe.P)([Ye,Ft,ze.bS.pageTitleId,qt.c9,qt.cD],(function(e,t,n,r,a){return{isRedeemAndPromoRestricted:e,requestContext:t,titleID:n,moreWaysToWatch:r,hasTvodWinnerOffer:Boolean(a&&a.length>0)}})),Cn=(0,qe.P)([qt.J2,qt.Br],(function(e,t){var n=e&&e.secondaryMessages||[],r=t&&t.secondaryMessages||[];return{messages:sn(sn([],n),r)}})),On=(0,qe.P)([Gt],(function(e){return(e||[]).some((function(e){return"ComingSoon"===e.notificationType}))})),xn=(0,qe.P)(ze.mZ.headerDetail,(function(e){return e&&e.duration||void 0})),An=n("./node_modules/reselect/es/index.js"),Nn=(0,qe.P)(ze.mZ.metadata,(function(e){return null==e?void 0:e.chartPosition})),Rn=function(){return(Rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ln=(0,qe.P)([Bt,jt,ze.mZ.headerDetail],(function(e,t,n){if(n){var r=n.images&&{titleLogo:n.images.titleLogo,providerLogo:n.images.providerLogo};return Rn({title:n.parentTitle||n.title,asin:n.asin,cGti:n.compactGti,makeUrl:e,isRetail:t},r)}})),Vn=(0,qe.P)([Ut.be,ze.mZ.headerDetail],(function(e,t){if(t)return Rn(Rn({},t),{isTV:e})})),Mn=(0,qe.P)([Ut.k7,bt],(function(e,t){var n=t&&(t.heroshot||e&&t.fullBackground16x9);return Boolean(n)})),Wn=(0,qe.P)(ze.mZ.headerDetail,(function(e){return e&&{synopsis:e.synopsis}||void 0})),jn=(0,qe.P)(Et,(function(e){return e&&{text:e.text,isLive:e.isLive}||void 0})),Bn=(0,An.wN)((Jt=3,function(e){var t=null,n=null;return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return(null===t||r.some((function(e,n){return n<Jt&&e!==t[n]})))&&(n=e.apply(void 0,r)),t=r,n}}))([ze.bS.pageTitleId,ze.mZ.seasons,jt,ze.bS.detail,ze.bS.self],(function(e,t,n,r,a){return{seasons:t?t.map((function(e){return{titleId:e.seasonId,seasonLink:e.seasonLink,detail:r[e.seasonId],self:a[e.seasonId]}})):void 0,pageTitleId:e,isRetail:n}})),Fn=(0,qe.P)([Ut.Ng,ze.mZ.headerDetail,wn],(function(e,t,n){var r=Boolean(t&&t.title),a=Boolean(n);return e?r||a:r})),Un=(0,qe.P)([Ut.Ng,ze.mZ.headerDetail,wn],(function(e,t,n){var r=!Boolean(t&&t.title),a=Boolean(n);return e&&r&&a})),Hn=(0,qe.P)([Xe,Ye,jt,ze.mZ.comingSoon,ze.bS.bottomBar,qt.MZ],(function(e,t,n,r,a,o){return a&&{isMobile:e,isPurchaseRestricted:t,isRetail:n,isComingSoon:r,bottomBar:a,watchPartyAction:o}||void 0})),Gn=(0,qe.P)([Xe,Nn],(function(e,t){return t&&{isMobile:e,chartPosition:t}||void 0})),qn=n("./node_modules/@amzn/dvui/dist/Container.js"),zn=n("./node_modules/@amzn/dvui/dist/Expander.js");const Zn="-dmR1h",Yn="_1XdgZK",Xn="_3fuIyl";var Kn=function(e){var t=e.synopsis,n=e.numOfLines,r=void 0===n?3:n,a=e.expanderId,o=void 0===a?"synopsisExpander":a;return t?i.createElement("div",{className:we+" "+Xn,"data-automation-id":o},i.createElement(zn.Expander,{className:Zn,numOfLines:r,uniqueId:o},i.createElement(Z,{string:t,dir:"auto"}))):null},Jn=function(e){var t=e.synopsis;return t?i.createElement("div",{className:we+" dv-dp-node-synopsis","data-automation-id":"atf-synopsis"},i.createElement("div",{className:Yn},i.createElement(Kn,{synopsis:t,numOfLines:4,expanderId:"atfSynopsisExpander"}))):null},Qn=n("./node_modules/@amzn/dvui/dist/DropList.js"),$n=n("./node_modules/@amzn/dvui/dist/Icon.js"),er=n("./node_modules/@amzn/dvui/dist/Badge.js");const tr="dw87r6",nr="_2yk-LG",rr="DdeNtL",ar="_1hPKRY";var or=function(e){var t=e.asins,n=e.gti,r=e.compactGTI,a=e.pageTitleId;return Boolean(t.includes(a)||a===n||a===r)},ir=function(e,t){return(0,$.JQ)(t&&e.detail&&e.detail.isPrime)},sr=function(e,t,n){return e.reduce((function(e,r){if(!(r&&r.self&&r.self.link))return e;var a=r.self,o=a.asins,s=a.gti,c=a.compactGTI,l=a.sequenceNumber;return e.push({text:i.createElement(Q,{stringID:"AVOD_DP_season_selector",replace:{seasonNumber:void 0!==l?l.toString():""}}),href:r.seasonLink,isHighlighted:or({asins:o,gti:s,compactGTI:c,pageTitleId:t}),children:ir(r,n)?i.createElement($n.Icon,{className:rr,use:$n.IconType.LOGO_PRIME}):null}),e}),[])},cr=function(e){var t=e.season,n=t.self&&t.self.sequenceNumber&&t.self.sequenceNumber.toString()||"";return i.createElement(er.Badge,{use:er.badges.TEXT,className:tr},i.createElement(Q,{stringID:"AVOD_DP_season_selector",replace:{seasonNumber:n}}))},lr=function(e){var t,n=e.seasons,r=e.pageTitleId,a=void 0===r?"":r,o=e.isRetail,s=void 0!==o&&o,c=e.isPVWinApp,l=void 0!==c&&c;return!n||0===n.length||n[0]&&n[0].detail&&n[0].detail.entityType&&(0,an.Z4)(n[0].detail.entityType)?null:1===n.length&&n[0]&&n[0].self&&(0,$.JQ)(n[0].self.isLaunched)?i.createElement(cr,{season:n[0]}):i.createElement("div",{className:xe("dv-node-dp-seasons",nr,ke,(t={},t[ar]=!l,t))},i.createElement(Qn.DropList,{links:sr(n,a,s),customDropListID:"av-atf-season-selector"}))},ur=n("./node_modules/@amzn/dvui/dist/Spacer.js");const dr="_3vxMzE";var pr=function(e){var t=e.runtime,n=e.ariaLabel;return t&&i.createElement(er.Badge,{use:er.badges.TEXT},i.createElement("span",{role:"text","aria-label":n,"data-automation-id":"runtime-badge"},t))||null},fr=n("./src/widgets/DVWebNodeDetail/utils/isType.ts"),mr=function(e){return(0,fr.P)(e,"atv.wps#AmazonMaturityRatingBadge")},hr=function(e){return(0,fr.P)(e,"atv.wps#RegulatoryRatingBadge")},gr=function(e){return(0,fr.P)(e,"atv.wps#LocalRatingBadge")},vr=n("./node_modules/@amzn/dvui/dist/MaturityRating.js");const _r="T2CIjV";var yr=function(e,t){var n=e.displayText,r=e.description,a=e.localRatingLink;return i.createElement("span",{role:"text","aria-label":t,className:_r},i.createElement(vr.MaturityRating,{rating:"number"==typeof n?n:n.toUpperCase(),title:r,"data-testid":"rating-badge"},a&&i.createElement(v.Text,{string:a})))},br=function(e){var t=e.ratingBadge,n=e.notRatedString,r=e.suitableForAriaLabel;if(!t)return null;if(mr(t)){var a=t.description===n?t.description:r;return yr(t,a)}return hr(t)?yr(t,t.description):gr(t)?function(e){var t=e.countryCode,n=e.simplifiedId,r=e.description,a=e.localRatingLink,o=t.toLowerCase();return i.createElement("span",{role:"text","aria-label":r,className:_r},i.createElement(vr.MaturityRating,{rating:n,locale:o,title:r,"data-testid":"rating-badge"},a&&i.createElement(v.Text,{string:a})))}(t):null},Er=n("./node_modules/@amzn/dvui/dist/Link.js"),wr=function(e,t){return Math.round(e*t)/t};const Dr="_1g4OLh",Tr="_3YQFvK",Pr="_1MvvL6",Ir="_1li5Fa",Sr="_1LIpKP",kr="_1tadIP";var Cr=n("./src/util/utils/recordReftag/recordReftag.tsx"),Or=n("./node_modules/@amzn/dv-web-node-reftags/index.js");const xr="hBc1NK",Ar="_2nfUkY",Nr="_2uJdr2",Rr="_2YmrGh",Lr="_3OTZsy",Vr="_2N6OB_",Mr="KCxdj6",Wr="_1I_NdJ",jr="_1VEBQV",Br="_1rhvY-",Fr="_2XXIkJ",Ur="QX0gHi";var Hr=n("./src/widgets/DVWebNodeDetail/context/withLogger.tsx"),Gr=(0,Hr.n)((0,oe.$j)((function(e){return{requestContext:Ft(e)}}))((function(e){var t=e.requestContext.isInternal,n=e.logger,r=e.error,a=e.children;return n.error(r),t?i.createElement("p",null,r.stack):i.createElement(i.Fragment,null,a)}))),qr=function(e,t){return function(n){try{return e(n)}catch(e){return i.createElement(Gr,{error:e},t)}}};const zr="fOnUwr";var Zr=function(){return(Zr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var Yr=(0,oe.$j)((function(e){return{requestContext:Ft(e)}}))((0,Hr.n)((function(e){var t=e.requestContext.isInternal,n="Fatals found in Data: "+e.error;return e.logger.error(n),t?i.createElement("div",{className:zr},n):null}))),Xr=function(e){return function(t){return function(e){return!!e&&Boolean(e.error)}(t)?i.createElement(Yr,Zr({},t)):i.createElement(e,Zr({},t))}};const Kr="_2206LY",Jr="_3IGeF4",Qr="_1S1BHk",$r="PKM0ed",ea="_1YwDWW",ta="_3mj4pS";var na=n("./node_modules/@amzn/dvui/dist/Button.js"),ra=n.n(na);const aa="_2UD9Ud",oa="_2tr-LP",ia="_2t5M7h",sa="_1aRTKf",ca="_31IoAh",la="_2oX3Z6",ua="TKV4YL",da="TdIcBN",pa="_1fbq7T",fa="_1cjcqN",ma="_1b1ljL",ha="_3JtJT0",ga="fk_b7h",va="_2eDsro",_a="_2IcXI4",ya="_1Lu9Pi",ba="_1DS9nN";var Ea=n("./node_modules/@amzn/dvui/dist/Icons/PlayArrow.js"),wa=n.n(Ea),Da=n("./node_modules/@amzn/dvui/dist/Tooltip.js"),Ta=n("./node_modules/@amzn/dvui/dist/Icons/Trailer.js"),Pa=n.n(Ta),Ia=function(){return(Ia=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Sa=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},ka="34px",Ca=function(e){var t=e.isSeeThrough,n=void 0!==t&&t,r=e.isPackshotButton,a=void 0!==r&&r,o=e.children,s=e.ariaLabel,c=e.onClick,l=e.className,u=e.href,d=xe("dvui-playButton",aa,n?ia:oa,a?la:"",l);return i.createElement("a",{href:u,onClick:c,"aria-label":s,className:d},i.createElement(i.Fragment,null,i.createElement($n.Icon,{use:$n.IconType.PLAY_BUTTON_ARROW,className:sa}),o&&i.createElement("span",{className:"avu-screen-reader-only"},o)))},Oa=function(e){var t,n,r=e.progress,a=void 0===r?0:r,o=e.isLarge,s=void 0!==o&&o,c=e.isStartOver,l=void 0!==c&&c,u=e.ariaLabel,d=e.onClick,p=e.onKeyDown,f=e.href,m=e.className,h=e.children,g=xe(ma,((t={})[ga]=!0===s,t),s?ga:ha,m);return i.createElement("a",Ia({href:f,onClick:d,"aria-label":u,className:g,tabIndex:0},p&&{onKeyDown:p}),i.createElement("span",{className:aa+" "+oa},i.createElement($n.Icon,{use:l?$n.IconType.START_OVER:$n.IconType.PLAY_BUTTON_ARROW,className:xe(sa,(n={},n[ca]=l,n))})),i.createElement("span",{className:va},h,i.createElement(xa,{progress:a})))};Oa.displayName="PlayButton";var xa=function(e){var t=e.progress,n=void 0===t?0:t;return n>0?i.createElement("span",{className:da,"data-automation-id":"progress-bar"},i.createElement("span",{"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":n,className:fa,role:"progressbar",style:{width:n+"%"}})):null},Aa=i.createElement("span",{className:_a},i.createElement(wa(),{height:ka,width:ka})),Na=function(e){var t,n,r=e.progress,a=void 0===r?0:r,o=e.isStartOver,s=e.className,c=e.children,l=e.useFreeButton,u=Sa(e,["progress","isStartOver","className","children","useFreeButton"]);return i.createElement(na.Button,Ia({},u,{use:o?na.Default:l?na.Free:na.Playback},l?{icon:Aa}:{useIcon:o?$n.IconType.START_OVER:$n.IconType.PLAY_ARROW},{className:xe(ua,(t={},t[s]=Boolean(s),t),(n={},n[pa]=l,n))}),i.createElement("span",null,c),i.createElement(xa,{progress:a}))};Na.displayName="SquarePlayButton";var Ra=function(e){var t=e.isPVWinApp,n=void 0!==t&&t,r=Sa(e,["isPVWinApp"]);return n?i.createElement(na.Button,Ia({role:"button",useIcon:$n.IconType.TRAILER,testID:"trailer-button"},r)):i.createElement(Da.Tooltip,{position:"top",size:"s",content:r.tooltipText||"",className:ba,id:"dv-dp-node-trailer-tooltip"},i.createElement(na.Button,Ia({role:"button",testID:"trailer-button",className:ya},r),i.createElement("span",{className:sa},i.createElement(Pa(),null))))},La=n("./src/widgets/DVWebNodeDetail/utils/getPlaybackProgress.ts");const Va="_1d-Ol9",Ma="_2Hg1l0",Wa="_1WPBbu",ja="_13U24C",Ba="_3YGDrM",Fa="_26nAHL",Ua="_2M-myL",Ha="_3Kqcn7",Ga="_2t8khh",qa={actionBox:"_1D5Acx",singleLineButtons:"_3-dQxM",acquisition:"_8hKdEv",buttonContainer:"_1q35z5",disableOverlay:"_3GDQxn",spinnerWrapper:"_358cKJ",smallSpinnerWrapper:"_1UR0bR",messageWrapper:"zDu3N-",wrapper:"_28Bfau",linkWrapper:"_25QY39",linkWrapperTarget:"_10rk8T",isProcessingTransaction:"_3Nb3Qa",watchParty:"ziAmgX",primaryActions:"_2aLrtz",secondaryActions:"_296Xcm",simplifiedBuyBoxDownload:"_1VtRUv",simplifiedBuyBoxDownloadT2:"_1PDPpL",buttonLabelT2:"NlLgih",buttonLabel:"_1DN7sB"};var za,Za=n("./node_modules/@amzn/dvui/dist/Spinner.js"),Ya=function(e){var t=e.children,n=void 0===t?null:t,r=e.className,a=void 0===r?"":r;return i.createElement("div",{className:[a,qa.disableOverlay].join(" ")},n)},Xa=function(e){var t=e.text,n=e.useSmallSpinner,r=void 0!==n&&n,a=e.className,o=void 0===a?"":a;return i.createElement(Ya,{className:o},i.createElement("div",{className:qa.messageWrapper},i.createElement("div",{className:r?qa.smallSpinnerWrapper:qa.spinnerWrapper},i.createElement(Za.Spinner,{fillHeight:!0,testID:"dp-spinner"})),t&&i.createElement("div",null,t)))};!function(e){e.playback="js-episode-playback",e.offers="js-episode-offers"}(za||(za={}));var Ka=n("./src/shared/player/integration/playbackArea.tsx"),Ja=n("./src/shared/SPA/SpaContext.tsx"),Qa=function(){return(Qa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},$a=function(e){var t=e.notificationActions;return i.createElement(i.Fragment,null,(t||[]).filter((function(e){var t=e.severity;return!t||["CRITICAL","ERROR"].includes(t)})).map((function(e){return i.createElement("span",{className:Fa},i.createElement(v.Text,{string:e.message}))})))},eo=function(e){var t=e.messages;return t&&t.length>0?i.createElement("span",{className:Fa},t.map((function(e,t){return i.createElement(to,{key:"pb-action-message-"+t,message:e})}))):null},to=function(e){var t=e.message;return i.createElement("span",{className:Ua},i.createElement(v.Text,{string:t}))},no=function(e){var t=e.title,n=e.sequenceNumber,r=e.isBonus,a=e.entityType;return t?(0,an.Z4)(a)||!n&&!r?i.createElement(Z,{string:t}):r?i.createElement(Q,{stringID:"DV_DP_EL_bonus_title_template",replace:{episodeTitle:t},shouldDecode:!0,dir:"auto"}):i.createElement(Q,{stringID:"DV_DP_EL_episode_title_template",replace:{sequenceNumber:n?n.toString():"",episodeTitle:t},shouldDecode:!0,dir:"auto"}):null},ro=function(e){var t,n=e.title,r=e.purchaseDetails,a=e.sequenceNumber,o=e.isBonus,s=void 0!==o&&o,c=e.entityType,l=e.playbackActions,u=e.notificationActions,d=e.inProgress;return i.createElement("div",{className:"dv-episode-noplayback-title "+Ba},i.createElement("div",{className:xe((t={},t[Ma]=d,t[Wa]=Boolean(r),t),Va)},i.createElement(no,{title:n,sequenceNumber:a,isBonus:s,entityType:c})),i.createElement($a,{notificationActions:u}),i.createElement(eo,{messages:(0,Zt.D8)(l)}))},ao=function(e){var t=e.title,n=e.playbackActions,r=e.sequenceNumber,a=e.isBonus,o=void 0!==a&&a,s=e.entityType,c=e.downloads,l=e.duration,u=e.isMShop,d=i.useContext(Y.h).getString,p=(0,Zt.MG)(n);if(!p)return null;var f=t?r?d("DV_DP_ARIA_watch_episode",{episodeNumber:r.toString(),episodeTitle:t}):d("DV_DP_ARIA_watch_title",{title:t}):void 0,m=p.playbackID,h=(0,Yt.D)(p),g={signInUrl:p.signInURL,playbackUrl:p.playbackURL,fallbackUrl:p.fallbackURL,sequenceNumber:r,isBonus:o,contentConfig:{asin:m,trailer:!1,position:p.resumeTime,ref:p.refMarker,videoType:p.videoMaterialType,useFullView:!0,playbackEnvelope:h},subscriptionName:p.subscriptionName,triggerLocation:"EpisodeList"},v=Math.max((0,La.fZ)(c,m,l),(0,La._y)(p.progress));return i.createElement(i.Fragment,null,i.createElement("div",{className:"dv-episode-playback-title "+Ha},i.createElement(Ka.ET.Consumer,null,(function(e){var n=e.onPlay;return i.createElement(Oa,{progress:v,ariaLabel:f,href:u?void 0:p.playbackURL,onClick:function(e){n(g),e.preventDefault()}},i.createElement("div",{className:"js-episode-title-name "+Ga},i.createElement(no,{title:t,sequenceNumber:r,isBonus:o,entityType:s})))}))))},oo=(0,Ja.cG)((function(e){var t=e.playbackActions,n=e.purchaseDetails,r=e.isRefunding,a=(0,Zt.MG)(t),o=Boolean(a),s=Boolean(n)||r;return i.createElement("div",{className:"js-eplist-episode "+za.playback},a?i.createElement(ao,Qa({},e)):i.createElement(ro,Qa({},e,{inProgress:s})),s&&i.createElement(Xa,{className:ja,text:o?"":n&&n.details&&n.details.offer.purchaseData.text||"",useSmallSpinner:!0}))})),io=n("./src/widgets/DVWebNodeDetail/reducers/action.ts"),so="cancelled",co="delayed",lo="suspended",uo="postponed",po=function(e){return!!e&&[so,co,lo,uo].includes(e.toLowerCase())},fo=n("./src/widgets/DVWebNodeDetail/reducers/detail.ts"),mo=function(){return(mo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ho=function(e){var t,n=e.idx,r=e.detail,a=e.action,o=e.titleId,s=e.playerConfigData,c=e.isMShop;if(t=a,!Boolean(t&&(0,Zt.MG)(t.playbackActions)))return i.createElement(i.Fragment,null,r.title);var l={title:r.title,playbackActions:a&&a.playbackActions,entityType:r.entityType,playerConfigData:s,titleId:o,purchaseDetails:null,isRefunding:!1,isMShop:c};return i.createElement("div",{className:"js-sch-ep-playback-wrapper"},i.createElement("div",{"data-automation-id":"sch-ep-title-"+n,className:za.playback+" js-schedule-episode schedule-playback-wrapper"},i.createElement(oo,mo({},l))))},go=function(e){var t,n=e.startTime,r=e.liveState;return r?(t=r.id)&&Boolean("upcoming"===t.toLowerCase())?i.createElement(i.Fragment,null,n):r.isLive?i.createElement("div",null," ",i.createElement(er.Badge,{use:er.badges.LIVE}," ",r.text," ")," "):po(r.id)?i.createElement("div",null," ",i.createElement(er.Badge,{use:er.badges.CRITICAL}," ",r.text," ")," "):i.createElement("div",null," ",i.createElement(er.Badge,{use:er.badges.TEXT}," ",r.text," ")," "):null},vo=(0,oe.$j)((function(e,t){return{action:e.action[io.L5][t.titleId],playerConfigData:Qt(e),detail:e.detail[fo.Xt][t.titleId],requestContext:Ft(e),isMShop:Je(e)}}))((function(e){var t=e.requestContext.sessionID,n=e.playerConfigData,r=e.collectionType,a=e.idx,o=e.action,s=e.detail,c=e.titleId,l=e.isMShop,u=s.liveState,d=s.startDate,p=void 0===d?"":d,f=s.startTime,m=void 0===f?"":f,h={sessionID:t,idx:a,detail:s,playerConfigData:n,action:o,titleId:c,isMShop:l};return i.createElement("li",{id:"av-ep-"+r+a,className:Kr},i.createElement("div",{className:Jr},i.createElement(ho,mo({},h))),i.createElement("div",{className:Jr+" "+Qr},p),i.createElement("div",{className:Jr+" "+$r},i.createElement(go,{startTime:m,liveState:u})))})),_o=Xr(qr((function(e){var t=e.header,n=e.cardTitleIds,r=e.totalEpisodeSize,a=e.collectionType;return 0===(n||[]).length?null:i.createElement("div",{className:Ie},t&&i.createElement("h1",{className:ta}," ",t," (",r,")"," "),i.createElement("ol",{className:ea},n.map((function(e,t){return i.createElement(i.Fragment,{key:"schedule-fragment-"+e+"-"+t},i.createElement(vo,{idx:t,key:"schedule-item-"+e+"-"+t,collectionType:a,titleId:e}))}))))})));const yo="_3F8f9L";var bo=n("./node_modules/@amzn/dvui/dist/Modal.js"),Eo=function(e){e&&e.nativeEvent&&e.nativeEvent.ack&&e.nativeEvent.ack(e.currentTarget)};const wo="_6-gGES";var Do,To=(Do=function(e,t){return(Do=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Do(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Po=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isVisible:Boolean(t.props.isOpen)},t.openModal=function(){t.setState({isVisible:!0})},t.openModalClickHandler=function(e){Eo(e),t.openModal(),e.preventDefault()},t.closeModal=function(){t.setState({isVisible:!1}),t.props.onClose&&t.props.onClose()},t}return To(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.isOpen;t!==e.isOpen&&this.setState({isVisible:t})},t.prototype.render=function(){var e=this.closeModal,t={openModal:this.openModal,openModalClickHandler:this.openModalClickHandler,closeModal:e},n={closeModal:e},r=this.props,a=r.modalContent,o=r.modalHeader,s=r.modalFooter,c=r.toggle,l=r.modalId,u=r.className,d=r.size,p="function"==typeof s?s(n):s,f="function"==typeof o?o(n):o,m="function"==typeof a?a(n):a;return i.createElement(i.Fragment,null,this.state.isVisible&&i.createElement(bo.Modal,{className:u||"av-narrow",isVisible:!0,onClose:e,footer:i.createElement("div",{className:wo},p),header:i.createElement("h3",null,f),modalId:l,size:d},m),c&&c(t))},t}(i.Component),Io=n("./node_modules/@amzn/dvui/dist/Alert.js"),So=n("./src/widgets/DVWebNodeDetail/actions/constants.ts"),ko=n("./node_modules/redux/es/redux.js"),Co=n("./src/widgets/DVWebNodeDetail/utils/reducer.ts"),Oo=n("./src/widgets/DVWebNodeDetail/actions/index.ts"),xo=function(){return(xo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ao={},No=(0,ko.UY)({fragments:(0,Co.V)((function(e){return e.refund&&e.refund.fragments}),Ao,(function(e,t){switch(void 0===e&&(e=Ao),t.type){case Oo.k.RefreshAtfActionBox:case Oo.k.RefreshBtfActionBoxes:case Oo.k.RefreshEpisode:return t.output&&t.output.refund&&xo(xo({},e),t.output.refund.fragments)||e;default:return e}})),refunding:function(e,t){switch(void 0===e&&(e=null),t.type){case Oo.k.TriggerRefund:return e||xo({},t.payload);case Oo.k.RefundCancelled:case Oo.k.RefundFailed:case Oo.k.RefreshAtfActionBox:case Oo.k.RefreshBtfActionBoxes:case Oo.k.RefreshEpisode:return null;default:return e}}}),Ro=(0,Co.V)((function(e){return e.imdb}),{}),Lo=(0,Co.V)((function(e){return e.notification}),{}),Vo=(0,Co.V)((function(e){return e.seasons}),{}),Mo=n("./src/widgets/DVWebNodeDetail/reducers/collections.ts"),Wo=(0,Co.V)((function(e){return e.carousel}),{}),jo=(0,Co.V)((function(e){return e.bundleCarousel}),{}),Bo=(0,Co.V)((function(e){return e.buyboxTitleId}),{}),Fo=(0,Co.V)((function(e){return e.creative}),{}),Uo=(0,Co.V)((function(e){return e.self}),{}),Ho=(0,Co.V)((function(e){return e.restriction}),{}),Go=(0,Co.V)((function(e){return e.trailer}),{}),qo=function(){return(qo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},zo={},Zo=(0,Co.V)((function(e){return e.watchlist}),zo,(function(e,t){var n,r,a;switch(void 0===e&&(e=zo),t.type){case Oo.k.WatchlistToggle:return t.output.watchlist[t.payload.pageTitleId]&&qo(qo({},e),((n={})[t.payload.pageTitleId]=qo(qo({},t.output.watchlist[t.payload.pageTitleId]),{failed:!1}),n))||e;case Oo.k.WatchlistToggleFailed:return e[t.payload.pageTitleId]&&qo(qo({},e),((r={})[t.payload.pageTitleId]=qo(qo({},e[t.payload.pageTitleId]),{failed:!0}),r))||e;case Oo.k.ClearWatchlistToggleFailure:return e[t.payload.pageTitleId]&&qo(qo({},e),((a={})[t.payload.pageTitleId]=qo(qo({},e[t.payload.pageTitleId]),{failed:null}),a))||e;default:return e}})),Yo=(0,Co.V)((function(e){return e.hoverWatchlist}),{}),Xo=(0,Co.V)((function(e){return e.features}),{}),Ko=function(){return(Ko=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Jo=(0,Co.V)((function(e){return e.faq}),{}),Qo=(0,Co.V)((function(e){return e.contactUs}),{}),$o=(0,Co.V)((function(e){return e.scoutBanner}),{}),ei=(0,Co.V)((function(e){return e.castAndCrew}),{}),ti=(0,Co.V)((function(e){return e.pageLink}),{}),ni=(0,ko.UY)({crow:(0,Co.V)((function(e){return e.banner&&e.banner.crow}),{}),ui:function(e,t){switch(void 0===e&&(e=null),t.type){case Oo.k.CreateBanner:return t.payload;case Oo.k.ClearBanner:return null;default:return e}}}),ri=(0,Co.V)((function(e){return e.otherFormats}),{}),ai=function(){return(ai=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},oi={playbackLinkData:null,capabilities:null},ii=function(){return(ii=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},si={},ci=void 0,li={deviceEntries:ci},ui=(0,Co.V)((function(e){return e.bottomBar}),{}),di=(0,Co.V)((function(e){return e.exploreTabContent}),{}),pi=(0,Co.V)((function(e){return e.entitlementCue}),{}),fi=(0,Co.V)((function(e){return e.tapsExperimentToken}),{}),mi=(0,Co.V)((function(e){return e.autoplayHero}),{}),hi=function(){return(hi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},gi={showCancellationWinback:!0},vi=(0,Co.V)((function(e){return e.hdPlaybackRestricted}),{}),_i=function(){return(_i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},yi="byHelpfulVotesDescending",bi=function(e){return(0,zt.q1)([e])},Ei={},wi=function(e,t){switch(void 0===e&&(e=Ei),t.type){case Oo.k.STORE_MERGE:return t.payload.reviews?function(e,t){return void 0===t&&(t={}),Object.keys(t).reduce((function(e,n){if(e[n]){var r=e[n],a=t[n],o=_i(_i({},r.reviewIdToReview),a.reviewIdToReview),i=_i(_i({},r.reviewsOrdering),a.reviewsOrdering);e[n]=_i(_i({},r),{reviewIdToReview:o,reviewsOrdering:i})}else e[n]=t[n];return e}),_i({},e))}(e,t.payload.reviews):e;case Oo.k.CHANGE_PAGE:return t.payload.reviews||Ei;default:return e}},Di=(0,Co.V)((function(e){return e.comingSoon}),{}),Ti=(0,Co.V)((function(e){return e.metadata}),{});const Pi=(0,ko.UY)({requestContext:function(e){return void 0===e&&(e=null),e},pageContext:function(e){return void 0===e&&(e=null),e},pageTitleId:function(e,t){switch(void 0===e&&(e=""),t.type){case Oo.k.STORE_MERGE:return t.payload&&t.payload.pageTitleId||e;case Oo.k.CHANGE_PAGE:return t.payload.pageTitleId;default:return e}},features:Xo,player:function(e,t){switch(void 0===e&&(e=oi),t.type){case Oo.k.PlaybackStart:return ai(ai({},e),{playbackLinkData:t.payload});case Oo.k.PlaybackClosed:case Oo.k.PlaybackFailed:return ai(ai({},e),{playbackLinkData:null});case Oo.k.SetPlayerCapabilities:return ai(ai({},e),{capabilities:t.payload.capabilities});default:return e}},playbackIntegration:function(e,t){switch(void 0===e&&(e=si),t.type){case Oo.k.TriggerUpsellApp:return ii(ii({},e),{isUpsellingApp:!0});case Oo.k.ClearUpsellApp:return ii(ii({},e),{isUpsellingApp:!1});default:return e}},action:io.I6,bundleCarousel:jo,buyboxTitleId:Bo,creative:Fo,detail:fo.I6,imdb:Ro,notification:Lo,refund:No,restriction:Ho,self:Uo,trailer:Go,watchlist:Zo,hoverWatchlist:Yo,seasons:Vo,collections:Mo.I6,carousel:Wo,pageLink:ti,purchase:function(e,t){switch(void 0===e&&(e=null),t.type){case Oo.k.TriggerPurchase:return e||Ko(Ko({},t.payload),{failed:!1});case Oo.k.CHANGE_PAGE:case Oo.k.PurchaseCancelled:case Oo.k.RefreshAtfActionBox:case Oo.k.RefreshBtfActionBoxes:case Oo.k.RefreshEpisode:return null;case Oo.k.PurchaseFailed:return t.payload.reload&&e?Ko(Ko({},e),{failed:!0}):null;default:return e}},faq:Jo,contactUs:Qo,exploreTabContent:di,reviews:wi,scoutBanner:$o,castAndCrew:ei,otherFormats:ri,banner:ni,bottomBar:ui,devices:function(e,t){switch(void 0===e&&(e=li),t.type){case Oo.k.GetDevices:return t.output;default:return e}},autoplayHero:mi,entitlementCue:pi,winback:function(e,t){switch(void 0===e&&(e=gi),t.type){case Oo.k.UpdateShowCancellationWinback:return hi(hi({},e),{showCancellationWinback:t.payload.showCancellationWinback});default:return e}},tapsExperimentToken:fi,hdPlaybackRestricted:vi,comingSoon:Di,metadata:Ti});var Ii,Si,ki,Ci,Oi=function(e,t){return function(n){return function(r){return function(a){e.count($.EZ+"_Action_"+a.type.split("/").pop(),1,!0),t&&e.info("Action",a);var o=r(a);return t&&e.info("State",n.getState()),o}}}},xi=function(e,t,n){var r=(0,Pt.aP)(e.requestContext.isInternal||"0");if(Ii)n?Ii.dispatch({type:So.k.CHANGE_PAGE,payload:e}):Ii.dispatch({type:So.k.STORE_MERGE,payload:e});else{var a=[Oi(t,r)];r&&t.info("➡ Initial State",e);var o=r&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ko.qC;Ii=(0,ko.MT)(Pi,e,o(ko.md.apply(void 0,a)))}return Ii},Ai={deviceTypeId:"A13Q6A55DBZB7M"},Ni=function(){return Ai},Ri=function(e){return(0,fr.P)(e,"atv.wps#PurchaseActionTreeRight")},Li=function(e){return(0,fr.P)(e,"atv.wps#SubscribeActionTreeRight")},Vi=function(e){return(0,fr.P)(e,"atv.wps#AcquisitionActionTreeLeft")},Mi=function(e){return(0,fr.P)(e,"atv.wps#AcquisitionActionTreeRight")},Wi=function(e){return(0,fr.P)(e,"atv.wps#TvodAction")},ji=function(e){return Wi(e)||function(e){return(0,fr.P)(e,"atv.wps#PreorderAction")}(e)},Bi=function(e){return(0,fr.P)(e,"atv.wps#SubscribeAction")||Boolean(e&&"SUBSCRIPTION"===e.sType)},Fi=function(e){return Ri(e)&&e.children||[]},Ui=function(e){var t=Vi(e)&&e.children||[];return(0,$.VF)(t.map((function(e){return Mi(e)&&e.children||[]})))},Hi=function(){return(Hi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Gi=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},qi=(0,qe.P)([ze.bS.pageTitleId,ze.mZ.actionAtf,ze.bS.self,qt.IB],(function(e,t,n,r){var a,o={},i=function(e){Object.entries(e).forEach((function(e){var t=e[0],r=e[1];if(r){var a=n[t],i=a?a.gti:void 0,s=r.acquisitionActions;Gi(Gi([],function(e){return Fi(e&&e.tvodWinners).filter(ji)}(s)),function(e){return Ui(e&&e.moreWaysToWatch).filter(ji)}(s)).forEach((function(e){o[e.offerToken]={canonicalId:t,offer:e,gti:i}}))}}))};return i(((a={})[e]=t,a)),i(r),o})),zi=(0,qe.P)([qi,ze.bS.purchase],(function(e,t){return t&&Hi(Hi({},t),{details:e[t.offerToken]})})),Zi=n("./node_modules/@amzn/dvui/dist/Pagination.js"),Yi=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},Xi=function(e){var t=e.currentOffset,n=void 0===t?0:t,r=e.totalItems,a=e.linkMaker,o=e.pageSize,i=void 0===o?10:o,s=e.paginationHardLimit,c=void 0===s?1e3:s,l=e.contextSize,u=void 0===l?1:l,d=e.strings,p=Math.floor((Math.min(r,c)-1)/i),f=n<0?0:n>=r?p*i:n;if(r>=0&&f>=0&&i>0&&c>0&&u>=0&&!(r<=i)){var m=Math.floor(f/i),h=function(e,t){return a(i*e,t)},g=function(e,t){void 0===t&&(t=!0);var n=""+(e+1);return{href:m===e?"":h(e,"pg_"+n),title:d.page(n),type:"PaginatorPageNo",text:n,isOptional:t&&m!==e}},v=m>0&&{type:"PaginatorPrevious",href:h(m-1,"prv"),title:d.previous},_=m<p&&{type:"PaginatorNext",href:h(m+1,"nxt"),title:d.next},y=g(0,!1),b=m<=u?[1,1+2*u]:m>=p-u?[p-2*u,p]:[m-u,m+u],E=b[0],w=b[1],D=Math.max(1,E),T=Math.min(w,p),P=(0,$.w6)(D,T).map((function(e){return g(e)})),I=Yi(Yi([v,y,D>1&&{type:"PaginatorGap"}],P),[_]).filter(Boolean);return I.length<=6?I.map((function(e){return"PaginatorPageNo"===e.type&&(e.isOptional=!1),e})):I}},Ki=(0,$.bc)(["highlights","schedule","episodes","bonus","carousel"]),Ji=(0,$.bc)(["episodes","bonus"]),Qi=function(){return(Qi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},$i=Ki.reduce((function(e,t){var n;return Qi(Qi({},e),((n={})[t]=t+"From",n))}),{}),es=function(e,t){var n=$i[t],r=e&&n&&e[n]&&e[n][0];return(0,$.e$)(r)},ts=(0,oe.$j)((function(e){return{requestContext:Ft(e),pageTitleId:e.pageTitleId}}))((function(e){var t=e.totalEpisodeSize,n=e.requestContext,r=n.queryParameters,a=n.makeUrl,o=e.collectionType,s=e.pageTitleId,c=i.useContext(Y.h).getString;if(!["episodes","bonus"].includes(o))return null;var l={currentOffset:es(r,o),totalItems:t,pageSize:200,paginationHardLimit:1e4,linkMaker:function(e,t){var n,i,c=Qi(Qi({},(i=r,Object.keys($i).reduce((function(e,t){var n=$i[t];return n&&i[n]&&(e[n]=i[n][0]),e}),{}))),((n={})[$i[o]]=""+e,n)),l="dv_dp_"+o+"_"+t;return a(be(s),{get:c,refTag:l})},strings:{page:function(e){return c("DV_WEB_PAGINATION_PAGE",{pageNumber:e})},previous:c("DV_WEB_PAGINATION_PREVIOUS"),next:c("DV_WEB_PAGINATION_NEXT")}};return i.createElement(Zi.Pagination,{paginator:Xi(l)})})),ns=function(){return(ns=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},rs=function(e){var t,n,r=os();return as(e,r,Sf,(t=e.context.queryParameters,((n=t&&t.episodeListSize&&t.episodeListSize[0])?(0,$.e$)(n):void 0)||Mo.Wq))},as=function(e,t,n,r){return ns(ns({},e),{sections:["Btf"],widgets:(0,$.Dv)({btf:t}),widgetsConfig:(0,$.Dv)({episodes:{startIndex:n,pageSize:r},bonus:{startIndex:es(e.context.queryParameters,"bonus"),pageSize:200}})})},os=function(){return["Episodes","Bonus","Schedule","Highlights","Restrictions","ProductDetails","CastAndCrew","ScoutBanner","Restrictions","OtherFormats","Carousels","Faq","ContactUs"]},is=n("./src/util/logger/logger.ts");!function(e){e.GetPaymentSettingsOutput="atv.wps#GetPaymentSettingsOutput",e.GetSubtitlesSettingsOutput="atv.wps#GetSubtitlesSettingsOutput",e.GetDevicesSettingsOutput="atv.wps#GetDevicesSettingsOutput",e.NavigationTabsOutput="atv.wps#NavigationTabsOutput",e.GetAutoplaySettingsOutput="atv.wps#GetAutoplaySettingsOutput",e.GetInvoicesOutput="atv.wps#GetInvoicesOutput",e.GetInvoiceHistoryOutput="atv.wps#GetInvoiceHistoryOutput",e.GetMembershipsOutput="atv.wps#GetMembershipsOutput",e.GetLanguageSettingsOutput="atv.wps#GetLanguageSettingsOutput",e.PageTitleOutput="atv.wps#PageTitleOutput",e.PaymentUpgradeOutput="atv.wps#PaymentUpgradeOutput",e.AccountDetailsOutput="atv.wps#AccountDetailsOutput",e.DoubleBillingOutput="atv.wps#DoubleBillingOutput",e.MembershipPaymentWidgetOutput="atv.wps#MembershipPaymentWidgetOutput",e.SubscriptionsOutput="atv.wps#SubscriptionsOutput",e.ConfirmCancelOutput="atv.wps#ConfirmCancelOutput",e.GetPinOnPurchaseSettingsOutput="atv.wps#GetPinOnPurchaseSettingsOutput",e.GetPinSettingsOutput="atv.wps#GetPinSettingsOutput",e.GetViewingRestrictionsOutput="atv.wps#GetViewingRestrictionsOutput",e.ParentalControlsSettingsOutput="atv.wps#ParentalControlsSettingsOutput",e.PinWidgetTeen="atv.wps#PinWidgetTeen",e.PinWidgetStandard="atv.wps#PinWidgetStandard",e.ViewingRestrictionsWidgetTeen="atv.wps#ViewingRestrictionsWidgetTeen",e.ViewingRestrictionsWidgetPinNotSet="atv.wps#ViewingRestrictionsWidgetPinNotSet",e.ViewingRestrictionsWidgetStandard="atv.wps#ViewingRestrictionsWidgetStandard",e.EmptyWidget="atv.wps#EmptyContent",e.ActivityHistoryOutput="atv.wps#ActivityHistoryOutput",e.HiddenHistoryOutput="atv.wps#HiddenHistoryOutput"}(Si||(Si={})),function(e){e.NavigationTabsWidget="navigation-tabs",e.PageTitleWidget="page-title",e.PaymentUpgradeWidget="payment-upgrade",e.AccountDetailsWidget="account-details",e.MembershipPaymentWidget="membership-payment",e.ConfirmCancelWidget="confirm-cancel",e.DoubleBillingWidget="double-billing",e.SubscriptionsWidget="subscriptions",e.AutoplayWidget="autoplay",e.PaymentHistoryWidget="payment-history",e.ChannelsMembershipsWidget="channels-memberships",e.DevicesWidget="devices",e.LanguagesWidget="languages",e.SubtitlesWidget="subtitles",e.PaymentWidget="payment",e.PinOnPurchaseWidget="pin-on-purchase",e.PinWidget="pin",e.ViewingRestrictionsWidget="viewing-restrictions",e.ParentalControlsWidget="parental-controls",e.ActivityHistoryWidget="activity-history",e.HiddenHistoryWidget="hidden-history"}(ki||(ki={})),function(e){e.YourAccount="your-account",e.Channels="channels",e.Playback="playback",e.ParentalControls="parental-controls",e.Subtitles="subtitles",e.YourDevices="your-devices",e.Language="language",e.WatchHistory="watch-history",e.PaymentHistory="payment-history",e.HiddenHistory="hidden-history"}(Ci||(Ci={}));var ss,cs,ls=n("./node_modules/@amzn/av-experiment-token-js-library/index.js"),us=n("./node_modules/@amzn/dvui/dist/Block.js");!function(e){e.WP_ERROR="WP_ERROR",e.WP_END="WP_END",e.WP_STREAM_ENDED="WP_STREAM_ENDED",e.WP_CREATE_INELIGIBLE="WP_CREATE_INELIGIBLE",e.WP_JOIN_INELIGIBLE="WP_JOIN_INELIGIBLE",e.WP_GEO_RESTRICTION="WP_GEO_RESTRICTION",e.WP_UNSUPPORTED_BROWSER="WP_UNSUPPORTED_BROWSER",e.WP_UNSUPPORTED_CHAT="WP_UNSUPPORTED_CHAT",e.WP_CREATE_INELIGIBLE_TVOD="WP_CREATE_INELIGIBLE_TVOD",e.WP_JOIN_INELIGIBLE_TVOD="WP_JOIN_INELIGIBLE_TVOD",e.WP_CREATE_INELIGIBLE_SVOD_TVOD="WP_CREATE_INELIGIBLE_SVOD_TVOD",e.WP_JOIN_INELIGIBLE_SVOD_TVOD="WP_JOIN_INELIGIBLE_SVOD_TVOD",e.WP_BANNED_SPECIFIC_CHAT="WP_BANNED_SPECIFIC_CHAT",e.WP_SAFARI_MAC_UNSUPPORTED="WP_SAFARI_MAC_UNSUPPORTED"}(ss||(ss={}));var ds,ps=function(e){return{learnMore:{href:"/watchpartylearn/ref="+e}}},fs={learnMore:{href:"/help/watchparty/communityguidelines/ref="+(0,Or.i)("atv_dp_wp_guid")}},ms=((cs={})[ss.WP_ERROR]={type:us.MessageTypes.warning,heading:"DV_DP_WP_ERROR_HEADING",body:"DV_DP_WP_ERROR",automationId:"wp-error-banner"},cs[ss.WP_END]={type:us.MessageTypes.info,heading:"DV_DP_WP_END_HEADING",body:"DV_DP_WP_END",automationId:"wp-end-banner"},cs[ss.WP_STREAM_ENDED]={type:us.MessageTypes.info,heading:"DV_DP_WP_END_HEADING",body:"DV_DP_WP_STREAM_ENDED",automationId:"wp-stream-end-banner"},cs[ss.WP_CREATE_INELIGIBLE]={type:us.MessageTypes.warning,heading:"DV_DP_WP_CREATE_INELIGIBLE_HEADING",body:"DV_DP_WP_CREATE_INELIGIBLE",dvStringAttrs:ps("atv_dp_wp_cr_in_learn"),automationId:"wp-create-ineligible-banner"},cs[ss.WP_JOIN_INELIGIBLE]={type:us.MessageTypes.warning,heading:"DV_DP_WP_JOIN_INELIGIBLE_HEADING",body:"DV_DP_WP_JOIN_INELIGIBLE",dvStringAttrs:ps("atv_dp_wp_jn_in_learn"),automationId:"wp-join-ineligible-banner"},cs[ss.WP_GEO_RESTRICTION]={type:us.MessageTypes.warning,heading:"DV_DP_WP_GEO_RESTRICTION_HEADING",body:"DV_DP_WP_GEO_RESTRICTION",automationId:"wp-geo-restriction-banner"},cs[ss.WP_UNSUPPORTED_BROWSER]={type:us.MessageTypes.warning,heading:"DV_DP_WP_UNSUPPORTED_BROWSER_HEADING",body:"DV_DP_WP_UNSUPPORTED_BROWSER",dvStringAttrs:ps("atv_dp_wp_ub_learn"),automationId:"wp-unsupported-browser-banner"},cs[ss.WP_UNSUPPORTED_CHAT]={type:us.MessageTypes.warning,heading:"DV_DP_WP_UNSUPPORTED_CHAT_HEADING",body:"DV_DP_WP_UNSUPPORTED_CHAT",automationId:"wp-unsupported-chat-banner"},cs[ss.WP_CREATE_INELIGIBLE_TVOD]={type:us.MessageTypes.warning,heading:"DV_DP_WP_CREATE_INELIGIBLE_HEADING",body:"DV_DP_WP_CREATE_INELIGIBLE_TVOD",dvStringAttrs:ps("atv_dp_wp_cr_in_learn_t"),automationId:"wp-create-ineligible-banner"},cs[ss.WP_JOIN_INELIGIBLE_TVOD]={type:us.MessageTypes.warning,heading:"DV_DP_WP_JOIN_INELIGIBLE_HEADING",body:"DV_DP_WP_JOIN_INELIGIBLE_TVOD",dvStringAttrs:ps("atv_dp_wp_jn_in_learn_t"),automationId:"wp-join-ineligible-banner"},cs[ss.WP_CREATE_INELIGIBLE_SVOD_TVOD]={type:us.MessageTypes.warning,heading:"DV_DP_WP_CREATE_INELIGIBLE_HEADING",body:"DV_DP_WP_CREATE_INELIGIBLE_SVOD_TVOD",dvStringAttrs:ps("atv_dp_wp_cr_in_learn_st"),automationId:"wp-create-ineligible-banner"},cs[ss.WP_JOIN_INELIGIBLE_SVOD_TVOD]={type:us.MessageTypes.warning,heading:"DV_DP_WP_JOIN_INELIGIBLE_HEADING",body:"DV_DP_WP_JOIN_INELIGIBLE_SVOD_TVOD",dvStringAttrs:ps("atv_dp_wp_jn_in_learn_st"),automationId:"wp-join-ineligible-banner"},cs[ss.WP_BANNED_SPECIFIC_CHAT]={type:us.MessageTypes.warning,heading:"DV_DP_WP_BANNED_SPECIFIC_CHAT_HEADING",body:"DV_DP_WP_BANNED_SPECIFIC_CHAT",dvStringAttrs:fs,automationId:"wp-banned-specific-chat"},cs[ss.WP_SAFARI_MAC_UNSUPPORTED]={type:us.MessageTypes.warning,heading:"DV_DP_WP_SAFARI_MAC_UNSUPPORTED_HEADING",body:"DV_DP_WP_SAFARI_MAC_UNSUPPORTED_BODY",dvStringAttrs:ps("atv_dp_wp_ub_learn"),automationId:"wp-mac-safai-unsupported"},cs),hs="bannerMsg";!function(e){e[e.ALLOW=0]="ALLOW",e[e.DENY_WITH_UPSELL=1]="DENY_WITH_UPSELL",e[e.DENY=2]="DENY",e[e.NOT_APPLICABLE=3]="NOT_APPLICABLE"}(ds||(ds={}));var gs,vs,_s,ys,bs,Es,ws;ds.ALLOW,ds.DENY_WITH_UPSELL,ds.DENY,ds.NOT_APPLICABLE;!function(e){e.PURCHASE="PURCHASE",e.RENTAL="RENTAL",e.SUBSCRIPTION="SUBSCRIPTION"}(gs||(gs={})),function(e){e.GEO_RESTRICTED="GEO_RESTRICTED",e.WP_ENDED="WP_ENDED",e.CHAT_NOT_SUPPORTED="CHAT_NOT_SUPPORTED",e.BANNED_USER="BANNED_USER"}(vs||(vs={})),function(e){e.WatchPartyInSession="WatchPartyInSession",e.Idle="Idle",e.Closed="Closed"}(_s||(_s={})),function(e){e.TransitionTitle="TransitionTitle"}(ys||(ys={})),function(e){e.INVALID_REQUEST_PARAMETERS="INVALID_REQUEST_PARAMETERS",e.DEPENDENCY_RETRIEVE_FAILURE="DEPENDENCY_RETRIEVE_FAILURE",e.WP_DECORATION_ERROR="WP_DECORATION_ERROR",e.WP_GET_TITLES_ERROR="WP_GET_TITLES_ERROR",e.UNAUTHORIZED_PRIME_PLAYBACK="UNAUTHORIZED_PRIME_PLAYBACK",e.WP_GET_STATE_ERROR="WP_GET_STATE_ERROR",e.WP_DESTROY_ERROR="WP_DESTROY_ERROR",e.WP_CREATE_ERROR="WP_CREATE_ERROR",e.UNAVAILABLE_TERRITORY="UNAVAILABLE_TERRITORY",e.RESOURCE_NOT_FOUND_ERROR="RESOURCE_NOT_FOUND_ERROR"}(bs||(bs={})),function(e){e.REGISTER="register",e.DEREGISTER="deregister",e.PAUSED="HUDDLES_EVENT_WATCH_PARTY_PLAYBACK_PAUSED",e.RESUMED="HUDDLES_EVENT_WATCH_PARTY_PLAYBACK_RESUMED",e.SEEK_FORWARD="HUDDLES_EVENT_WATCH_PARTY_PLAYBACK_SEEK_FORWARDS",e.SEEK_BACKWARD="HUDDLES_EVENT_WATCH_PARTY_PLAYBACK_SEEK_BACKWARDS",e.FINISHED="HUDDLES_EVENT_WATCH_PARTY_PLAYBACK_FINISHED",e.HOST="HUDDLES_EVENT_WATCH_PARTY_PLAYBACK_HOST"}(Es||(Es={})),function(e){e.SVOD="s",e.TVOD="t",e.SVOD_TVOD="st"}(ws||(ws={}));var Ds,Ts=function(){return(Ts=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ps=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Is=new is.Oc("DVWebNode:detail"),Ss=function(e,t){var n,r,a;return(n={})[fo.Xt]=function(e){return Object.entries(e).reduce((function(e,t){var n=t,r=n[0],a=n[1],o=(a.catalogId,a.contributors,a.genres,a.enhancedSubtitles,a.images),i=(a.isStarlightEnhanced,a.studios,Ps(a,["catalogId","contributors","genres","enhancedSubtitles","images","isStarlightEnhanced","studios"]));return e[r]=Ts(Ts({},i),{images:o&&{packshot:o.packshot,covershot:o.covershot}}),e}),{})}(Ts(Ts(Ts(Ts(Ts({},(t.widgets.titleContent||[]).reduce((function(e,t){return t.cards.forEach((function(t){e[t.titleID]=t.detail})),e}),{})),(t.widgets.carousel||[]).reduce((function(e,t){return t.cards.forEach((function(t){e[t.titleID]=t.detail})),e}),{})),(t.widgets.castAndCrew?t.widgets.castAndCrew.castAndCrews:[]).reduce((function(e,t){return t.titleCollections.cards.forEach((function(t){e[t.titleID]=t.detail})),e}),{})),(t.widgets.seasonSelector||[]).reduce((function(e,t){return e[t.titleID]=t.detail,e}),{})),(t.widgets.bundleCarousel&&t.widgets.bundleCarousel.cards||[]).reduce((function(e,t){return e[t.titleID]=t.detail,e}),{}))),n[fo.B6]=Ts({},t.widgets.header?((r={})[e]=t.widgets.header.detail,r):{}),n[fo.k5]=Ts({},t.widgets.productDetails?((a={})[e]=t.widgets.productDetails.detail,a):{}),n},ks=function(e,t){var n,r;return Ts(Ts(Ts(Ts({},t.widgets.self?((n={})[e]=t.widgets.self,n):{}),(t.widgets.seasonSelector||[]).reduce((function(e,t){return e[t.titleID]=t.self,e}),{})),(t.widgets.titleContent||[]).reduce((function(e,t){return t.cards.filter((function(e){return e.self})).forEach((function(t){e[t.titleID]=t.self})),e}),{})),t.widgets.buybox&&t.widgets.buybox.bestTitleID&&t.widgets.buybox.bestSelf?((r={})[t.widgets.buybox.bestTitleID]=t.widgets.buybox.bestSelf,r):{})},Cs=function(e,t){var n;return Ts({},t.widgets.header?((n={})[e]=t.widgets.header.imdb,n):{})},Os=function(e,t){var n;return Ts({},t.widgets.notification?((n={})[e]=t.widgets.notification,n):{})},xs=function(e,t){var n;return Ts({},t.widgets.seasonSelector?((n={})[e]=t.widgets.seasonSelector.map((function(e){return{seasonId:e.titleID,seasonLink:e.seasonLink}})),n):{})},As=function(e,t){var n;return Ts({},t.widgets.buybox?((n={})[e]=t.widgets.buybox.titleID,n):{})},Ns=function(e,t){var n;return Ts({},t.widgets.creative?((n={})[e]=t.widgets.creative,n):{})},Rs=function(e){return e.widgets.pageContext},Ls=function(e,t){var n;return Ts({},t.widgets.restrictions?((n={})[e]=t.widgets.restrictions,n):{})},Vs=function(e,t){var n;return Ts({},t.widgets.trailer?((n={})[e]=t.widgets.trailer,n):{})},Ms=function(e,t){var n;return Ts({},t.widgets.watchlist?((n={})[e]=t.widgets.watchlist,n):{})},Ws=function(e){return Ts(Ts(Ts(Ts({},(e.widgets.carousel||[]).reduce((function(e,t){return t.cards.filter((function(e){return e.watchlist})).forEach((function(t){e[t.titleID]=t.watchlist})),e}),{})),(e.widgets.titleContent||[]).reduce((function(e,t){return t.cards.filter((function(e){return e.watchlist})).forEach((function(t){e[t.titleID]=t.watchlist})),e}),{})),(e.widgets.castAndCrew&&e.widgets.castAndCrew.castAndCrews.map((function(e){return e.titleCollections}))||[]).reduce((function(e,t){return t.cards.filter((function(e){return e.watchlist})).forEach((function(t){e[t.titleID]=t.watchlist})),e}),{})),e.widgets.bundleCarousel&&e.widgets.bundleCarousel.cards||[].filter((function(e){return e.watchlist})).reduce((function(e,t){return e[t.titleID]=t.watchlist,e}),{}))},js=function(e,t){var n,r;return(n={})[io.L5]=(t.widgets.titleContent||[]).reduce((function(e,t){return t.cards.forEach((function(t){t.action&&(e[t.titleID]=t.action)})),e}),{}),n[io.t1]=t.widgets.buybox?((r={})[e]=t.widgets.buybox.action,r):{},n},Bs=function(e,t){var n;return{fragments:Ts(Ts({},(t.widgets.titleContent||[]).reduce((function(e,t){return t.cards.forEach((function(t){t.refund&&(e[t.titleID]=t.refund)})),e}),{})),t.widgets.buybox?(n={},n[e]=t.widgets.buybox.refund,n):{}),refunding:null}},Fs=function(e){return{header:e.text,collectionType:(t=e.collectionType,t&&t.toLowerCase()||""),totalCardSize:e.totalCardSize,titleIds:e.cards.map((function(e){return e.titleID}))};var t},Us=function(e,t){var n;return t.widgets.titleContent&&t.widgets.titleContent.length>0?((n={})[e]=t.widgets.titleContent.map((function(e){return Fs(e)})),n):{}},Hs=function(e,t){var n;return t.widgets.carousel&&t.widgets.carousel.length>0?((n={})[e]=t.widgets.carousel.map((function(e){return Fs(e)})),n):{}},Gs=function(e){return(e.widgets.carousel||[]).reduce((function(e,t){return t.cards.reduce((function(e,t){return t.entitlementCue&&(e[t.titleID]=t.entitlementCue),e}),e),e}),{})},qs=function(e,t){var n;return t.widgets.bundleCarousel?((n={})[e]=Fs(t.widgets.bundleCarousel),n):{}},zs=function(e,t,n){var r,a=t.widgets,o=a.banner,i=a.buybox;return{crow:o?(r={},r[e]=o,r):{},ui:Zs(n,i&&i.action&&i.action.watchPartyAction&&i.action.watchPartyAction.watchPartyOfferType||ws.SVOD)}},Zs=function(e,t){var n,r=(e.queryParameters.bannerMsg||[]).join("").toUpperCase();switch(r){case ss.WP_CREATE_INELIGIBLE:n=t===ws.TVOD?ss.WP_CREATE_INELIGIBLE_TVOD:t===ws.SVOD_TVOD?ss.WP_CREATE_INELIGIBLE_SVOD_TVOD:ss.WP_CREATE_INELIGIBLE;break;case ss.WP_JOIN_INELIGIBLE_SVOD_TVOD:n=ss.WP_JOIN_INELIGIBLE_SVOD_TVOD;break;case ss.WP_JOIN_INELIGIBLE:case ss.WP_JOIN_INELIGIBLE_TVOD:default:n=r}var a=ms[n];return a?{type:a.type,headingStringId:a.heading,stringId:a.body,dvStringAttrs:a.dvStringAttrs,automationId:a.automationId}:null},Ys=function(e,t){var n;return Ts({},t.widgets.faq?((n={})[e]=t.widgets.faq,n):{})},Xs=function(e,t){var n;return Ts({},t.widgets.contactUs?((n={})[e]=t.widgets.contactUs,n):{})},Ks=function(e){return Ts(Ts(Ts({},(e.widgets.carousel||[]).reduce((function(e,t){return t.cards.forEach((function(t){e[t.titleID]=t.pageLink})),e}),{})),(e.widgets.castAndCrew&&e.widgets.castAndCrew.castAndCrews.map((function(e){return e.titleCollections}))||[]).reduce((function(e,t){return t.cards.filter((function(e){return e.pageLink})).forEach((function(t){e[t.titleID]=t.pageLink})),e}),{})),(e.widgets.titleContent||[]).reduce((function(e,t){return t.cards.forEach((function(t){e[t.titleID]=t.pageLink})),e}),{}))},Js=function(e,t){var n;return Ts({},t.widgets.scoutBanner?((n={})[e]=t.widgets.scoutBanner,n):{})},Qs=function(e,t){var n;return Ts({},t.widgets.castAndCrew?((n={})[e]=Ts(Ts({},t.widgets.castAndCrew),{castAndCrews:t.widgets.castAndCrew.castAndCrews.map((function(e){var t=e.titleCollections;return{cast:e.cast,titles:t.cards.map((function(e){return e.titleID}))}}))}),n):{})},$s=function(e,t){var n;return Ts({},t.widgets.otherFormats?((n={})[e]=t.widgets.otherFormats,n):{})},ec=function(e){return e.widgets.bottomBar},tc=function(e,t){return t.widgets.buybox&&t.widgets.buybox.action&&t.widgets.buybox.action.experimentToken?ac(t.widgets.buybox.action.experimentToken,e):{}},nc=function(e,t){var n;return Ts({},t.widgets.buybox?((n={})[e]=Boolean(t.widgets.buybox.isComingSoon),n):{})},rc=function(e,t){var n;return Ts({},t.widgets.metadata?((n={})[e]=t.widgets.metadata,n):{})},ac=function(e,t){var n,r=new ls.ExperimentTokenHelper,a=function(){try{return r.decode(e)}catch(e){return void Is.count($.EZ+"::ExperimentTokenCallFailure",1,!0)}}();return a?((n={})[t]=Ts(Ts({},oc(a.pvCinemaToken)),ic(a.cancellationWinbackToken)),n):{}},oc=function(e){var t=e&&e.brandingMessage,n=e&&e.logoUrl;return e?{pvCinemaToken:{message:(0,zt.e6)(t),logoUrl:n}}:{}},ic=function(e){var t=e&&e.cancellationWinbackStringInfo;return t?{cancellationWinbackToken:{cancellationWinbackStringInfo:{label:t.label,confirmationLabel:t.confirmationLabel,cancellationLabel:t.cancellationLabel,playbackLabel:t.playbackLabel,modalMessage:t.modalMessage},enrollmentId:e.enrollmentId,csrfToken:e.csrfToken}}:{}},sc=function(e,t){var n;return Ts({},t.widgets.autoplayHero?((n={})[e]=t.widgets.autoplayHero,n):{})},cc=function(e){return e.widgets.playbackIntegration?e.widgets.playbackIntegration:{}},lc=function(e,t){var n;return Ts({},t.widgets.buybox&&t.widgets.buybox.hdPlaybackRestricted?((n={})[e]=t.widgets.buybox.hdPlaybackRestricted,n):{})},uc=function(e,t){var n=dc(e);return{pageTitleId:n,detail:Ss(n,e),action:js(n,e),refund:Bs(n,e),imdb:Cs(n,e),bundleCarousel:qs(n,e),buyboxTitleId:As(n,e),creative:Ns(n,e),banner:zs(n,e,t),notification:Os(n,e),seasons:xs(n,e),self:ks(n,e),trailer:Vs(n,e),watchlist:Ms(n,e),hoverWatchlist:Ws(e),restriction:Ls(n,e),collections:Us(n,e),carousel:Hs(n,e),pageLink:Ks(e),faq:Ys(n,e),contactUs:Xs(n,e),scoutBanner:Js(n,e),castAndCrew:Qs(n,e),otherFormats:$s(n,e),pageContext:Rs(e),bottomBar:ec(e),entitlementCue:Gs(e),tapsExperimentToken:tc(n,e),autoplayHero:sc(n,e),playbackIntegration:cc(e),hdPlaybackRestricted:lc(n,e),comingSoon:nc(n,e),metadata:rc(n,e)}},dc=function(e){return e&&e.widgets&&e.widgets.pageContext.pageTitleId},pc=function(e){var t;return Object.keys(e.results).reduce((function(t,n){var r=e.results[n],a=r.action,o=r.refund;return t.action[io.L5][n]=a,t.refund.fragments[n]=o,t}),{action:(t={},t[io.t1]={},t[io.L5]={},t),refund:{fragments:{}}})},fc=function(e,t){var n;return{watchlist:Ts({},t.watchlistAction?(n={},n[e]=t.watchlistAction,n):{})}},mc=function(e){var t=ci;if(e&&e.widgets){var n=e.widgets.find((function(e){return e.widgetType===ki.DevicesWidget&&e.content}));n&&(t=n.content.devices)}return{deviceEntries:t}},hc=function(e){return e.reduce((function(e,t){return e[t.reviewID]=t,e}),{})},gc=function(e,t){var n,r=(e||[]).map((function(e){return e.reviewID}));return(n={})[bi(t)]=r,n},vc=function(e,t,n){var r,a;return n?{reviews:Ts({},e&&e.output?(r={},r[n]={reviewsAnalysisModel:e.output.reviewsAnalysisModel,reviewIdToReview:Ts(Ts({},hc(e.output.reviews)),hc(e.output.internationalReviews||[])),reviewsOrdering:gc(e.output.reviews,t),internationalReviewsOrdering:null===(a=e.output.internationalReviews)||void 0===a?void 0:a.map((function(e){return e.reviewID})),createReviewLink:e.output.createReviewLink,allReviewsLink:e.output.allReviewsLink},r):{})}:{}},_c={customerID:"XXXXXXXXXXXXXXXX",isInternal:"1",requestID:"3BG2QKT044ZH8E680Q1X",domain:"Fogg",marketplaceID:"ART4WZ8MWBX2Y",sessionID:"258-0086353-3654954",customerIPAddress:"54.240.197.239",locale:"en_US",osLocale:"en-US,en;q=0.9",currentTerritory:"IE",recordTerritory:"IE",originalURI:"/",path:"/gp/video/storefront",weblabOverrides:{},queryParameters:{mock:["mock"]},userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36",trafficPolicies:"RM-INT",appName:"mock",deviceID:"mock",geoToken:"mock",contingencies:void 0,mocks:void 0},yc=(new is.Oc("mock"),function(){return(yc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)}),bc=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},Ec=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};!function(e){e.GetDetailPage="GetDetailPage",e.GetTitles="GetTitles",e.WatchlistToggle="WatchlistToggle",e.GetYourDevicesSettingsPage="GetYourDevicesSettingsPage"}(Ds||(Ds={}));var wc=new c.eZ,Dc=new is.Oc("DVWebNode:detail"),Tc=function(e){var t=e.operation,n=e.input;return bc(void 0,void 0,void 0,(function(){var e;return Ec(this,(function(r){switch(r.label){case 0:return[4,wc.GetDetailPage(n)];case 1:return e=r.sent(),(0,o.v5)(t,!0),[2,uc(e,_c)]}}))}))},Pc=function(e,t){return Oc({input:e,operation:Ds.GetDetailPage},Tc,t)},Ic=function(e){var t=e.operation,n=e.input;return bc(void 0,void 0,void 0,(function(){var e;return Ec(this,(function(r){switch(r.label){case 0:return[4,wc.GetTitles(n)];case 1:return e=r.sent(),(0,o.v5)(t,!0),[2,pc(e)]}}))}))},Sc=function(e){var t=e.operation,n=e.input;return bc(void 0,void 0,void 0,(function(){var e;return Ec(this,(function(r){switch(r.label){case 0:return[4,wc.WatchlistToggle(n)];case 1:return e=r.sent(),(0,o.v5)(t,!0),[2,e]}}))}))},kc=function(e,t){var n=e.operation,r=e.input;return bc(void 0,void 0,void 0,(function(){var e;return Ec(this,(function(a){switch(a.label){case 0:return[4,wc.GetYourDevicesSettingsPage(r,t)];case 1:return e=a.sent(),(0,o.v5)(n,!0),[2,e]}}))}))};function Cc(e,t,n,r,a){return bc(this,void 0,void 0,(function(){var o,i;return Ec(this,(function(s){switch(s.label){case 0:return o=function(o){return o.GetDetailPage(as({context:e,titleID:t,isElcano:n},["Episodes"],r,a))},[4,re({context:e,api:wc.api,operation:o,titleID:t})];case 1:return i=s.sent(),Ii.dispatch({type:Oo.k.STORE_MERGE,payload:yc({},uc(i.operationResponse,_c))}),[2]}}))}))}var Oc=function(e,t,n,r,a){var i=e.input,s=e.operation;return bc(void 0,void 0,void 0,(function(){var e,c,l,u;return Ec(this,(function(d){switch(d.label){case 0:e=function(e){var t=n(e);Ii.dispatch(t)},d.label=1;case 1:return d.trys.push([1,3,,4]),(0,o._D)(s),(0,o.NZ)(s),c=yc(yc({},i),{context:Ii.getState().requestContext}),[4,t({input:c,operation:s},r)];case 2:return l=d.sent(),(0,o.rm)(s,!0),(0,o.QS)(s,!0),e(l),[3,4];case 3:return(u=d.sent())instanceof Pt.yM?Dc.info(u):Dc.fatal(u),e(null),"function"==typeof a&&a(u),[3,4];case 4:return[2]}}))}))},xc=function(e,t,n,r){var a=function(e){var t=e.titleID,n=e.atfWidgets,r={titleID:t,sections:["Atf"],isElcano:e.isElcano};return n&&(r.widgets=(0,$.Dv)({atf:n})),r}({isElcano:t,titleID:e,atfWidgets:["BuyBox"]});return Pc(a,(function(e){return{type:So.k.RefreshAtfActionBox,input:a,output:e,payload:{offerAsin:n,canonicalTitleId:r}}}))},Ac=function(e){var t=function(e,t,n){return{context:e,titleIDs:[t],fragments:["Action","Refund"],presentationScheme:(r=e.domain||"Fogg",It(r)?"retail-web-episode-list":"global-web-episode-list"),isElcano:n};var r}(Ii.getState().requestContext,e,Boolean(Ii.getState().features.isElcano));return function(e,t){return Oc({input:e,operation:Ds.GetTitles},Ic,t)}(t,(function(e){return{type:So.k.RefreshEpisode,input:t,output:e}}))},Nc=function(e){var t=Ii.getState(),n=t.pageTitleId,r=[xc(t.pageTitleId,Boolean(t.features.isElcano))];return wt(t)||r.push(e?Ac(e):function(e){var t=rs({context:Ii.getState().requestContext,titleID:e,isElcano:Boolean(Ii.getState().features.isElcano)});return Pc(t,(function(e){return{type:So.k.RefreshBtfActionBoxes,input:t,output:e}}))}(n)),Promise.all(r)},Rc=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},Lc=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Vc=Ni().deviceTypeId,Mc=function(e,t,n,r,a,o){var i=[$.EZ,"Purchase",r?"continuePurchase":"startPurchase"].join("_");t.info("[Purchase] - Initiating purchase of offerToken "+n).count(i,1,!0).count(i+"_"+Vc,1,!0),e({type:So.k.TriggerPurchase,payload:{offerToken:n,continueToken:r,refTag:a,gtiRedirect:o}})},Wc=function(e){return(0,e.dispatch)({type:So.k.PurchaseCancelled})},jc=function(e){var t=e.dispatch,n=e.reload,r=void 0!==n&&n;return t({type:So.k.PurchaseFailed,payload:{reload:r}})},Bc=function(e){var t=e.logger,n=Ii.getState(),r=zi(n);r||t.fatal("[Purchase] - No ongoing purchase found").count($.EZ+"_Purchase_refreshAfterDoneError",1,!0).count($.EZ+"_Purchase_refreshAfterDoneError_"+Vc,1,!0);var a,o,i,s,c=r&&r.details,l=c&&!(0,$.JQ)(c.offer.purchaseData.isSeasonPurchase)&&c.canonicalId||void 0,u=n.requestContext.queryParameters;return u&&(u.wpCode||u.wpTitleId)?(a=u.wpCode&&u.wpCode[0],o=u.wpTitleId&&u.wpTitleId[0],i=n.requestContext,s="Retail"===i.domain?"/gp/video/watchparty":"/watchparty",void(a?window.location.assign(s+"/"+a+"/ref="+(0,Or.i)("atv_dp_wp_join_ap")):window.location.assign(s+"/ref="+(0,Or.i)("atv_dp_wp_create_ap")+"?titleId="+o))):Nc(l)},Fc=null,Uc=function(e){var t=e.dispatch,n=e.logger;return Rc(void 0,void 0,void 0,(function(){var e,r,a,o;return Lc(this,(function(i){switch(i.label){case 0:return(e=Ii.getState().purchase)?(r=e.offerToken,a=e.continueToken,o=e.refTag,r===Fc?[3,2]:(Fc=r,[4,Nc()])):[2];case 1:return i.sent(),Mc(t,n,r,a,o),[3,3];case 2:n.fatal("[Purchase] - CSRF Callback already called once for offerToken "+r).count($.EZ+"_Purchase_refreshCSRFError",1,!0).count($.EZ+"_Purchase_refreshCSRFError_"+Vc,1,!0),Fc=null,jc({dispatch:t,logger:n,reload:!0}),i.label=3;case 3:return[2]}}))}))};const Hc="_2kzSeI";var Gc,qc=n("./src/shared/deeplink/index.ts"),zc=function(){return(zc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Zc=function(e){var t=i.useContext(Y.h),n=t.pageType,r=t.subPageType;return i.createElement(Cr.Jd,zc({},e,{pageType:n,subPageType:r}))},Yc=function(){return(Yc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Xc=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},Kc=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Jc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Qc=function(e){var t=e.hiddenInputs,n=void 0===t?{}:t,r=e.children,a=e.id,o=Jc(e,["hiddenInputs","children","id"]);return i.createElement("form",Yc({},o,{id:a,method:"POST"}),r,Object.keys(n).map((function(e,t){return i.createElement("input",{key:"ActionFormImput-"+t,type:"hidden",name:e,value:n[e]})})))};!function(e){e.ACTION_BOX="ab",e.EPISODE_LIST="el",e.MORE_WAYS_TO_WATCH="mw",e.MORE_WAYS_TO_SUBSCRIBE="mws",e.EPISODE_LIST_MORE_WAYS_TO_WATCH="el_mw"}(Gc||(Gc={}));var $c=(0,Hr.n)((0,oe.$j)((function(e,t){var n=qi(e)[t.tvodAction.offerToken];return{requestContext:Ft(e),canonicalTitleId:n&&n.canonicalId,isMShop:Je(e),purchaseLaunchType:e.pageContext.purchaseLaunchType,offerClarityEnabled:e.pageContext.features&&"true"===e.pageContext.features.offerClarityEnabled}}),(function(e,t){var n=t.logger;return{triggerPurchase:function(t,r){return Mc(e,n,t,void 0,r)}}}))((function(e){var t,n=e.tvodAction,r=e.requestContext.isRetail,a=e.scope,o=e.triggerPurchase,s=e.canonicalTitleId,c=e.closeModal,l=e.isMShop,u=e.purchaseLaunchType,d=e.offerClarityEnabled,p=e.svodWinnerChildrenExists,f=void 0!==p&&p,m=n&&n.purchaseData;if(!m)return null;var h=!d||f||c?function(e){switch(void 0===e&&(e="DEFAULT"),e.toUpperCase()){case"HIGHLIGHTED":return na.Purchase;default:return na.Default}}(n.style):na.Purchase;if("EMBEDDED"!==u){if(!m.appPurchaseUrl||"NONE"===u)return null;var g=m.appPurchaseUrl+"&ref_="+n.refMarker;return i.createElement(na.Button,{href:l?void 0:g,className:xe(Te,"tvod-button"),onClick:function(e){qc.b[u]({url:g,fallbackUrl:m.appFallbackUrl}),e.preventDefault()},use:h},i.createElement(v.Text,{string:n.label}))}var _=m.family,y=m.videoQuality,b=void 0===y?"":y,E=m.offerType,w=n.refMarker,D=r?{refTag:w,offerToken:n.offerToken,csrfToken:n.csrfToken,asin:n.asin}:{offerToken:n.offerToken},T=(a+"-"+_+"-"+b+"-"+E).toLowerCase(),P="tvod-btn-"+T;return i.createElement(Qc,{id:P,action:undefined,className:Te+" "+Hc,hiddenInputs:D,"data-automation-id":T},i.createElement(Zc,{refTag:w},i.createElement(na.ConfirmButton,{onlyConfirmOnTouchDevices:!0,onClick:function(e){return Xc(void 0,void 0,void 0,(function(){return Kc(this,(function(t){return s&&function(e,t){var n=t===Gc.EPISODE_LIST||t===Gc.EPISODE_LIST_MORE_WAYS_TO_WATCH;if("function"==typeof document.querySelector&&n){var r=document.querySelector('[for="selector-'+e+'"]');r&&("function"==typeof r.scrollIntoViewIfNeeded?r.scrollIntoViewIfNeeded(!1):"function"==typeof r.scrollIntoView&&r.scrollIntoView(!0))}}(s,a),c&&c(),o(n.offerToken,w),e.preventDefault(),[2]}))}))},className:xe("tvod-button",(t={},t["av-button"]=!n.style,t)),type:"submit",use:h},i.createElement(v.Text,{string:n.label}))),i.createElement("div",{dangerouslySetInnerHTML:{__html:'<script>\n              document.getElementById("'+P+'").addEventListener("submit",\n                function() {\n                  ue && ue.count(\'DVWebNodeDetail-PurchaseCoreExpJs\', 1);\n                  return true;\n                }\n              )\n            <\/script>'}}))}))),el=(0,oe.$j)((function(e){return{requestContext:Ft(e)}}))((function(e){var t,n=e.svodAction,r=e.requestContext.isRetail,a=e.className,o=e.forceDoubleHeight,s="PRIME"!==n.sType||r?na.PurchaseButton:na.PrimeButton;return i.createElement(s,{className:xe((t={},t[a]=!!a,t),Te,"dv-signup-button"),href:n.signupLink,forceDoubleHeight:o},i.createElement(v.Text,{string:n.label}))}));const tl="_3_bHuL",nl="_1FQbVE",rl="_3dszrE",al="lrbuQZ",ol="_91sNtF",il="_1ZKUqX",sl="_2Oq2gR",cl="_8Lzlfe",ll="RfL6Kw",ul="_2ihM3u",dl="rzhTkT",pl="bODh2p",fl="_1YYz9r",ml="_1ud7G5";var hl,gl=function(e){var t=e.balances;return t&&t.length?i.createElement("table",{className:sl},i.createElement("tbody",null,i.createElement("tr",null,i.createElement("th",null,i.createElement(Q,{stringID:"DV_DP_GC_balance_type_heading"})),i.createElement("th",null,i.createElement(Q,{stringID:"DV_DP_GC_balance_amount_heading"}))),t&&t.map((function(e){return i.createElement("tr",{key:e.label.string},i.createElement("td",null,e.label.string),i.createElement("td",null,e.displayAmount))})))):null},vl=n("./node_modules/@amzn/dvui/dist/Input.js"),_l=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yl=function(){return(yl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},bl=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},El=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},wl="DVWebNodeDetail-RedeemCode",Dl="/videohelp",Tl={video_support_website_url:{href:Dl}};!function(e){e[e.Ready=0]="Ready",e[e.Failed=1]="Failed",e[e.Success=2]="Success"}(hl||(hl={}));var Pl,Il=function(e){function t(t){var n=e.call(this,t)||this;return n.handleInput=function(e){n.setState({code:e.target.value,formStatus:hl.Ready})},n.onDismiss=function(){n.setState({formStatus:hl.Ready})},n.handleSubmit=function(e){e.preventDefault(),n.setState({disableInputs:!0}),n.redeemCode()},n.redeemCode=function(){return bl(n,void 0,void 0,(function(){var e,t,n;return El(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),e={context:this.props.requestContext,csrfToken:this.props.csrfToken,code:this.state.code},[4,wc.RedeemCode(e)];case 1:return t=r.sent(),(0,$.JQ)(t.success)?(this.setState({formStatus:hl.Success}),[4,this.props.updateBalance([t.balanceType])]):[3,3];case 2:return r.sent(),[3,4];case 3:this.setState({formStatus:hl.Failed}),r.label=4;case 4:return[3,6];case 5:return n=r.sent(),this.props.logger.error("DVWebNodeDetail-RedeemCode - RedeemCode request failed",n).count(wl,1,!0),this.setState({formStatus:hl.Failed}),[3,6];case 6:return this.setState({disableInputs:!1}),[2]}}))}))},n.state={disableInputs:!1,code:"",formStatus:hl.Ready},n}return _l(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.csrfToken,r=t.hideInput,a=this.state,o=a.formStatus,s=a.code,c=a.disableInputs,l=!n||c;return i.createElement(i.Fragment,null,!r&&i.createElement("form",{onSubmit:this.handleSubmit},i.createElement("label",{htmlFor:"dv-gc-input",className:fl},i.createElement(Q,{stringID:"DV_DP_UB_GC_enter_code"})),i.createElement("div",{className:ul},i.createElement(Y.h.Consumer,null,(function(t){var n=t.getString;return i.createElement(vl.Input,{className:dl,type:"text",placeholder:n("DV_DP_GC_code_input_placeholder"),autoComplete:"off",id:"dv-gc-input",value:s,onChange:e.handleInput,required:!0,disabled:l})})),i.createElement("div",{className:pl},i.createElement(Zc,{refTag:"atv_dp_apply_gcpc"},i.createElement(na.Button,{textAlign:"center",use:na.Purchase,type:"submit",className:ur.spacerAlignItems.center,disabled:l},i.createElement(Q,{stringID:"DV_DP_UB_GC_popup_apply"})))))),i.createElement(kl,{formStatus:o,onDismiss:this.onDismiss}))},t}(i.Component),Sl={className:cl+" "+ml,heading:"",dismissable:!0},kl=function(e){var t=e.formStatus,n=e.onDismiss;switch(t){case hl.Failed:return i.createElement("div",{id:"codeFailedBlock"},i.createElement(us.MessageBlock,yl({type:us.MessageTypes.warning},Sl,{onDismiss:n}),i.createElement(Q,{stringID:"DV_DP_GC_wrong_code",dvStringAttrs:Tl})));case hl.Success:return i.createElement("div",{id:"codeSuccessBlock"},i.createElement(us.MessageBlock,yl({type:us.MessageTypes.success},Sl),i.createElement(Q,{stringID:"DV_DP_UB_GC_success_message"})));default:return null}},Cl=(0,Hr.n)(Il),Ol=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xl=function(){return(xl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Al=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},Nl=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Rl="DVWebNodeDetail-GetGiftCard",Ll={url:{href:Dl}};!function(e){e[e.Ready=0]="Ready",e[e.Loading=1]="Loading",e[e.Failed=2]="Failed"}(Pl||(Pl={}));var Vl=function(e){function t(t){var n=e.call(this,t)||this;return n.updateBalance=function(e){return Al(n,void 0,void 0,(function(){var t,n,r,a,o;return Nl(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t={context:this.props.requestContext,balanceTypes:e},this.setState({balanceStatus:Pl.Loading}),[4,wc.GetGiftCard(t)];case 1:return n=i.sent(),r=this.state.giftCardContent,a=Bl(r&&r.balanceMap,n&&n.balances),this.setState({balanceStatus:Pl.Ready,giftCardContent:{csrfToken:n&&n.csrfToken,balanceMap:a}}),[3,3];case 2:return o=i.sent(),this.props.logger.error("DVWebNodeDetail-GetGiftCard - GetGiftCard request failed",o).count(Rl,1,!0),this.setState({balanceStatus:Pl.Failed,giftCardContent:void 0}),[3,3];case 3:return[2]}}))}))},n.state={balanceStatus:Pl.Loading},n}return Ol(t,e),t.prototype.componentDidMount=function(){this.updateBalance(["GiftCard","Promotion"])},t.prototype.render=function(){var e=this.props.requestContext,t=this.state,n=t.giftCardContent,r=t.balanceStatus;return i.createElement("div",null,i.createElement(Cl,{csrfToken:n&&n.csrfToken,requestContext:e,updateBalance:this.updateBalance,hideInput:r===Pl.Failed}),i.createElement("p",{className:al},i.createElement(Q,{stringID:"AVOD_DP_GC_promotion_message"})," ",i.createElement(Er.Link,{href:"/help/video/giftcard",target:"_blank"},i.createElement(Q,{stringID:"AVOD_DP_GC_toc_learn_more"}))),i.createElement("h3",{className:ol},i.createElement(Q,{stringID:"DV_DP_DV_GCPC_window_title"})),r!==Pl.Failed&&i.createElement("p",{className:il},i.createElement(Q,{stringID:"DV_DP_GC_balances_explanation"})),i.createElement("div",{className:ll},i.createElement(jl,{balanceStatus:r,balances:n&&n.balanceMap&&Object.values(n.balanceMap)})))},t}(i.Component),Ml=(0,Hr.n)(Vl),Wl={className:cl,heading:"",dismissable:!1},jl=function(e){var t=e.balanceStatus,n=e.balances;switch(t){case Pl.Ready:return i.createElement(gl,{balances:n});case Pl.Loading:return i.createElement(Za.Spinner,null);case Pl.Failed:return i.createElement("div",{id:"balanceUpdateFailedBlock"},i.createElement(us.MessageBlock,xl({type:us.MessageTypes.warning},Wl),i.createElement(Q,{stringID:"DV_DP_GC_balance_update_failed",dvStringAttrs:Ll})));default:return null}},Bl=function(e,t){var n=xl({},e);return t&&t.forEach((function(e){return n[e.balanceType]=e})),n},Fl=function(e){var t=e.requestContext,n=e.isOpen,r=e.onClose;return i.createElement(i.Fragment,null,n&&i.createElement(bo.Modal,{className:tl,isVisible:!0,onClose:r,header:i.createElement(Ul,null),modalId:"giftCardModal",size:"s"},i.createElement(Ml,{requestContext:t})))},Ul=function(){return i.createElement("div",{id:"giftCardModalHeader"},i.createElement("h3",{className:nl},i.createElement("strong",null,i.createElement(Q,{stringID:"DV_DP_GC_widget_heading"}))))},Hl=function(e){var t=e.openModal;return i.createElement(Zc,{refTag:"dv-gcp-modal"},i.createElement(Er.Link,{className:rl,onClick:t},i.createElement(Q,{stringID:"AVOD_DP_redeem_gift_card_or_promotion"})))};const Gl="_3WZMgk";var ql=function(e){var t=e.titleID,n=e.parameters,r=e.originalURI,a=e.isRetail,o=ye({parameters:n,originalURI:r,isRetail:a},"dv_dp_gc_sign_in",Ee({parameters:n,originalURI:r,isRetail:a},t,"dv_dp_gc_sign_in"));return i.createElement(Er.Link,{href:o},i.createElement(Q,{stringID:"AVOD_DP_redeem_gift_card_or_promotion"}))},zl=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach((function(e){return e&&e()}))},Zl=(0,oe.$j)((function(e){return kn(e)}))((function(e){var t=e.isRedeemAndPromoRestricted,n=e.hasTvodWinnerOffer,r=e.titleID,a=e.moreWaysToWatch,o=e.placement,s=e.closeModal,c=e.requestContext,l=c.isRecognizedCustomer,u=c.queryParameters,d=c.originalURI,p=c.isRetail,f=e.toggleGiftCardModal;return!p||t||"ActionBox"===o&&(!n||wu(a))?null:i.createElement("div",{className:xe(Gl,"dv-gift-card-wrapper")},l?i.createElement(Hl,{openModal:function(){return zl(s,f)}}):i.createElement(ql,{titleID:r,parameters:u,originalURI:d,isRetail:p}))}));const Yl="_3FevTR",Xl="_18cEc-",Kl="BGWBAK",Jl="Fk_mk-",Ql="_20rKJm",$l="_3VsqmF",eu="xLG7dw",tu="IcrXck";var nu=function(e){var t=e.Tag,n=e.className,r=e.message;return r?i.createElement(t,{className:n},i.createElement(v.Text,{className:ke,string:r})):null},ru=function(e){var t=e.Tag,n=e.messages,r=e.className;return(0,$.xb)(n)?null:i.createElement(i.Fragment,null,n.map((function(e,n){return i.createElement(nu,{Tag:t,message:e,className:r,key:"conditional-text-"+n})})))};const au="NgssYl",ou="zNwind",iu="_2DUDiN",su="_2uG3bk",cu="_3IwZL4",lu="_3GDbaV",uu="_2L84tL",du="_3pCHEe";var pu=function(){return(pu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},fu=function(e){var t=e.message;return t?i.createElement("p",{className:iu},i.createElement($n.Icon,{use:$n.IconType.LOCK,className:su}),i.createElement(v.Text,{string:t})):null},mu=((0,Hr.n)((function(e){var t=e.accessChangeMessages,n=e.className,r=e.logger;return(0,i.useEffect)((function(){t.length>0&&r.count("DVWebNode::Detail::AtfLeavingSoonMessages",1,!0)}),[]),i.createElement(ru,{Tag:Io.WarningAlert,messages:t,className:n})})),function(e){var t=e.preorder;if(!t)return null;var n=t.body,r=t.cancelOrderText,a=t.title,o=t.displayMessages;return i.createElement("div",{className:lu},i.createElement("h2",null,a),i.createElement(v.Text,{string:n,tag:"p"}),o.map((function(e){return i.createElement(v.Text,{string:e,tag:"p"})})),i.createElement(v.Text,{string:r,tag:"p"}))}),hu=function(e){var t=e.acceptedPreorder,n=e.notificationWarnings,r=e.subProblemMessages,a=e.infoAlertMessages,o=e.messagesWithLogo,s=e.topLevelTvodMessages,c=e.maturityLockText,l=e.tapsExperimentToken,u=e.showCancellationWinback,d=e.hdPlaybackRestricted;return i.createElement("div",{className:xe(au,ou,we,"av-playback-messages")},i.createElement(ru,{Tag:Io.ErrorAlert,messages:r}),i.createElement(fu,{message:c}),i.createElement(mu,{preorder:t}),i.createElement(ru,{Tag:Io.WarningAlert,messages:n}),i.createElement(ru,{Tag:Io.InfoAlert,messages:a}),i.createElement(ru,{Tag:Io.InfoAlert,messages:s}),i.createElement(nu,{Tag:Io.InfoAlert,message:d}),function(e){var t=e.messagesWithLogo,n=e.tapsExperimentToken,r=e.showCancellationWinback;return t?t.filter((function(e){return Boolean(e&&e.text&&e.text.string)})).map((function(e,t){var a=i.createElement(v.Text,{string:e.text});if(a&&!e.logo)return i.createElement(Io.InfoAlert,{key:"message-logo-alert-"+t,className:uu},a);var o={alt:"",src:e.logo,baseValue:35,baseType:Ce.HEIGHT,format:Oe.png},s=n&&n.cancellationWinbackToken,c=s&&s.cancellationWinbackStringInfo&&s.cancellationWinbackStringInfo.playbackLabel,l=i.createElement(mt,pu({className:cu},o));return i.createElement("p",{key:"message-logo-"+t,className:uu},e.channelLogoURL?i.createElement("a",{"data-automation-id":"channelLogo-link",href:e.channelLogoURL},l):l,i.createElement("strong",null,a,c&&r&&[i.createElement("br",null),i.createElement("span",{className:du},c)]))})):null}({messagesWithLogo:o,tapsExperimentToken:l,showCancellationWinback:u}))},gu=function(){return(gu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},vu=function(e){var t=e.label,n=e.sequenceNumber,r=n&&n.toString()||"";return i.createElement("h3",{className:Yl},(0,g.VJ)(t,{episodeNumber:r}))},_u={alt:"",baseValue:35,baseType:Ce.HEIGHT,format:Oe.png},yu=function(e,t){return i.createElement("div",{key:"actionGroup-"+t,className:$l},e.children.map((function(e,t){return Bi(e)&&(0,$.xb)(e.problems)&&i.createElement("div",{className:eu,key:"SvodButton-"+t},e.image&&(n=i.createElement("div",null,i.createElement(mt,gu({},_u,{src:e.image}))),(r=e.channelLink)?i.createElement("a",{href:r},n):n),e.message&&i.createElement("p",{className:Xl},e.message),i.createElement(el,{className:Kl,svodAction:e}));var n,r})))},bu=function(e){var t=e.moreWaysToWatch,n=e.closeModal,r=e.sequenceNumber,a=e.toggleGiftCardModal;if(!t)return null;var o,s=(Vi(o=t)&&o.children||[]).map((function(e){return Mi(e)&&e})).filter($.yb);return(0,$.xb)(s)?null:i.createElement("div",{className:"dv-mwtw-modal "+Jl},s.map((function(e,t){return function(e){return e.children&&e.children[0]&&Bi(e.children[0])}(e)?yu(e,t):function(e,t,n,r){return i.createElement("div",{key:"actionGroup-"+t,className:Ql},e.metadata&&e.metadata.label&&i.createElement(vu,{label:e.metadata.label,sequenceNumber:n}),i.createElement(ur.Spacer,{space:ur.spacerSpacing.xs},i.createElement(ru,{Tag:Io.InfoAlert,messages:e.metadata.messages})),e.children.map((function(e,t){return ji(e)&&i.createElement("div",{key:"TvodButton-"+t,className:tu},i.createElement(ur.Spacer,{space:ur.spacerSpacing.xs},i.createElement(ru,{Tag:Io.InfoAlert,messages:e.displayMessages})),i.createElement($c,{tvodAction:e,scope:Gc.MORE_WAYS_TO_WATCH,closeModal:r}))})))}(e,t,r,n)})),i.createElement(Zl,{placement:"MWTW",closeModal:n,toggleGiftCardModal:a}))},Eu=function(e){var t=e.svodWinners;return(0,$.xb)(t.children)?null:i.createElement("div",{className:"dv-mwts-modal "+Jl},yu(t,0))},wu=function(e){return!!e&&(e.children||[]).length>0},Du=qr((function(e){var t=e.moreWaysToWatch,n=e.sequenceNumber,r=e.titleId,a=e.toggleGiftCardModal,o=e.componentClassName,s=e.linkClassName;if(!wu(t)||!r)return null;var c=t&&t.metadata&&t.metadata.refMarker||(0,Or.i)("atv_dp_mpo_el");return i.createElement("div",{className:xe(Pe,o)},i.createElement(Po,{size:"m",modalId:"dvui-close-overlay-btf-mwtw",modalContent:function(e){var r=e.closeModal;return i.createElement(bu,{closeModal:r,moreWaysToWatch:t,sequenceNumber:n,toggleGiftCardModal:a})},toggle:function(e){var t=e.openModalClickHandler;return i.createElement(Zc,{refTag:c},i.createElement(Er.Link,{className:xe(yo,s),"data-ux-click":!0,onClick:t},i.createElement(Q,{stringID:"DV_MWTW_TITLE"})))}}))}));const Tu="D4QHzV",Pu="Z0BNXi",Iu="_3coi4u",Su="_2JPOKx",ku="_37IQB2";var Cu=function(e){return{type:So.k.CreateBanner,payload:e}},Ou=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},xu=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Au=function(e){return(0,e.dispatch)({type:So.k.RefundCancelled})},Nu=function(e){(0,e.dispatch)({type:So.k.RefundFailed})},Ru=function(){return(Ru=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Lu=function(e){var t=e.links&&e.links.map((function(t){return Ru(Ru({},t),{onClick:function(n){var r=document.getElementById("av-droplist-"+e.customDropListID);r&&r.checked&&(r.checked=!1),t.onClick(n)}})})),n=Ru(Ru({},e),{links:t});return i.createElement(Qn.DropList,Ru({},n))},Vu=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mu=function(){return(Mu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Wu=function(e,t,n){return{string:t("DV_AB_CANCEL_ACCIDENTAL_PURCHASE"),attrs:{cancelLink:Mu({href:e},n)}}},ju=function(e){function t(t){var n=e.call(this,t)||this;return n.updateSelected=function(e,t){n.setState({selectedLink:e,selectedIdx:t})},n.convertRefundOrdersToLinks=function(e){return e.map((function(e,t){return{text:e.description,isHighlighted:n.state.selectedIdx===t,href:"#"+t,onClick:function(r){n.updateSelected(e.singleRefundLink,t),r.preventDefault()}}}))},n.addReturnUrl=function(e){return e+"&return_to=/dp/"+n.props.pageTitleId},n.state={selectedIdx:0,selectedLink:t.refundableOrders[0].singleRefundLink},n}return Vu(t,e),t.prototype.render=function(){var e=this.props,t=e.refundableOrders,n=e.getString;if(1===t.length)return i.createElement(v.Text,{string:Wu(t[0].singleRefundLink,n)});var r=i.createElement("strong",null," ",n("DV_RBB_CANCEL_PURCH_MODAL_HEADER")," "),a=i.createElement(i.Fragment,null,i.createElement("div",{className:""+Pu}," ",n("DV_DP_you_multiple_orders_for_this_title")," "),i.createElement("div",null," ",n("DV_DP_choose_order_to_cancel")," "),i.createElement("div",{className:""+Iu,"data-automation-id":"refund-drop-list"},i.createElement(Lu,{links:this.convertRefundOrdersToLinks(t),customDropListID:"av-atf-multiple-refund"})),i.createElement(na.PrimeButton,{href:this.addReturnUrl(this.state.selectedLink),className:ku,"data-automation-id":"refund-submit-button"},n("DV_RBB_CANCEL_PURCH_MODAL_SUBMIT")));return i.createElement(Po,{size:"xs",className:""+Su,modalHeader:r,modalContent:a,toggle:function(e){var t=e.openModalClickHandler;return i.createElement(Bu,{triggerRefund:t,getString:n})}})},t}(i.Component),Bu=function(e){var t=e.triggerRefund,n=(0,e.getString)("DV_AB_CANCEL_ACCIDENTAL_PURCHASE"),r="{link|cancelLink}",a="{end}",o=n.indexOf(r),s=n.indexOf(a),c=n.substring(0,o),l=n.substring(o+r.length,s),u=n.substring(s+a.length);return i.createElement(i.Fragment,null,c&&i.createElement("span",null,c),i.createElement(Er.Link,{href:"#",onClick:function(e){return t(e)}},l),u&&i.createElement("span",null,u))},Fu=(0,Hr.n)((0,oe.$j)((function(e,t){var n=t.titleId;return{refundFragment:e.refund.fragments[n],isRetail:Ft(e).isRetail,pageTitleId:n}}),(function(e,t){var n=t.logger,r=t.titleId;return{triggerRefund:function(){return function(e,t,n){t.info("Initiating refund of titleId "+n).count($.EZ+"_Refund_Purchase",1,!1),e({type:So.k.TriggerRefund,payload:{titleId:n}})}(e,n,r)}}}))((function(e){var t=e.refundFragment,n=e.isRetail,r=e.pageTitleId,a=e.triggerRefund,o=i.useContext(Y.h).getString;return t&&t.refundableOrders&&0!==t.refundableOrders.length?i.createElement("div",{className:xe(Tu,we,"refund-alert")},i.createElement(Io.InfoAlert,null,i.createElement("span",{className:ke},n?i.createElement(ju,{refundableOrders:t.refundableOrders,pageTitleId:r,getString:o}):i.createElement(Bu,{triggerRefund:a,getString:o})))):null}))),Uu=(0,oe.$j)((function(e){return{requestContext:Ft(e)}}))((function(e){var t=e.svodWinners,n=e.forceDoubleHeight,r=t.metadata&&t.metadata.label,a=t.metadata&&t.metadata.refMarker||(0,Or.i)("atv_unknown");return i.createElement(Po,{modalId:"dvui-close-overlay-mwts",modalContent:i.createElement(Eu,{svodWinners:t}),toggle:function(e){var t=e.openModalClickHandler;return i.createElement(Zc,{refTag:a},i.createElement(na.PurchaseButton,{"data-ux-click":!0,onClick:t,className:xe(Te,"more-subscription-options-button"),forceDoubleHeight:n},i.createElement(v.Text,{string:r})))}})})),Hu=n("./src/util/utils/history.ts");const Gu="_1Rf__P",qu="_3oazIf",zu="_3u1od2",Zu="_2zZu7L",Yu="_1MF2EW",Xu="C-sHj4";var Ku=n("./node_modules/@amzn/dvui/dist/TextBlock.js"),Ju=n("./src/util/utils/pubSub.ts"),Qu="dv-web-player",$u={Detail:"f22dbddb-ef2c-48c5-8876-bed0d47594fd",DetailAndroid:"898eb3b8-96c0-4c6b-baa3-2d253860be8c",DetailAndroidMShop:"98d383c3-632a-4872-8ef8-7cc10d033066",Browse:"9ee9ba9b-f89c-41bb-8aa0-4db6e7f24cad",AIVWatchlist:"8e377055-28b0-4475-a3e7-f909ebcad6f1",YourVideoLibrary:"1e2f7321-aba1-4bd3-bdfc-a63777d869af",SPA:"933adc82-54c5-4fe0-9273-f1e188456161",PersonPage:"41e7965c-89b8-4967-bdd3-74e2a8f06636",ChannelsSubscription:"66d54d28-d754-4b11-b74d-427a03909d93",Following:"74392e3c-4c00-479e-90c8-f4d42aae8705",PVEPG:"bdd74b62-c362-46c8-86f0-47e300702607",AVSearch:"47c62571-58c9-4572-9a75-52f68e019cea"},ed=function(e){return $u[e]},td=function(){return(td=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},nd=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},rd=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ad=["closed","asinChanged","aborted"],od=["play","closed","asinChanged"],id=function(e){return{trailer:e.trailer,position:Number(e.position||0),videoType:e.videoType,live:Boolean(e.lcid),asin:e.lcid||e.asin,ref:e.ref,playbackEnvelope:e.playbackEnvelope}},sd=function(e){return td(td({},e),{startEpoch:Math.floor((new Date).getTime()/1e3)})},cd=function(){function e(e,t,n){this.player=e,this._test={player:e},this.liveIncompatibleCallback=n,this.pubSub=(0,Ju.M)(),this.playerConfig=function(e){var t,n=e.marketplaceId,r=e.sessionId,a=e.playerBeta,o=e.customerId,i=e.locale,s=e.pageType,c={marketplaceId:n,sessionId:r,playerBeta:a,customerId:o,locale:i,deviceId:e.deviceId,domElement:(t=document.getElementById(Qu),t||((t=document.createElement("div")).setAttribute("id",Qu),document.body.appendChild(t),t)),clientId:ed(s)};return Object.entries(c).forEach((function(e){var t=e[0];void 0===e[1]&&delete c[t]})),c}(t),this.lastTitle=null,this.init(),this.capabilities=new Promise((function(t){e.on("playerCapabilities",(function(e){var n=e.capabilities;t(n)}))}))}return e.prototype.init=function(){var e=this;ad.forEach((function(t){e.player.on(t,(function(n){return nd(e,void 0,void 0,(function(){return rd(this,(function(e){switch(e.label){case 0:return[4,this.callAction(t)];case 1:return e.sent(),n&&"asinChanged"===t&&(this.lastTitle=sd(id(n))),[2]}}))}))}))})),od.forEach((function(t){var n;e.on(t,(n=t,function(e){if(e){var t=e.trailer,r=e.asin,a=e.lcid,o=e.startEpoch,i="play"!==n&&o?Math.floor((new Date).getTime()/1e3)-o:null;fetch("/gp/video/ajax/analytics.html/ref=dv_play_action?trailer="+t+"&pageType=Detail&action="+n+"&titleId="+r+(null!==i?"&secondsPlayed="+i:"")+(a?"&lcid="+a:""))}}))})),this.on("beforePlay",(function(t){return e.liveIncompatibleCheck(t)})),this.player.initialize(this.playerConfig)},e.prototype.callAction=function(e){return nd(this,void 0,void 0,(function(){var t=this;return rd(this,(function(n){switch(n.label){case 0:return[4,Promise.all(this.pubSub.query(e).map((function(e){return e(t.lastTitle)})))];case 1:return[2,n.sent()]}}))}))},e.prototype.on=function(e,t){return this.pubSub.subscribe(e,t)},e.prototype.prepare=function(e){return nd(this,void 0,void 0,(function(){return rd(this,(function(t){switch(t.label){case 0:return[4,this.callAction("prepare")];case 1:return t.sent(),this.player.prepare(this.playerConfig,id(e)),[2]}}))}))},e.prototype.liveIncompatibleCheck=function(e){return nd(this,void 0,void 0,(function(){var t;return rd(this,(function(n){switch(n.label){case 0:return"Live"===(r=e).videoType||r.lcid||r.live?[4,this.capabilities]:[3,2];case 1:return t=n.sent().supportsLive,[3,3];case 2:t=!0,n.label=3;case 3:if(!t)throw this.liveIncompatibleCallback(),"Live Incompatible";return[2]}var r}))}))},e.prototype.play=function(e){return nd(this,void 0,void 0,(function(){var t,n;return rd(this,(function(r){switch(r.label){case 0:return t=id(e),this.lastTitle=sd(t),[4,this.callAction("beforePlay")];case 1:return r.sent(),[4,this.callAction("play")];case 2:return r.sent(),n={clickstreamRefMarker:e.ref||"atv_dp_unknown",playbackInitiatedTime:(new Date).getTime()},this.player.play(this.playerConfig,t,n),[2]}}))}))},e.prototype.stop=function(){return nd(this,void 0,void 0,(function(){return rd(this,(function(e){switch(e.label){case 0:return[4,this.callAction("stop")];case 1:return e.sent(),this.player.initialize(this.playerConfig),[4,this.callAction("closed")];case 2:return e.sent(),[2]}}))}))},e}(),ld={instance:null},ud=function(e,t,n){return void 0===n&&(n=!1),ld.instance=!n&&ld.instance||new Promise((function(e,t){var n,r,a,o=function(e){fetch("/gp/video/ajax/log-device-info.html/ref=atv_log_device_info?description=DVWebPlayer"+e+":LoadFailed"),t("DVWebPlayer:"+e+":load:failure")};window.WebPlayer?e(new window.WebPlayer):null==document.getElementById("player-script")?o("Tag"):(r=0,(a=function(){r<60?(r+=1,window.WebPlayer?e(new window.WebPlayer):n=setTimeout(a,1e3)):o("Timeout")})(),document.getElementById("player-script").onload=function(){clearTimeout(n),window.WebPlayer?e(new window.WebPlayer):o("Loading")})})).then((function(n){return new cd(n,e,t)})),ld.instance},dd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pd=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},fd=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};var md=function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!0,!0,t),document.dispatchEvent(n)},hd=function(e){document.getElementsByTagName("body")[0].style.overflow=e},gd=function(e){document.getElementById(Qu).className=e},vd=function(e){gd("dv-player-fullscreen"),hd("hidden")},_d=function(e){gd(""),hd("visible")},yd=function(e){window.location.assign(e)},bd=function(e){function t(t){var n=e.call(this,t)||this;return n.loadPlayer=function(e){return void 0===e&&(e=!1),pd(n,void 0,void 0,(function(){var t,n,r,a,o,i,s,c;return fd(this,(function(l){switch(l.label){case 0:t=this.props,n=t.playerConfig,r=t.whisperCacheData,a=t.liveIncompatibleCallback,t.useXpStreaming,t.useXpDownload,o=t.onPlayerLoadErrorCallback,l.label=1;case 1:return l.trys.push([1,8,,9]),[3,3];case 2:return i.player=l.sent(),[3,5];case 3:return s=this,[4,ud(n,a,e)];case 4:s.player=l.sent(),l.label=5;case 5:return this.attachRefreshEventHandlers(),r?[4,this.handlePrepareRequest(r)]:[3,7];case 6:l.sent(),l.label=7;case 7:return[3,9];case 8:return c=l.sent(),this.logFatal(c),o&&o(),[3,9];case 9:return[2]}}))}))},n.handleNetworkChange=function(){return pd(n,void 0,void 0,(function(){return fd(this,(function(e){return!this.player&&window.navigator.onLine&&this.loadPlayer(!0),[2]}))}))},n.logger=t.logger||new is.Oc("DVWebNode:Player:"+n.props.playerConfig.pageType),n.unsubscribeHandlers=[],n}return dd(t,e),t.prototype.logFatal=function(e){this.count(e).fatal(e)},t.prototype.count=function(e){var t=this.props.playerConfig.pageType;return this.logger.count(e+":"+t,1,!0)},t.prototype.attachRefreshEventHandlers=function(){return pd(this,void 0,void 0,(function(){var e,t,n,r,a,o,i,s,c,l,u,d=this;return fd(this,(function(p){switch(p.label){case 0:return e=this.props,t=e.onPlay,n=e.onClosed,r=e.onClosedStoreResumeTime,a=e.onAsinChanged,o=e.onInitialized,i=e.onPrepare,s=e.onPlayerCapabilities,c=this.player,(l=function(e,t){d.unsubscribeHandlers.push(c.on(e,(function(e){return t(e)})))})("play",vd),l("play",(function(e){return md("PVVideoPlayerPlay",e)})),t&&l("play",t),l("closed",_d),l("closed",(function(e){return md("PVVideoPlayerClosed",e)})),n&&l("closed",n),r&&l("closed",r),l("asinChanged",(function(e){return md("PVVideoPlayerTitleChanged",e)})),a&&l("asinChanged",a),l("initialized",(function(){return md("PVVideoPlayerInitialized",void 0)})),o&&l("initialized",o),l("prepare",(function(){return md("PVVideoPlayerPrepared",void 0)})),i&&l("prepare",i),l("aborted",(function(){d.count("DVWebPlayer:aborted")})),[4,c.capabilities];case 1:return(u=p.sent()).supportsDrm||this.count("DVWebPlayer:missingDrm"),md("PVVideoPlayerCapabilities",u),s&&s(u),[2]}}))}))},t.prototype.componentDidMount=function(){return pd(this,void 0,void 0,(function(){return fd(this,(function(e){return this.loadPlayer(),window.addEventListener("online",this.handleNetworkChange),[2]}))}))},t.prototype.componentDidUpdate=function(e){var t=e.playbackLinkData,n=e.whisperCacheData,r=this.props,a=r.playbackLinkData,o=r.whisperCacheData;a&&!t&&this.handlePlayRequest(a),!a&&o&&o!==n&&this.handlePrepareRequest(o)},t.prototype.componentWillUnmount=function(){return pd(this,void 0,void 0,(function(){return fd(this,(function(e){return this.unsubscribeHandlers.forEach((function(e){return e()})),window.removeEventListener("online",this.handleNetworkChange),[2]}))}))},t.prototype.handlePrepareRequest=function(e){return pd(this,void 0,void 0,(function(){return fd(this,(function(t){return this.player&&this.player.prepare(e),[2]}))}))},t.prototype.handlePlayRequest=function(e){var t=e.contentConfig,n=e.signInUrl;return pd(this,void 0,void 0,(function(){var e,r,a;return fd(this,(function(o){switch(o.label){case 0:return e=this.props.onPlayFailure,r=!0,this.player?[3,1]:(this.count("DVWebPlayer:notReady"),r=!1,[3,5]);case 1:return n?(yd(n),[3,5]):[3,2];case 2:return o.trys.push([2,4,,5]),[4,this.player.play(t)];case 3:return o.sent(),[3,5];case 4:return a=o.sent(),this.logger.fatal("Playback failed",{contentConfig:t},a),r=!1,[3,5];case 5:return!r&&e&&e(),[2]}}))}))},t.prototype.render=function(){return null},t}(i.Component),Ed=(0,Ja.cG)(bd),wd=n("./src/util/utils/marketplace.ts"),Dd=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Td=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},Pd=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Id=new c.eZ,Sd=function(e){return i.createElement("div",{className:zu},i.createElement("strong",null,e.title))},kd=function(e){return i.createElement(Ku.TextBlock,{className:qu},e.message)},Cd=function(e){return i.createElement("div",null,e.requestInProgress?i.createElement("div",{className:Yu},i.createElement(ur.Spacer,{space:ur.spacerSpacing.xs},i.createElement(Za.Spinner,null),i.createElement(v.Text,{tag:"div",className:Xu},e.requestInProgressMessage))):i.createElement("div",null,i.createElement(ur.Spacer,{space:ur.spacerSpacing.xs},i.createElement(Cr.Jd,{refTag:(0,Or.i)("atv_dp_ks_yes")},i.createElement(na.PrimaryButton,{name:"keep-subscription-now",onClick:function(){e.onKeepSubscription()}},i.createElement(v.Text,{string:e.confirmationLabel}))),i.createElement(Cr.Jd,{refTag:(0,Or.i)("atv_dp_ks_no")},i.createElement(na.Button,{name:"keep-subscription-not-now",onClick:e.closeModal},i.createElement(v.Text,{string:e.cancellationLabel})))),e.requestFailed&&i.createElement("div",{className:Zu},i.createElement(Q,{stringID:"AVOD_DP_E_error_text"}))))},Od=function(e){function t(t){var n=e.call(this,t)||this;return n.closeModal=function(){n.setState({isModalOpen:!1})},n.clearErrors=function(){n.setState({requestFailed:!1})},n.onKeepSubscription=function(){return Td(n,void 0,void 0,(function(){var e,t=this;return Pd(this,(function(n){return this.setState({requestInProgress:!0}),this.clearErrors(),e=[wd.HZ.US,wd.HZ.JP],Id.SetSubscriptionNextRenewal({__type:"atv.wps#SetSubscriptionNextRenewalInput",context:this.props.requestContext,enrollmentKey:this.props.enrollmentKey,renewEnabled:!0,token:this.props.token,allowsRecognized:e.includes(this.props.requestContext.marketplaceID)}).then((function(e){e.success?(t.closeModal(),t.props.updateShowCancellationWinback(!1)):t.setState({requestFailed:!0}),t.setState({requestInProgress:!1})})).catch((function(e){if(e instanceof Pt.lY){var n=Object.assign({},t.props.requestContext.queryParameters);n[t.keepSubscriptionUrlParam]=["true"];var r=Ee({parameters:n,originalURI:t.props.requestContext.originalURI,isRetail:t.props.isRetail},t.props.pageTitleId,(0,Or.i)("atv_dp_ks_sign_in")),a=ye({parameters:t.props.requestContext.queryParameters,originalURI:t.props.requestContext.originalURI,isRetail:t.props.isRetail},(0,Or.i)("atv_dp_ks_sign_in"),r);yd(a)}else t.setState({requestFailed:!0}),t.setState({requestInProgress:!1})})),[2]}))}))},n.validateProps=function(){return!!(n.props.message&&n.props.label&&n.props.token&&n.props.enrollmentKey&&n.props.cancellationLabel&&n.props.confirmationLabel)},n.state={isModalOpen:!1,requestInProgress:!1,requestFailed:!1},n.keepSubscriptionUrlParam="keepSubscription",n}return Dd(t,e),t.prototype.componentDidMount=function(){if(!this.state.isModalOpen&&!this.state.requestFailed&&this.props.requestContext.queryParameters[this.keepSubscriptionUrlParam]&&"true"===this.props.requestContext.queryParameters[this.keepSubscriptionUrlParam][0]){var e=new URL(window.location.href);e.searchParams.delete(this.keepSubscriptionUrlParam),(0,Hu.qA)(null,document.title,e.href),this.setState({isModalOpen:!0}),this.onKeepSubscription()}},t.prototype.render=function(){var e=this;return this.validateProps()&&this.props.showCancellationWinback?i.createElement("div",{className:Pe+" "+Te},i.createElement(Po,{size:"s",isOpen:this.state.isModalOpen,modalId:"dvui-close-overlay-atf-keepSubscriptionModal",className:Gu,modalContent:function(){return i.createElement(kd,{message:e.props.message})},modalHeader:function(){return i.createElement(Sd,{title:e.props.confirmationLabel})},onClose:this.closeModal,modalFooter:function(){return i.createElement(Cd,{closeModal:e.closeModal,onKeepSubscription:e.onKeepSubscription,confirmationLabel:e.props.confirmationLabel,cancellationLabel:e.props.cancellationLabel,requestFailed:e.state.requestFailed,requestInProgress:e.state.requestInProgress,requestInProgressMessage:e.props.requestInProgressMessage})},toggle:function(){return i.createElement(Cr.Jd,{refTag:(0,Or.i)("atv_dp_ks")},i.createElement(na.PurchaseButton,{"data-ux-click":!0,onClick:function(){e.clearErrors(),e.setState({isModalOpen:!0})},forceDoubleHeight:!0,name:"keep-subscription",className:""+we},i.createElement(v.Text,{string:e.props.label})))}})):null},t}(i.Component),xd=(0,oe.$j)((function(e){return{requestContext:Ft(e).rawContext,pageTitleId:e.pageTitleId,showCancellationWinback:e.winback.showCancellationWinback,originalURI:Ft(e).originalURI,isRetail:Ft(e).isRetail}}),(function(e){return{updateShowCancellationWinback:function(t){return function(e,t){e({type:So.k.UpdateShowCancellationWinback,payload:{showCancellationWinback:t}})}(e,t)}}}))(Od),Ad=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},Nd="Collapsed",Rd="Expanded",Ld=function(e){var t,n=e.forceDoubleHeight,r=e.titleId,a=e.svodWinners;if(!a)return[];switch(a.metadata&&a.metadata.behaviour){case Nd:return Li(a)?[i.createElement(Uu,{key:"MsoButton",svodWinners:a,titleId:r,forceDoubleHeight:n})]:[];case Rd:return(Li(t=a)&&t.children||[]).filter((function(e){return(0,$.xb)(e.problems)})).map((function(e,t){return i.createElement(el,{key:"SvodButton-"+t,svodAction:e,forceDoubleHeight:n})}));default:return[]}},Vd=function(e){var t=e.acquisitionActions,n=e.titleId,r=e.tvodButtonScope,a=e.forceDoubleHeight,o=function(e){var t=e&&e.cancellationWinbackToken&&e.cancellationWinbackToken.cancellationWinbackStringInfo,n=e&&e.cancellationWinbackToken;return t&&i.createElement(xd,{label:t.label,message:t.modalMessage,confirmationLabel:t.confirmationLabel,cancellationLabel:t.cancellationLabel,enrollmentKey:n.enrollmentId,token:n.csrfToken})}(e.tapsExperimentToken);if(!t)return o?i.createElement(ur.Spacer,{className:Te,alignItems:ur.spacerAlignItems.top},o):null;var s=t.tvodWinners,c=t.svodWinners,l=Li(c)&&(0,$.Db)(c.children),u=Ld({forceDoubleHeight:a,titleId:n,svodWinners:c}),d=function(e){var t=e.tvodWinners,n=e.tvodButtonScope,r=e.svodWinnerChildrenExists;return Fi(t).map((function(e,t){return i.createElement($c,{key:"TvodButton-"+t,tvodAction:e,scope:n,svodWinnerChildrenExists:r})}))}({tvodWinners:s,tvodButtonScope:r,svodWinnerChildrenExists:l}),p=Ad(Ad([o],u),d).filter(Boolean);return(0,$.xb)(p)?null:i.createElement(ur.Spacer,{className:Te,alignItems:ur.spacerAlignItems.top},p)},Md=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.elRef=i.createRef(),t.timer=void 0,t}return Md(t,e),t.prototype.getSnapshotBeforeUpdate=function(){var e=this.elRef.current;return e?{currentHeight:e.clientHeight}:null},t.prototype.componentDidUpdate=function(e,t,n){var r=n&&n.currentHeight,a=this.elRef.current;if(a){a.removeAttribute("style");var o=a.clientHeight;if(o!==r){var i=150+1.5*Math.abs(o-r);!function(e,t){var n=Object.keys(t).reduce((function(e,n){return e+" "+n+": "+t[n]+";"}),"");e.setAttribute("style",n)}(a,{height:r+"px",overflow:"hidden",transition:"height "+i+"ms ease-out"}),setTimeout((function(){a.style.height=o+"px"}),1),this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){a.removeAttribute("style")}),i)}}},t.prototype.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer)},t.prototype.render=function(){return i.createElement("div",{className:this.props.className,ref:this.elRef},this.props.children)},t}(i.Component),jd=n("./node_modules/@amzn/dvui/dist/Callout.js"),Bd=n("./node_modules/@amzn/dvui/dist/Icons/WatchParty.js");const Fd="_Oe4Xf",Ud="_1l-91e",Hd="_10qeoA",Gd="_2tCfjd",qd="_1wlxMN",zd="_1Yn7UQ",Zd="_2s3m69",Yd="_2mS7op",Xd="_3WeIU5",Kd="_2jGOpa";var Jd=function(){return(Jd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Qd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},$d=function(e){var t=e.hiddenInputs,n=void 0===t?{}:t,r=e.method,a=void 0===r?"POST":r,o=e.children,s=Qd(e,["hiddenInputs","method","children"]);return i.createElement("form",Jd({},s,{method:a}),o,Object.keys(n).map((function(e){return i.createElement("input",{key:e,type:"hidden",name:e,value:n[e]})})))},ep=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tp=function(){return(tp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},np=function(e){var t=e.isButton,n=e.buttonClassName,r=e.isPVWinApp,a=i.useContext(Y.h).getString;return t?r?i.createElement("span",null,i.createElement(na.Button,{className:xe({buttonClassName:Boolean(n)}),"data-automation-id":"watch-party-link",forceDoubleHeight:!1,type:"submit",icon:i.createElement(Bd.WatchParty,null)},i.createElement(Q,{stringID:"DV_DP_CREATE_WATCH_PARTY"}))):i.createElement(na.Button,{className:Zd,"aria-label":a("DV_DP_CREATE_WATCH_PARTY"),testID:"watch-party-link",type:"submit"},i.createElement("span",{className:Yd},i.createElement(Bd.WatchParty,null))):i.createElement("button",{className:xe(Fd,n),"data-automation-id":"watch-party-link"},i.createElement(Q,{stringID:"DV_DP_CREATE_WATCH_PARTY"}))},rp=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={showFTUE:!1},n.onFTUEDismiss=function(){localStorage.setItem(t.WP_FTUE_DISMISSED,t.WP_FTUE_DISMISSED_VALUE)},n}return ep(t,e),t.prototype.componentDidMount=function(){var e=this.props.context.queryParameters,n=localStorage.getItem(t.WP_FTUE_DISMISSED)===t.WP_FTUE_DISMISSED_VALUE||!1,r=parseInt(localStorage.getItem(t.WP_FTUE_SHOWN_COUNTER))||0,a=e.ref_&&e.ref_[0]||"";if(!n&&r<t.WP_FTUE_MAX_TIMES_SHOWN||a.startsWith(t.WP_FTUE_REFTAG_PREFIX)){var o=r+1;localStorage.setItem(t.WP_FTUE_SHOWN_COUNTER,o.toString()),this.setState({showFTUE:!0})}},t.prototype.render=function(){var e=this.props,t=e.header,n=e.body;return this.state.showFTUE?i.createElement("div",{className:Hd+" "+ke},i.createElement(jd.Callout,{position:"bottom",size:"m",use:"info",className:xe(Ud,"wp-ftue-tooltip"),content:i.createElement(op,tp({},{header:t,body:n})),startOpen:!0,onDismiss:this.onFTUEDismiss})):null},t.WP_FTUE_SHOWN_COUNTER="dvWebWPFtueShownCounter",t.WP_FTUE_DISMISSED="dvWebWPFtueDismissed",t.WP_FTUE_REFTAG_PREFIX="atv_wp_merch_",t.WP_FTUE_DISMISSED_VALUE="true",t.WP_FTUE_MAX_TIMES_SHOWN=3,t}(i.PureComponent),ap=(0,ae.s6)(rp),op=function(e){var t=e.header,n=e.body;return i.createElement(i.Fragment,null,i.createElement(v.Text,{tag:"h3",className:Gd,string:t}),i.createElement(v.Text,{tag:"p",className:qd,string:n}))},ip=function(e){var t,n=e.watchPartyAction,r=e.withFTUETooltip,a=e.buttonOrLinkProps,o=e.isPVWinApp,s=void 0!==o&&o,c=e.containerRef,l=i.useContext(Y.h).getString;if(!n)return null;var u=n.endpoint,d=u.partialURL,p=u.query,f=d;return r=r,i.createElement($d,{action:f,method:"POST",hiddenInputs:p,className:xe(ke,(t={},t[zd]=!s,t),"dv-dp-node-watchparty")},i.createElement(Da.Tooltip,{position:"top",size:"s",className:xe(Ud,"wp-hover-tooltip",!s&&Kd),content:l("DV_DP_WATCH_PARTY_TOOLTIP"),id:a&&a.isButton&&"dv-dp-node-watchparty-button-tooltip",containerRef:c},i.createElement(np,tp({},a,{isPVWinApp:s}))),r&&i.createElement(ap,{header:l("DV_DP_WATCH_PARTY_FTUE_HEADER"),body:l("DV_DP_WATCH_PARTY_FTUE_BODY")}),!s&&i.createElement("span",{className:Xd},i.createElement(Q,{stringID:"DV_DP_CREATE_WATCH_PARTY"})))},sp=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cp=function(e){var t,n=Ri(t=e)&&t.metadata&&t.metadata.messages||[];return n.length>0?n.map((function(e,t){return i.createElement(v.Text,{key:"tvod-inner-"+t,string:e})})):(0,$.VF)(Fi(e).filter((function(e){return!(0,$.xb)(e.displayMessages)})).map((function(e,t){return e.displayMessages.map((function(e,n){return i.createElement(v.Text,{key:t+","+n,string:e})}))})))},lp=function(e){var t=e.acquisitionActions;if(!t)return null;var n=cp(t.tvodWinners);return(0,$.xb)(n)?null:i.createElement(ur.Spacer,{alignItems:ur.spacerAlignItems.stretch},n)},up=function(e){var t=e.watchPartyAction,n=i.useRef();return t?i.createElement("div",{className:xe(Pe,qa.linkWrapper),ref:n},i.createElement("span",{className:qa.watchParty},i.createElement(ip,{watchPartyAction:t,buttonOrLinkProps:{buttonClassName:qa.linkWrapperTarget},containerRef:n}))):null},dp=function(e){function t(t){var n=e.call(this,t)||this;return n.toggleGiftCardModal=function(){n.setState({giftCardModalIsVisible:!n.state.giftCardModalIsVisible})},n.state={giftCardModalIsVisible:!1},n}return sp(t,e),t.prototype.render=function(){var e,t=this.props,n=t.acquisitionActions,r=t.titleID,a=t.sequenceNumber,o=t.isPurchasing,s=t.isRefunding,c=t.rawContext,l=t.watchPartyAction,u=n&&n.moreWaysToWatch,d=o||s;return i.createElement("div",{className:xe((e={},e[qa.isProcessingTransaction]=d,e),qa.wrapper),"data-testid":"dp-btf-action-box"},i.createElement(Wd,null,i.createElement(lp,{acquisitionActions:n}),i.createElement(ur.Spacer,{alignItems:ur.spacerAlignItems.stretch},i.createElement("div",{className:xe(qa.acquisition,Te)},i.createElement(Vd,{acquisitionActions:n,titleId:r,tvodButtonScope:Gc.EPISODE_LIST,forceDoubleHeight:!1})),i.createElement(ur.Spacer,{alignItems:ur.spacerAlignItems.stretch},i.createElement(Du,{titleId:r,sequenceNumber:a,moreWaysToWatch:u,toggleGiftCardModal:this.toggleGiftCardModal,componentClassName:qa.linkWrapper,linkClassName:qa.linkWrapperTarget}),i.createElement(up,{watchPartyAction:l})),i.createElement(Fu,{titleId:r})),d&&i.createElement(Ya,null)),i.createElement(Fl,{isOpen:this.state.giftCardModalIsVisible,onClose:this.toggleGiftCardModal,requestContext:c}))},t}(i.Component);const pp="_3AyX4X",fp="_2_tMJv",mp="_26dvnH",hp="_3gPMDr",gp="_1xmStQ",vp="_3SVDaB",_p="_20Oqf_",yp="_3akVZ8",bp="_1c1IVD",Ep="_2nY3e-",wp="_3rBDNv",Dp="_1wDsxJ",Tp="_33tfc0",Pp="PcQXez",Ip="gJ5nX5",Sp="_2awoLH",kp="_1RTRpv",Cp="_1tO9Wf",Op="_2sDsWz",xp="_1AeKJC",Ap="_18-IMw",Np="_3ris48",Rp="_2ijjo6",Lp="_3VjO1A",Vp="_3i32fS",Mp="_1Y9Jue",Wp="_3KkSpY",jp="N9fBYq",Bp="_14mRBK",Fp="_1j_7Kr",Up="_3sYxmH";var Hp,Gp,qp,zp,Zp,Yp,Xp,Kp,Jp;!function(){function e(e,t){void 0===t&&(t=new is.Oc("DVWebNodeSPA/UWPNotifier")),this.myWindow=e,this.logger=t,this.pubSub=(0,Ju.M)(),this.init()}e.getInstance=function(){return this.instance||(this.instance=new e(window)),this.instance},e.prototype.isSubscribed=function(e){var t=this.pubSub.query(e);return t&&t.length>0},e.prototype.subscribe=function(e,t){try{return this.pubSub.subscribe(e.toString(),t)}catch(n){this.logger.error("UWPNotifier failed to subscribe to an event from the native app",e,t,n)}},e.prototype.unsubscribe=function(e,t){try{return this.pubSub.unsubscribe(e.toString(),t)}catch(r){var n="UWPNotifier failed to unsubscribe to an event from the native app";return this.logger.error(n,e,t,r),Promise.reject(new Error(n))}},e.prototype.publish=function(e,t){var n=Date.now();try{this.notify(JSON.stringify({action:e,payload:t,timestamp:n}))}catch(r){this.logger.error("UWPNotifier failed to generate the payload and notify the native app",e,t,n,r)}},e.prototype.init=function(){this.myWindow.primevideoUWPNotifierHandler=this.inputDispatcher.bind(this)},e.prototype.notify=function(e){if(this.myWindow&&this.myWindow.external)try{this.myWindow.external.notify(e)}catch(t){this.logger.error("UWPNotifier failed to notify the native app",e,t)}},e.prototype.inputDispatcher=function(e,t){try{var n=JSON.parse(t);this.pubSub.publish(e,n)}catch(n){this.logger.error("UWPNotifier failed to parse the native action payload",e,t,n)}}}();!function(e){e.Handshake="Handshake",e.Downloads_All="Downloads_All",e.Download_Status="Download_Status",e.AppSettings="AppSettings",e.Player_Closed="Player_Closed",e.AppCapabilities="AppCapabilities",e.DeviceNavigation="DeviceNavigation"}(Hp||(Hp={})),function(e){e.IDLE="IDLE",e.SEASON_IDLE="SEASON_IDLE",e.SEASON_DOWNLOADING="SEASON_DOWNLOADING",e.SEASON_COMPLETED="SEASON_COMPLETED",e.SEASON_QUEUED="SEASON_QUEUED",e.SEASON_ERROR="SEASON_ERROR",e.WAITING="WAITING",e.QUEUED="QUEUED",e.DOWNLOADING="DOWNLOADING",e.PAUSED="PAUSED",e.ERROR="ERROR",e.COMPLETED="COMPLETED",e.CANCELLED="CANCELLED",e.REMOVED="REMOVED",e.DISABLED="DISABLED",e.CANCELLING="CANCELLING",e.REMOVING="REMOVING",e.RETRYING="RETRYING",e.PAUSING="PAUSING"}(Gp||(Gp={})),function(e){e.GOOD="GOOD",e.BETTER="BETTER",e.BEST="BEST",e.DATA_SAVER="DATA_SAVER"}(qp||(qp={})),function(e){e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR"}(zp||(zp={})),function(e){e.RENTAL="rental",e.OFFLINE="offline"}(Zp||(Zp={})),function(e){e.UWP="UWP",e.XP="XP"}(Yp||(Yp={})),function(e){e.Handshake="Handshake",e.Logout="Logout",e.Restart="Restart",e.Downloads_GetAll="Downloads_GetAll",e.Downloads_Start="Downloads_Start",e.Download_Start="Download_Start",e.Download_Delete="Download_Delete",e.Downloads_Delete="Downloads_Delete",e.Download_Pause="Download_Pause",e.Download_Resume="Download_Resume",e.Download_Play="Download_Play",e.Download_Cancel="Download_Cancel",e.Downloads_Cancel="Downloads_Cancel",e.Download_Retry="Download_Retry",e.Settings_GetAll="Settings_GetAll",e.Settings_DownloadQuality="Settings_DownloadQuality",e.Settings_DownloadOnMobileData="Settings_DownloadOnMobileData",e.Settings_3PNotice="Settings_3PNotice",e.Settings_Feedback="Settings_Feedback",e.Profile_Switch="Profile_Switch",e.Profile_Switched="Profile_Switched",e.Profile_SwitchFailed="Profile_SwitchFailed",e.Counter="Counter",e.Logging="Logging",e.AppCapabilities_GetAll="AppCapabilities_GetAll"}(Xp||(Xp={})),function(e){e.SW="SW",e.SPA="SPA"}(Kp||(Kp={})),function(e){e.VERBOSE="Verbose",e.DEBUG="Debug",e.INFO="Information",e.WARN="Warning",e.ERROR="Error",e.FATAL="Fatal"}(Jp||(Jp={}));var Qp=n("./src/util/utils/dvstring/utils.ts"),$p=function(){return($p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ef=Math.round(11*Math.PI*2),tf=function(e){return void 0===e&&(e=0),Math.round((100-Math.min(e,100))/100*ef)},nf="undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Edge")>-1&&navigator.userAgent.indexOf("Windows NT 10.0")>-1?"":"js-deeplinkable",rf=function(e){var t,n=e.status,r=e.progress,a=void 0===r?0:r,o=e.hasLabel,s="#8197A4",c="#F2F4F6",l=n===Gp.WAITING?tf(75):tf(a),u=n&&[Gp.DOWNLOADING,Gp.SEASON_DOWNLOADING,Gp.PAUSED,Gp.QUEUED,Gp.SEASON_QUEUED,Gp.ERROR,Gp.SEASON_ERROR].includes(n),d=[Gp.DOWNLOADING,Gp.PAUSED,Gp.SEASON_DOWNLOADING].includes(n),p=[Gp.IDLE,Gp.PAUSED,Gp.QUEUED,Gp.SEASON_QUEUED,Gp.SEASON_IDLE,Gp.REMOVED,Gp.CANCELLED].includes(n),f=[Gp.IDLE,Gp.SEASON_IDLE,Gp.REMOVED,Gp.CANCELLED].includes(n),m=n===Gp.COMPLETED&&!o||n===Gp.DISABLED,h=n===Gp.WAITING;return i.createElement("svg",{height:"24",width:"24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:Ae()((t={},t[Wp]=h,t))},i.createElement("g",{fillRule:"nonzero",fill:"none"},f&&i.createElement("path",{className:Lp,stroke:c,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M2.997 18.087v4.972h18.03v-4.972"}),p&&i.createElement("path",{className:Lp,d:"M12 5v12M7.5 12.5L12 17M16.5 12.5L12 17",stroke:n===Gp.PAUSED||f?c:s,strokeWidth:"1.5",strokeLinecap:"round"}),u&&i.createElement("circle",{className:Rp,stroke:s,strokeWidth:2,fill:"none",cx:"12",cy:"12",r:"11"}),(d||h)&&i.createElement("circle",{stroke:c,transform:"rotate(-90 12 12)",strokeWidth:2,fill:"none",cx:"12",cy:"12",r:"11",strokeDasharray:"69",strokeDashoffset:"69",strokeLinecap:"butt",style:{strokeDashoffset:l,transition:"strokeDashoffset 2s linear"}}),m&&i.createElement("g",{fill:c},i.createElement("path",{d:"M 14.121094 0.878906 C 15.292969 2.050781 15.292969 3.949219 14.121094 5.121094 C 12.949219 6.292969 11.050781 6.292969 9.878906 5.121094 C 8.707031 3.949219 8.707031 2.050781 9.878906 0.878906 C 11.050781 -0.292969 12.949219 -0.292969 14.121094 0.878906 M 14.121094 9.878906 C 15.292969 11.050781 15.292969 12.949219 14.121094 14.121094 C 12.949219 15.292969 11.050781 15.292969 9.878906 14.121094 C 8.707031 12.949219 8.707031 11.050781 9.878906 9.878906 C 11.050781 8.707031 12.949219 8.707031 14.121094 9.878906 M 14.121094 18.878906 C 15.292969 20.050781 15.292969 21.949219 14.121094 23.121094 C 12.949219 24.292969 11.050781 24.292969 9.878906 23.121094 C 8.707031 21.949219 8.707031 20.050781 9.878906 18.878906 C 11.050781 17.707031 12.949219 17.707031 14.121094 18.878906 "})),n===Gp.COMPLETED&&o&&i.createElement("g",{fill:c},i.createElement("path",{d:"M15 18V8a1 1 0 012 0v11a1 1 0 01-1 1H4a1 1 0 01-1-1V8a1 1 0 112 0v10h10z"}),i.createElement("path",{d:"M7 8a1 1 0 112 0v7a1 1 0 01-2 0V8zm4 0a1 1 0 012 0v7a1 1 0 01-2 0V8zM1 5a1 1 0 110-2h18a1 1 0 010 2H1z"}),i.createElement("path",{d:"M6.8 2v2c0 .552-.403 1-.9 1S5 4.552 5 4V1c0-.552.403-1 .9-1h7.2c.497 0 .9.448.9 1v3c0 .552-.403 1-.9 1s-.9-.448-.9-1V2H6.8z"})),(n===Gp.DOWNLOADING||n===Gp.SEASON_DOWNLOADING)&&i.createElement("g",{fill:c},i.createElement("path",{d:"M10.3 16.012c0 .828-.335 1.054-.75 1.054-.414 0-.75-.226-.75-1.054V7.007C8.8 6.178 9.158 6 9.55 6s.75.178.75 1.007v9.005zM15.3 16.012c0 .828-.335 1.054-.75 1.054s-.75-.226-.75-1.054V7.007c0-.829.358-1.007.75-1.007s.75.178.75 1.007v9.005z"})),(n===Gp.ERROR||n===Gp.SEASON_ERROR)&&i.createElement("g",{fill:c},i.createElement("path",{d:"M13 13.024a.978.978 0 0 1-.975.976h-.05a.978.978 0 0 1-.975-.976V6.976c0-.537.439-.976.976-.976h.049c.536 0 .975.439.975.976v6.048zM11 16h2v2.04h-2z"}))))},af=function(e){var t=e.progress,n=e.status,r=void 0===n?Gp.IDLE:n,a=e.downloadURL,o=e.fallbackURL,s=e.onClick,c=e.isDropList,l=e.label,u=e.id,d=e.containerRef,p=(0,Qp.Ol)({fallbackUrl:o}),f=c?"button":"a",m=$p($p({onClick:s},!c&&{href:a}),p),h=i.createElement(f,$p({className:nf+" "+Np},m),i.createElement("span",{className:"avu-screen-reader-only"},l),i.createElement(rf,$p({hasLabel:!1},{progress:t,status:r})));return u&&l?i.createElement(Da.Tooltip,{content:i.createElement(v.Text,{string:l}),position:"top",size:"m",tabIndex:0,id:u,containerRef:d},h):h},of=function(e){var t,n=e.showIcon,r=e.progress,a=e.status,o=e.hasLabel,s=e.isPVWinApp,c=void 0!==s&&s;return n?i.createElement("span",{className:Ae()(jp,(t={},t[Mp]=!c,t[Fp]=!c,t))},i.createElement(rf,$p({},{progress:r,status:a,hasLabel:o}))):null},sf=function(e){var t=e.onClick,n=e.progress,r=e.status,a=e.label,o=e.downloadURL,s=e.fallbackURL,c=e.forceDoubleHeight,l=e.isPVWinApp,u=void 0!==l&&l,d=e.showIcon,p=void 0===d||d,f=e.disabled,m=void 0!==f&&f,h=(0,Qp.Ol)({fallbackUrl:s}),g=$p($p({},h),{onClick:t,forceDoubleHeight:c,href:o,disabled:m,className:Ae()(nf,"dv-node-dp-download",Vp,!u&&Bp,ke)}),_={showIcon:p,progress:n,status:r,hasLabel:!0};return u?i.createElement(na.Button,$p({},g,{role:"button","aria-live":"polite","aria-label":a,testID:"download-button",icon:i.createElement(of,$p({},_))}),i.createElement(v.Text,{tag:"span",string:a})):i.createElement(Da.Tooltip,{position:"top",size:"s",content:i.createElement(v.Text,{tag:"span",string:a}),className:Up,id:"dv-dp-node-download-tooltip"},i.createElement(na.Button,$p({},g,{role:"button","aria-live":"polite","aria-label":a,testID:"download-button"}),i.createElement(of,$p({},_,{isPVWinApp:u}))))},cf=n("./src/widgets/DVWebNodeDetail/utils/downloadActionHelper.ts"),lf=function(){return(lf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},uf=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};var df=function(e,t,n,r){var a=i.createElement(Q,{stringID:e}),o=i.createElement(i.Fragment,null,i.createElement("div",{className:Ip},a),i.createElement("span",{className:Sp},i.createElement(Z,{string:t,dir:"auto"})));return i.createElement(Da.Tooltip,{content:o,position:"top",size:"m",tabIndex:0,id:n,containerRef:r},a)};function pf(e){var t,n=e.packshotUrl,r=e.isWatched;if(!n)return i.createElement("div",{className:vp+" "+_p},i.createElement($n.Icon,{use:$n.IconType.SMILE}));var a={alt:"",src:n,baseValue:268,srcSizes:[{"max-phablet":148},{"min-desktop":268}],isLazy:!0},o=xe(vp,((t={})[yp]=r,t));return i.createElement("div",{className:o,"data-is-watched":r},i.createElement(mt,lf({},a)))}var ff=function(e,t){var n=zi(e);return!n||n.details&&n.details.canonicalId!==t&&!(0,Pt.aP)(n.details.offer.purchaseData.isSeasonPurchase)?null:n},mf=(0,oe.$j)((function(e,t){return{playerConfigData:Qt(e),action:e.action[io.L5][t.titleId],detail:e.detail[fo.Xt][t.titleId],requestContext:Ft(e),pageTitleId:e.pageTitleId,purchaseDetails:ff(e,t.titleId),isRefunding:Boolean(e.refund.refunding&&e.refund.refunding.titleId===t.titleId),isMShop:Je(e),downloadLaunchType:e.pageContext.downloadLaunchType}}))((0,Ja.cG)((function(e){var t,n=i.useContext(Y.h).getString,r=i.useRef(),a=e.playerConfigData,o=e.detail,s=e.action,c=e.titleId,l=e.epListIndex,u=e.isFirstEpisode,d=e.isBonus,p=e.pageTitleId,f=e.requestContext.rawContext,m=e.purchaseDetails,h=e.isRefunding,g=e.isMShop,v=e.downloadLaunchType,_=e.downloads,y=o.title,b=o.ratingBadge,E=o.subtitles,w=o.audioTracks,D=o.playbackTracks,T=o.images,P=o.releaseDate,I=o.runtime,S=o.synopsis,k=s&&s.playbackActions,C=s&&s.downloadActions,O=s&&s.notificationActions,x=s&&s.watchPartyAction,A=s&&s.acquisitionActions,N=(0,Zt.MG)(k),R=(0,cf.L)(C),L=Boolean(N),V=o&&o.episodeNumber,M=(0,on.N)(O),W={title:y,playbackActions:k,playerConfigData:a,sequenceNumber:V,notificationActions:O,entityType:o&&o.entityType,isBonus:d,titleId:c,purchaseDetails:m,isRefunding:h,duration:o&&o.duration,isMShop:g},j="NONE"===v||"EMBEDDED"===v?void 0:function(e){e.preventDefault(),qc.b[v]({url:R.downloadURL,fallbackUrl:R.fallbackURL})},B=R&&lf(lf({},R),{isMovie:!1,episodeNumber:V,onClick:j,downloadURL:g?void 0:R.downloadURL,playbackTracks:D,title:y})||_&&_[c]&&{label:"",downloadURL:"",titleID:c,episodeNumber:o.episodeNumber,isMovie:"Movie"===o.entityType,onClick:j,playbackTracks:D,title:y},F={packshotUrl:T&&T.packshot,isWatched:Boolean(N&&(0,La.Nw)(N.progress))},U=n("DV_comma_separator"),H=(E||[]).join(U),G=(w||[]).join(U),q=Fi(A&&A.tvodWinners).map((function(e){return e.asin||null})).filter(Boolean),z=Ui(A&&A.moreWaysToWatch).map((function(e){return Wi(e)&&e.asin||null})).filter(Boolean),Z=Array.from(new Set(uf(uf([],z),q))),X=Boolean(B),K=xe(pp,"js-node-episode-container",((t={})[Cp]=L,t[Op]=X,t)),J={notificationActions:O,acquisitionActions:A,sequenceNumber:V,pageTitleId:p,titleID:c,isPurchasing:Boolean(m),isRefunding:h,rawContext:f,watchPartyAction:x},Q="av-ep-"+l;return i.createElement("li",{id:Q,"data-aliases":Z.join(","),className:K,ref:r},i.createElement("input",{id:"selector-"+c,name:"highlight-list-selector",className:fp,type:"checkbox",defaultChecked:u&&!d}),i.createElement("label",{className:gp,htmlFor:"selector-"+c}),i.createElement("label",{className:hp,htmlFor:"selector-"+c},i.createElement($n.Icon,{use:$n.IconType.BREADCRUMB_CHEVRON,className:mp})),i.createElement("div",{"data-automation-id":"ep-title-"+e.epListIndex,className:Ep},i.createElement(oo,lf({},W)),X&&i.createElement(af,lf({},B,{containerRef:r,id:"download-ep-"+Q}))),i.createElement("div",{className:xe(wp,xp)},P&&i.createElement("div",null,P),I&&i.createElement("div",null,I),i.createElement("div",{className:Dp},i.createElement(br,{ratingBadge:b})),(0,$.Db)(E)&&i.createElement("div",{className:Tp},df("DV_TW_title_subtitles",H,"subt-"+Q,r)),(0,$.Db)(w)&&i.createElement("div",{className:Pp},df("DV_TW_title_languages",G,"lang-"+Q,r))),i.createElement("div",{className:xp},i.createElement(pf,lf({},F))),i.createElement("div",{className:xe(bp,xp)},i.createElement(Kn,{synopsis:String(S),numOfLines:2,expanderId:"synopsis-"+c})),i.createElement("div",{className:xe(za.offers,Ap,we,xp)},i.createElement(dp,lf({},J))),(0,$.Db)(M)&&i.createElement("div",{className:xe(xp,kp)},i.createElement(ru,{Tag:Io.WarningAlert,messages:M})))})));const hf="y2P7qQ",gf="XR0d6P",vf="_2LDRL1",_f="_19o-TA",yf="ObkQ-7",bf="_1kuDbg",Ef="gbhO61",wf="_1xQD-Q";var Df,Tf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pf=function(){return(Pf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},If=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},Sf=0;!function(e){e.EpisodeNumberAscending="EpisodeNumberAscending",e.EpisodeNumberDescending="EpisodeNumberDescending",e.Available="Available"}(Df||(Df={}));var kf={EpisodeNumberAscending:"DV_DP_EPISODE_NUM_ASCENDING",EpisodeNumberDescending:"DV_DP_EPISODE_NUM_DESCENDING",Available:"DV_DP_EPISODE_AVAILABLE"},Cf={EpisodeNumberAscending:(0,Or.i)("atv_dp_ep_ena"),EpisodeNumberDescending:(0,Or.i)("atv_dp_ep_end"),Available:(0,Or.i)("atv_dp_ep_av")},Of={EpisodeNumberAscending:function(e){return e},EpisodeNumberDescending:function(e){return If([],e).reverse()},Available:function(e,t){var n=e.filter((function(e){return t[e]})),r=e.filter((function(e){return!t[e]}));return If(If([],n),r)}},xf=[Df.EpisodeNumberAscending,Df.EpisodeNumberDescending,Df.Available],Af=function(e,t){return t?kf[e]:"DV_DP_EPISODE_SORT_BY"},Nf=function(e){function t(t){var n=e.call(this,t)||this;return n.onClickHandler=function(e,t,r){return function(a){var o=n.props,i=o.requestContext,s=o.pageTitleId,c=o.isElcano,l=o.totalEpisodeSize,u=o.cardTitleIds;a.preventDefault(),r&&n.state.sortingState===r||(0,Cr.XQ)(r?Cf[r]:(0,Or.i)("atv_dp_ep_exp"),e,t),n.setState((function(e){return r&&e.sortingState===r?e:{episodesHidden:!1,sortingState:r||e.sortingState,sortingChanged:e.sortingChanged||void 0!==r}})),u.length<l&&Cc(i.rawContext,s,c,Mo.Wq,l-Mo.Wq)}},n.state={episodesHidden:t.cardTitleIds.length<t.totalEpisodeSize,sortingState:Df.EpisodeNumberAscending,sortingChanged:!1},n}return Tf(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.requestContext,n=e.pageTitleId,r=e.episodesWithAccessChange,a=e.isElcano,o=e.collectionType,i=e.totalEpisodeSize,s=e.cardTitleIds,c=e.episodesSeen,l=e.logger;"episodes"===o&&s.length<i&&(c>=Mo.Wq&&(Cc(t.rawContext,n,a,Mo.Wq,i-Mo.Wq),this.setState({episodesHidden:!1})),r>0&&l.count("DVWebNode::Detail::BtfLeavingSoonMessages",r,!0))},t.prototype.shouldComponentUpdate=function(e,t){return e.cardTitleIds!==this.props.cardTitleIds||t.sortingState!==this.state.sortingState||t.episodesHidden!==this.state.episodesHidden},t.prototype.render=function(){var e=this,t=this.props,n=t.header,r=t.cardTitleIds,a=t.totalEpisodeSize,o=t.collectionType,s=t.pageTitleId,c=t.requestContext,l=t.titleIdToAvailable,u=this.state,d=u.episodesHidden,p=u.sortingState,f=u.sortingChanged,m=r.length<a;if(!o)return null;var h="episodes"!==o||m?r:Of[p](r,l);return i.createElement(Y.h.Consumer,null,(function(t){var r=t.getString,l=t.pageType,u=t.subPageType,g=h.map((function(e,t){var n={titleId:e,collectionType:o,epListIndex:o+"-"+t,isFirstEpisode:0===t,isBonus:"bonus"===o};return i.createElement(i.Fragment,{key:"episode-"+e+"-"+t},i.createElement(mf,Pf({},n)))}));if(0===(g||[]).length)return null;var v=xf.map((function(t){var n=t===p,a=kf[t];return{id:t,name:t,text:i.createElement("span",{className:n?wf:""},i.createElement(Q,{stringID:a})),isHighlighted:n,onClick:e.onClickHandler(l,u,t),ariaLabel:r(a)}})),_={get:{episodeListSize:""+a}},y=c.makeUrl(be(s),_);if("episodes"===o)return i.createElement("div",{className:hf},i.createElement("div",{className:Ef},n&&i.createElement("h1",{className:bf},n," (",a,")"),i.createElement(Lu,{links:v,customDropListID:"sorting-droplist",isCustomTrigger:!0,right:!0,customText:r(Af(p,f))})),i.createElement("ol",{className:gf},g.slice(Sf,Mo.Wq),i.createElement("span",{className:d?vf:""},m?i.createElement("div",{className:yf},i.createElement(Za.Spinner,null)):g.slice(Mo.Wq))),d&&i.createElement(Er.Link,{className:_f,href:y,onClick:e.onClickHandler(l,u),"data-automation-id":"ep-expander","data-testid":"ep-expander",ariaLabel:r("DV_DP_EPISODE_EXPANDER",{episodeCount:""+a})},i.createElement(Q,{stringID:"DV_DP_EPISODE_EXPANDER",replace:{episodeCount:""+a}})));var b={totalEpisodeSize:a,collectionType:o};return i.createElement("div",{className:hf},n&&i.createElement("h1",{className:bf},n," (",a,")"),i.createElement("ol",{className:gf},g),i.createElement(ts,Pf({},b)))}))},t}(i.Component),Rf=(0,Hr.n)((0,oe.$j)((function(e){return{requestContext:Ft(e),pageTitleId:e.pageTitleId,isElcano:Boolean(e.features.isElcano),episodesSeen:(0,qt.C9)(e),titleIdToAvailable:(0,qt.ZA)(e),episodesWithAccessChange:(0,qt.BN)(e)}}))(Nf)),Lf=n("./node_modules/@amzn/dvui/dist/Carousel.js"),Vf=n("./node_modules/@amzn/dvui/dist/Packshot.js");const Mf="_3nLd6J",Wf="_3Cq6JO",jf="_32IiXp",Bf="_1EcvsB",Ff="mWsquZ",Uf="_1qXSbl",Hf="i7Ilo5",Gf="_2Pakoo",qf="_1yGQE6",zf="XGzKjH",Zf="_2E_W5F",Yf="_1kj931",Xf="_3nGLRK";var Kf=n("./src/widgets/Explore/Hover/utils.ts"),Jf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qf=function(){return(Qf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},$f=i.lazy((function(){return Promise.all([n.e(351),n.e(942),n.e(584)]).then(n.bind(n,"./src/widgets/Explore/Hover/index.ts")).then((function(e){return{default:e.Hover}}))})),em=i.lazy((function(){return n.e(918).then(n.bind(n,"./src/widgets/Explore/EntitlementCue/EntitlementCue.tsx")).then((function(e){return{default:e.EntitlementCue}}))})),tm=function(e){var t=e.detail,n=t.liveState&&(0,$.JQ)(t.liveState.isLive),r=t.liveState&&t.liveState.text,a=t.liveState&&t.liveState.id,o=t.dateTimeBadge,s=n?er.badges.LIVE:er.badges.CRITICAL;return i.createElement("div",{className:qf},po(a)||n?r&&i.createElement("span",{className:zf},i.createElement(er.Badge,{use:s},r)):o&&i.createElement("span",{className:zf},i.createElement(er.Badge,{use:er.badges.WHITE},o)))},nm=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isHoverReady:!1,entitlementCue:t.entitlementCue,hoverIsExpanded:!1},n}return Jf(t,e),t.prototype.componentDidMount=function(){this.state.isHoverReady||this.setState({isHoverReady:!0})},t.prototype.render=function(){var e=this,t=this.props,n=t.detail,r=t.imdb,a=t.titleId,o=t.idx,s=t.requestContext,c=t.pageContext,l=t.pageLink,u=t.watchlistAction,d=t.refTagPrefix,p=t.isElcano,f=t.enableAutoPlayingInBTF,m=t.resetFocusForCarousel,h=t.requestFocusForCarousel,g=this.state,v=g.isHoverReady,_=g.entitlementCue,y=s.isRetail;if(!n)return null;var b=(y?n.asin:n.compactGti)||a,E=(y?n.asin:n.gti)||(0,yt.rM)(a)?a:void 0,w=d?""+d+(o+1):"atv_dp_sims_c_"+(o+1),D=Ee({parameters:s.queryParameters,originalURI:s.originalURI,isRetail:y},b,w),T=c.features&&"true"===c.features.offerClarityEnabled,P=l||D,I=(y||p)&&(0,$.JQ)(n.isPrime)&&!T,S=n.images&&n.images.covershot,k={alt:n.title,src:S,baseValue:329,srcSizes:[{"max-tablet-landscape":266},{"max-phone-landscape":216}],skipStripTags:!0,isLazy:!0},C={url:P,alt:n.title,isPrime:I},O=E&&c.enableHover,x=O?"dv-universal-hover-enabled":void 0,A=i.createElement("div",{className:Uf},i.createElement(Vf.Packshot,Qf({},C,{className:x,asin:E}),i.createElement("div",{className:jf},i.createElement("div",{className:Hf},i.createElement($n.Icon,{use:$n.IconType.SMILE})),S&&i.createElement(mt,Qf({className:Bf,classNameContainer:Bf},k)))),v&&T&&_&&i.createElement(i.Suspense,{fallback:i.createElement(i.Fragment,null)},i.createElement(em,Qf({},_,{containerRef:this.props.carouselContainerRef,hoverIsExpanded:this.state.hoverIsExpanded,tooltip:this.state.hoverIsExpanded?_.tooltip:void 0}))),i.createElement(tm,{detail:n})),N=n.liveState&&(0,$.JQ)(n.liveState.isLive)?n.liveState.text:null,R=(n.liveState||n.dateTimeBadge||n.location)&&{status:n.liveState&&n.liveState.id,label:n.liveState&&n.liveState.text,timeBadge:n.dateTimeBadge,venue:n.location},L=n.ratingBadge,V=L?gr(L)?{rating:L.simplifiedId,locale:L.countryCode.toLowerCase(),title:L.description,link:L.localRatingLink}:{rating:L.displayText,title:L.description,link:L.localRatingLink}:void 0,M=y&&n.amazonRating,W=r&&r.scoreFormatted;return v&&O?i.createElement(i.Suspense,{fallback:A},i.createElement("div",Qf({},(0,Kf.Wx)((function(t){return v&&e.setState({hoverIsExpanded:t})}))),i.createElement($f,{className:Gf,title:n.title,titleID:E,synopsis:n.synopsis,liveBadgeLabel:N,imdbRating:W,releaseYear:n.releaseYear,runtime:n.runtime,hasSubtitles:(0,$.Db)(n.subtitles),showPrerollsInHover:f,watchlistAction:u,placementType:"DETAIL_BTF",url:P,customerReviews:M,liveInfo:R,contentMaturityRating:V,onMouseOver:function(){return h&&h()},onMouseLeave:function(){return m&&m()},entitlementCue:_,prefetchOnVisible:T,onEnrich:function(t){return e.setState({entitlementCue:t.cardBundle&&t.cardBundle.entitlementCue})},signInTrailerURL:n.signInTrailerURL},A))):A},t}(i.PureComponent),rm=(0,oe.$j)((function(e,t){return{detail:e.detail[fo.Xt][t.titleId],imdb:e.imdb[t.titleId],watchlistAction:e.hoverWatchlist[t.titleId],requestContext:Ft(e),pageContext:e.pageContext,pageLink:e.pageLink[t.titleId],isElcano:Boolean(e.features.isElcano),entitlementCue:e.entitlementCue[t.titleId],enableAutoPlayingInBTF:ot(e)}}))(nm),am=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),om=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isCarouselFocused:!1},n.containerRef=i.createRef(),n}return am(t,e),t.prototype.setFocusedCarousel=function(e){this.setState({isCarouselFocused:e===this.props.index})},t.prototype.resetFocusedCarousel=function(){this.setState({isCarouselFocused:!1})},t.prototype.componentDidUpdate=function(){if(!this.state.isCarouselFocused){var e=document.activeElement,t=this.containerRef&&this.containerRef.current;t&&e&&t.contains(e)&&e.blur()}},t.prototype.render=function(){var e,t,n=this,r=this.props,a=r.header,o=r.cardTitleIds,s=r.refTagPrefix,c=r.totalEpisodeSize,l=r.index;return 0===o.length?null:i.createElement("div",{className:xe("dv-hover-packshot-container "+Mf,(e={},e[Zf]=1===c,e)),ref:this.containerRef},a&&i.createElement("h1",{className:Wf}," ",a," "),i.createElement(Lf.Carousel,{className:xe(Ff,(t={},t[Yf]=this.state.isCarouselFocused,t)),leftScrollButtonClassName:Xf,rightScrollButtonClassName:Xf},o.map((function(e,t){return i.createElement(rm,{key:"carousel-collection-"+e+"-"+t,idx:t,titleId:e,refTagPrefix:s,requestFocusForCarousel:function(){return n.setFocusedCarousel(l)},resetFocusForCarousel:function(){return n.resetFocusedCarousel()},carouselContainerRef:n.containerRef})}))))},t}(i.PureComponent),im=function(){return(im=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},sm=Xr(qr((function(e){switch(e.collectionType){case"schedule":return i.createElement(_o,im({},e));case"carousel":return i.createElement("div",{className:Ie},i.createElement(om,im({},e)));default:return i.createElement(Rf,im({},e))}}))),cm=(0,qe.P)(ze.bS.pageTitleId,ze.bS.collections,(function(e,t){return lm(t[e])})),lm=function(e){return e?e.map((function(e,t){var n,r=e.collectionType,a=e.titleIds,o=e.header,i=e.totalCardSize,s=(r||"").toLowerCase();return n=s,Ki.includes(n)&&0!==(a||[]).length?{header:o,collectionType:s,totalEpisodeSize:i||0,cardTitleIds:a,index:t}:null})).filter(Boolean):[]},um=(0,qe.P)(cm,(function(e){return e&&e.map((function(e){return e&&e.collectionType&&(t=e.collectionType,Ji.includes(t))?e:null;var t})).filter(Boolean)})),dm=(0,qe.P)(um,(function(e){return Boolean(e&&e.length>0)})),pm=function(){return(pm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},fm=(0,oe.$j)((function(e){return{showTabCollections:dm(e),collections:um(e)}}))((function(e){var t=e.collections;if(!e.showTabCollections)return null;var n=t.map((function(e,t){return i.createElement(sm,pm({},e,{key:"collection-"+e.index+"-"+t}))}));return i.createElement(qn.Container,null,n)})),mm=(0,qe.P)(ze.bS.pageTitleId,ze.bS.carousel,(function(e,t){return lm(t[e])})),hm=(0,qe.P)(mm,(function(e){return Boolean(e&&e.length)})),gm=function(){return(gm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},vm=(0,oe.$j)((function(e){return{showCarousels:hm(e),carousels:mm(e)}}))((function(e){var t=e.carousels;return e.showCarousels?i.createElement(qn.Container,{className:Ie,testID:"caw-carousel-section"},t.map((function(e,t){return null===e?null:i.createElement(om,gm({},e,{key:"carousel-collection-"+e.index+"-"+t}))}))):null}));const _m="_3gXPVg",ym="_1a0uyP";var bm=(0,qe.P)(ze.mZ.otherFormats,(function(e){return Boolean(e&&e.actions&&e.actions.length)})),Em=(0,oe.$j)((function(e){return{showOtherFormats:bm(e),otherFormats:ze.mZ.otherFormats(e)}}))((function(e){var t=e.otherFormats,n=e.showOtherFormats,r=i.useContext(Y.h).getString;return n&&t?i.createElement(qn.Container,{className:Ie},i.createElement("div",{"data-automation-id":"other-formats"},i.createElement("h1",{className:_m}," ",r("DV_DP_CL_other_formats_title")," "),t.actions.map((function(e,t){return i.createElement("div",{className:ym,key:"other-format-"+t},i.createElement(na.PrimaryButton,{href:e.link,forceDoubleHeight:!0},i.createElement(v.Text,{tag:"span",string:e.text})))})))):null}));const wm="_3MUwh1",Dm="_2qxCUH",Tm="_1EDVkk",Pm="_2cWRFD",Im="BOWhoV",Sm="_2HvOya",km="_3A_0MI",Cm="_8Yq3WS",Om="VSf1a7",xm="p8Afly",Am="_1DMa3P";var Nm=(0,qe.P)(ze.mZ.castAndCrew,(function(e){return Boolean(e&&e.castAndCrews.length>0)}));const Rm="_2xP0Cm",Lm="_19bcWO",Vm="_1Ay6Wu",Mm="Dpi33q";var Wm=n("./src/util/types/wps/following.ts"),jm=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bm=function(e){var t=e.errorMessage;return i.createElement(jd.Callout,{use:"error",content:t,position:"bottom",startOpen:!0,size:"s",dismissSeconds:5})},Fm=function(e){function t(t){var n=e.call(this,t)||this;return n.constructInput=function(e){var t=e.endpoint,r=e.context,a=t.query,o=n.getQueryValues(a),i=o.tagValue,s=o.scopeValue,c=o.personIdValue,l=o.tokenValue;return{context:r,personId:c,personName:o.personNameValue,tag:i,scope:s,token:l}},n.onSubmit=function(e){e.preventDefault(),n.submitForm()},n.updateErrorMessage=function(e){n.setState({errorMessage:e})},n.submitForm=function(){var e=n.props,t=e.logger,r=e.onSuccess,a=e.onFailureWithMessage,o=e.onUnexpectedFailure;(new c.eZ).ToggleFollowing(n.constructInput(n.props)).then((function(e){(0,Pt.aP)(e.success)?r&&r(e):a?a(e):n.updateErrorMessage(e.message)})).catch((function(e){o&&o(e),t.error(e)}))},n.getQueryValues=function(e){return{tagValue:e.tag,scopeValue:e.scope,personIdValue:e.personId,tokenValue:e.token,personNameValue:e.personName}},n.getButtonStyle=function(e,t){var n=t?Vm:Lm;switch(e){case"primary":return n;case"secondary":return Lm;case"undo-link":return Mm;default:return n}},n.state={errorMessage:t.errorMessage},n}return jm(t,e),t.prototype.componentDidUpdate=function(e){e.errorMessage!==this.props.errorMessage&&this.updateErrorMessage(this.props.errorMessage)},t.prototype.render=function(){var e,t=this.props,n=t.tag,r=t.buttonType,a=t.text,o=t.endpoint,s=t.className,c=t.enableErrorMessage,l=this.state.errorMessage,u=n===Wm.Ou.Unfollow,d=o.partialURL,p=o.query,f=this.getQueryValues(p),m=f.tagValue,h=f.scopeValue,g=f.personIdValue,v=f.tokenValue,_=f.personNameValue,y=this.getButtonStyle(r||"primary",u),b=xe(Rm,((e={})[s]=s,e));return i.createElement("div",{className:b},i.createElement("form",{action:d,method:"POST",onSubmit:this.onSubmit},i.createElement("input",{name:"token",type:"hidden",value:v}),i.createElement("input",{name:"tag",type:"hidden",value:m}),i.createElement("input",{name:"scope",type:"hidden",value:h}),i.createElement("input",{name:"personId",type:"hidden",value:g}),_&&i.createElement("input",{name:"personName",type:"hidden",value:_}),i.createElement("button",{type:"submit",className:y},a)),c&&l&&i.createElement(Bm,{errorMessage:l}))},t}(i.Component),Um=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hm=function(){return(Hm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Gm=function(e){function t(t){var n,r=e.call(this,t)||this;return r.onToggleFollowingSuccess=function(e){e.newAction&&r.setState({toggleFollowingAction:e.newAction})},r.state={toggleFollowingAction:(n=t.toggleFollowingAction,{tag:n.tag,text:n.text,endpoint:n.endpoint})},r}return Um(t,e),t.prototype.render=function(){var e=this.props,t=e.buttonType,n=e.className,r=e.enableErrorMessage,a=e.context,o=e.logger,s=this.state.toggleFollowingAction;return i.createElement(Fm,Hm({},Hm(Hm({},s),{context:a,logger:o,onSuccess:this.onToggleFollowingSuccess,buttonType:t,className:n,enableErrorMessage:r})))},t}(i.Component),qm=(0,ae.s6)(Gm),zm=n("./node_modules/@amzn/dvui/dist/Icons/LogoImdbOutline.js"),Zm=n.n(zm),Ym=function(){return(Ym=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Xm=function(e){var t,n=e.castMember,r=e.showCastImages,a=e.index,o={collectionType:"carousel",cardTitleIds:n.titles,totalEpisodeSize:n.titles.length,index:a},s=function(e,t){return t?e+" - "+t:e},c=n.cast,l=c.imageUrl,u=c.name,d=c.role,p=c.personPageLink,f=c.personPageImageLink,m=c.personPageFollowingAction;return i.createElement(i.Fragment,null,i.createElement("div",{className:Tm},i.createElement("h3",{className:Dm},s(u,d)),p&&i.createElement(v.Text,{className:Pm,string:p,testID:"person-page-link"}),m&&i.createElement(qm,{toggleFollowingAction:m,className:xm,enableErrorMessage:!0})),i.createElement("div",{className:xe(Im,"cast-and-crew-member",(t={},t[Sm]=r,t))},r&&i.createElement("div",{className:""+Cm},function(e,t,n){var r={alt:"",src:e,baseValue:175,srcSizes:[{"max-phone-landscape":112}],isLazy:!0},a=e&&"\\N"!==e,o=i.createElement(i.Fragment,null,i.createElement("div",{className:Om},i.createElement($n.Icon,{use:$n.IconType.LOGO_PRIMEVIDEO})),a&&i.createElement(mt,Ym({className:km},r)));return t?i.createElement("a",{href:t,"data-automation-id":"person-page-image-link",className:"personPageImageLink","aria-label":n}," ",o," "):o}(l,f,s(u,d))),i.createElement(om,Ym({},o))))},Km=(0,oe.$j)((function(e){return{showCastAndCrew:Nm(e),castAndCrew:ze.mZ.castAndCrew(e)}}))((function(e){var t=e.castAndCrew;if(!e.showCastAndCrew)return null;var n=t&&t.castAndCrews,r=n.some((function(e){return e.cast.imageUrl&&"\\N"!==e.cast.imageUrl}));return i.createElement(qn.Container,{className:Ie+" cast-and-crew-section",testID:"cast-and-crew-section"},i.createElement("h2",{className:wm},i.createElement(Q,{stringID:"DV_DP_CAST_CREW_HEADING"}),i.createElement("span",{className:Am},i.createElement(Q,{stringID:"DV_DP_powered_by"})),i.createElement(Zm(),null)),n.map((function(e,t){return i.createElement(Xm,{castMember:e,showCastImages:r,key:"cast-member-"+t,index:t})})))}));const Jm="_2C9w5J",Qm="_2d3_Ec",$m="_13_dRS",eh="_3KEec9",th="_2F2E3C",nh="_7Oweq3";var rh=(0,qe.P)(ze.mZ.scoutBanner,(function(e){return Boolean(e)})),ah=(0,oe.$j)((function(e){return{scout:ze.mZ.scoutBanner(e),showScoutBanner:rh(e)}}))((function(e){var t=e.scout;return e.showScoutBanner?i.createElement(qn.Container,{className:Ie+" "+Qm,testID:"scout-banner-section"},i.createElement("h1",{className:Jm},i.createElement(v.Text,{string:t.discover})),i.createElement(Er.Link,{href:t.pageLink},i.createElement("div",{className:$m},i.createElement("div",{className:eh},i.createElement("h2",null,i.createElement("strong",null,i.createElement(v.Text,{string:t.newBadge})),i.createElement(v.Text,{string:t.header})),i.createElement("div",null,i.createElement(v.Text,{string:t.body,className:nh}),i.createElement(v.Text,{string:t.tryNow,className:th})))))):null})),oh=n("./node_modules/@amzn/dvui/dist/MoreContent.js");const ih="_266mZB",sh="_3u-3mI",ch="_2y5Q0c",lh="_3XUVYC",uh="_30UT8H",dh="_2eI85d",ph="_2vOHsh",fh="_2UXwTh";var mh,hh,gh=(0,qe.P)([jt,ze.mZ.moreDetails],(function(e,t){return Boolean(e&&t)||Boolean(t&&t.ratingBadge)})),vh=(0,qe.P)([ze.bS.context],(function(e){return e.marketplaceID===wd.HZ.UK})),_h=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e};!function(e){e[e.Directors=0]="Directors",e[e.Starring=1]="Starring",e[e.Genres=2]="Genres",e[e.Moods=3]="Moods",e[e.Subtitles=4]="Subtitles",e[e.AudioTracks=5]="AudioTracks",e[e.Actors=6]="Actors",e[e.Producers=7]="Producers",e[e.ReleaseYear=8]="ReleaseYear",e[e.Studios=9]="Studios",e[e.RegRating=10]="RegRating",e[e.ContentDescriptors=11]="ContentDescriptors",e[e.PurchaseRights=12]="PurchaseRights",e[e.Format=13]="Format",e[e.Amr=14]="Amr",e[e.Devices=15]="Devices"}(hh||(hh={}));var yh=((mh={})[hh.Subtitles]=2,mh[hh.AudioTracks]=2,mh),bh=function(e,t,n){return[i.createElement(Er.Link,{key:"type-content-link-"+n,text:e,href:t})]},Eh=function(e,t){return[i.createElement(i.Fragment,{key:"type-content-text-"+t},e)]};function wh(e,t,n,r){return{header:e,items:n&&n.length>0?n.map((function(e,n){return t(e,n)})):null,stylingClasses:r}}function Dh(e,t,n){return{header:e,items:t&&t.length>0?[t]:null,stylingClasses:n}}var Th=function(e,t){return bh(i.createElement(Z,{string:e.name}),e.searchLink,t)},Ph=function(e,t){return Eh(i.createElement(Z,{string:e.name}),t)},Ih=function(e,t){return bh(i.createElement(Z,{string:e.text}),e.searchLink,t)},Sh=function(e,t){return Eh(i.createElement(Z,{string:e.text}),t)},kh=function(e,t){return e.link?bh(i.createElement(Z,{string:e.text}),e.link,t):Eh(i.createElement(Z,{string:e.text}),t)},Ch=function(e,t){return Eh(i.createElement(Z,{string:e.text}),t)},Oh=function(e,t){var n=0===t?""+e.charAt(0).toUpperCase()+e.slice(1):e;return Eh(i.createElement(Z,{string:n}),t)},xh=function(e,t){return Eh(i.createElement(Z,{string:e}),t)},Ah=function(e,t){var n,r,a,o,s,c,l,u=e.ratingBadge,d=e.titleType,p=e.contributors,f=e.genres,m=e.moods,h=e.subtitles,g=e.enhancedSubtitles,v=e.audioTracks,_=e.studios,y=e.releaseYear,b=e.isPurchaseRestricted,E=e.contentDescriptors,w=e.entityType,D=e.requestContext,T=D.makeUrl,P=D.rawContext,I=e.isCerberusChild,S=e.questLinksEnabled,k=mr(u)&&u,C=hr(u)&&u,O=d&&"MOVIE"===d.toUpperCase(),x=t("DV_brand_av"),A=t("DV_DP_ARIA_learn_more_amr"),N=t("DV_DP_none_available"),R=(0,$.xb)(h)&&!(0,wd.D1)(P.marketplaceID)?[N]:h,L=(0,$.xb)(g)&&!(0,wd.D1)(P.marketplaceID)?[{text:N}]:g,V=(0,$.JQ)(I)?Ph:Th,M=(0,$.JQ)(I)?Sh:Ih,W=(0,$.JQ)(I)?Ch:kh;return(n={})[hh.Directors]=wh(i.createElement(Q,{stringID:"DV_TW_title_directors"}),V,p&&p.directors),n[hh.Producers]=wh(i.createElement(Q,{stringID:"DV_TW_title_producers"}),V,p&&p.producers),n[hh.Actors]=wh(i.createElement(Q,{stringID:"DV_TW_title_actors"}),V,p&&p.supportingActors),n[hh.Starring]=wh(i.createElement(Q,{stringID:"DV_TW_title_starring"}),V,p&&p.starringActors),n[hh.Genres]=wh(i.createElement(Q,{stringID:"DV_TW_title_genres"}),M,f),n[hh.Moods]=wh(i.createElement(Q,{stringID:"DV_TW_title_moods_row"}),xh,m,[ch]),n[hh.Subtitles]=S?wh(i.createElement(Q,{stringID:"DV_TW_title_subtitles"}),W,L,[ch]):wh(i.createElement(Q,{stringID:"DV_TW_title_subtitles"}),xh,R,[ch]),n[hh.AudioTracks]=wh(i.createElement(Q,{stringID:"DV_TW_title_languages"}),xh,v,[ch]),n[hh.Studios]=wh(O?i.createElement(Q,{stringID:"DV_TW_title_studio"}):i.createElement(Q,{stringID:"DV_TW_title_network"}),xh,_),n[hh.Amr]=Dh(i.createElement(Q,{stringID:"DV_TW_title_amr"}),k&&(r=k&&k.displayText,a=k&&function(e){return"all"!==e.id}(k)&&k.description||"",o=i.createElement(Q,{stringID:"DV_DP_learn_more"}),s="/amr/ref=atv_hp_dp_amr",c=0,l=A,[i.createElement("span",{key:"amr-span-"+c,dir:"ltr"},r)," ",a," ",i.createElement(Er.Link,{key:"amr-link-"+c,text:o,href:s,ariaLabel:l})])||[]),n[hh.RegRating]=Dh(C&&function(e){switch(e&&e.toUpperCase()){case"US":return i.createElement(Q,{stringID:"DV_TW_title_mpaarating"});case"UK":return i.createElement(Q,{stringID:"DV_TW_title_bbfcrating"});case"DE":return i.createElement(Q,{stringID:"DV_TW_title_fskrating"});default:return i.createElement(Q,{stringID:"DV_TW_title_eirinrating"})}}(C.countryCode),O&&C&&C.description&&Eh(C.description,0)||[]),n[hh.ContentDescriptors]=wh(i.createElement(Q,{stringID:"DV_TW_title_content_descriptors"}),Oh,E,[ch]),n[hh.ReleaseYear]=Dh(i.createElement(Q,{stringID:"DV_TW_title_seasonyear"}),!O&&y&&Eh(y,0)||[]),n[hh.PurchaseRights]=Dh(i.createElement(Q,{stringID:"DV_TW_title_purchaserights"}),!b&&function(e){return[[i.createElement(Q,{stringID:"DV_TW_data_purchaserights_streaming",key:0})," ",(t=i.createElement("div",{className:""+lh},i.createElement(Q,{stringID:"DV_WEB_DP_popover_purchase_rights",dvStringAttrs:{compatibleDeviceLink:{href:e("/ontv/devices",{refTag:"atv_dp_hd_dev"})},touLink:{href:e("/dv/tou",{refTag:"atv_dp_tou",isShortUrl:!0})},learnDownloading:{href:e("/gp/help/customer/display.html?nodeId=201460820",{refTag:"atv_dp_learn_download",isShortUrl:!0})}}})),n=i.createElement(Q,{stringID:"DV_TW_Detail_text"}),r=1,i.createElement(Po,{modalContent:t,toggle:function(e){var t=e.openModalClickHandler;return i.createElement(Er.Link,{onClick:t},n)},key:"type-content-modal-"+r}))]];var t,n,r}(T)||[]),n[hh.Format]=Dh(i.createElement(Q,{stringID:"DV_TW_title_format"}),Eh(i.createElement(Q,{stringID:"DV_TW_data_format_streaming",replace:{brand:x}}),0)),n[hh.Devices]=Dh(i.createElement(Q,{stringID:"DV_TW_title_devices"}),w&&!b&&!(0,an.Z4)(w)&&function(e){return[[Eh(i.createElement(Q,{stringID:"DV_TW_data_available_to_watch_devices",dvStringAttrs:{supportedDevicesLink:{href:e("/watchAnywhere",{refTag:"atv_dp_watch_anywhere",isShortUrl:!0})}}}),0)]]}(T)||[]),n},Nh=function(e){var t=e[0],n=e.slice(1);return _h([t],n.reduce((function(e,t,n){return _h(_h(_h([],e),[i.createElement("span",{"aria-hidden":!0,key:"separator-"+n},i.createElement(Q,{stringID:"DV_comma_separator"}))]),t)}),[]))},Rh=function(e){var t=e.header,n=e.items,r=e.moreString,a=e.type,o=e.expandedItemsCount,s=e.stylingClasses,c=Nh(n),l=2*o;if(c.length>l){var u=c.slice(0,l),d=c.slice(l);c=[i.createElement(oh.MoreContent,{visible:u,hidden:d,key:"more-content",moreString:r,index:a})]}var p=s?xe(s):void 0;return i.createElement("dl",{key:"dl-"+a,className:p},i.createElement("dt",null,t),i.createElement("dd",null,c))},Lh=(0,oe.$j)((function(e){return{requestContext:Ft(e),isPurchaseRestricted:Ye(e),isCerberusChild:Ze(e),questLinksEnabled:vh(e)}}))((function(e){var t,n=i.useContext(Y.h).getString,r=e.fields,a=e.showHeader,o=void 0!==a&&a,s=e.showMoodsHeader,c=void 0!==s&&s,l=e.expandedItemsCount,u=void 0===l?3:l,d=e.id,p=n("DV_DP_more_items"),f=Ah(e,n),m=r.map((function(e,t){var n=yh[e]||u,r=f[e];return r&&r.items&&r.items.length>0&&i.createElement(Rh,{key:"row-"+d+"-"+t,header:r.header,items:r.items,moreString:p,type:e,expandedItemsCount:n,stylingClasses:r.stylingClasses})})),h=o&&m&&m.filter(Boolean).length?i.createElement(Q,{stringID:"DV_DP_more_details"}):null,g=c&&(null===(t=e.moods)||void 0===t?void 0:t.length)?i.createElement("div",{className:dh},i.createElement("span",{className:ph},i.createElement(Q,{stringID:"DV_TW_title_moods_line"})),i.createElement("span",{className:fh},Nh(e.moods.map(xh)))):null;return i.createElement("div",{className:xe(we,uh),id:d,"data-automation-id":d},h&&i.createElement("h1",null," ",h," "),g,i.createElement("div",{className:ih},m))})),Vh=function(){return(Vh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Mh=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},Wh=function(e){return Mh(Mh([],e?[hh.Directors]:[]),[hh.Producers,hh.Studios,hh.Amr,hh.ContentDescriptors,hh.Actors])},jh=(0,oe.$j)((function(e){return{productDetails:ze.mZ.moreDetails(e),requestContext:Ft(e)}}))((function(e){var t,n=e.productDetails,r=e.requestContext;if(n){var a=(0,an.xw)(n);return i.createElement(qn.Container,{className:Ie},i.createElement(Lh,Vh({},n,{fields:r.isRetail?(t=a,Mh(Mh([],t?[hh.Directors]:[]),[hh.Actors,hh.Producers,hh.ReleaseYear,hh.Studios,hh.RegRating,hh.ContentDescriptors,hh.PurchaseRights,hh.Format,hh.Devices])):Wh(a),showHeader:!0,expandedItemsCount:5,id:"btf-product-details"})))}return null})),Bh=n("./node_modules/react-dom/index.js"),Fh=(0,qe.P)([Ut.k7,$e,ze.bS.exploreTabContent],(function(e,t,n){return"true"!==t.disableExploreTab&&Boolean(e&&n&&n.staticPageContent)})),Uh="StarlightPlayRequest",Hh=(0,Hr.n)((0,oe.$j)((function(e){return{content:ze.bS.exploreTabContent(e),showExploreTab:Fh(e),requestContext:Ft(e),titleId:ze.bS.pageTitleId(e)}}))(i.memo((function(e){var t=e.content,n=e.showExploreTab,r=e.requestContext,a=e.titleId,s=e.logger,c=i.useContext(Ka.ET).onPlay,l=r.isRecognizedCustomer,u=r.queryParameters,d=r.originalURI,p=r.isRetail;return i.useEffect((function(){if(n&&t){(0,o._U)("pv-starlight-detail-page");var e=function(e){var t,n,r=e.detail;r&&(s.count($.EZ+"_Starlight_Playback",1,!0),c(Object.assign(r,!l&&{signInUrl:(t="dv_dp_explore_sign_in",n=Ee({parameters:u,originalURI:d,isRetail:p},a,t),ye({parameters:u,originalURI:d,isRetail:p},t,n))})))};return document.addEventListener(Uh,e),function(){var t=document.getElementById("starlight-root");t&&Bh.unmountComponentAtNode(t),document.removeEventListener(Uh,e)}}}),[]),n&&t?i.createElement("div",{dangerouslySetInnerHTML:{__html:t.staticPageContent}}):null})))),Gh=(0,qe.P)([at,jt,Ze,ze.mZ.comingSoon],(function(e,t,n,r){return(t||e)&&!Boolean(r)&&!n}));const qh="O4Kxlz",zh="_2hFdht",Zh="_3AQ-tz",Yh="eph53l",Xh="W27_oz",Kh="_3XbWV6",Jh="_2lZKCy",Qh="_3campH",$h="_2dVGOh",eg="_1vYcYX",tg="_1OnCd3",ng="_3zF9LN",rg="_3BAKUi",ag="_1dW6n4",og="C9h022",ig="u_JfyW",sg="_3gvi4K",cg="_21cmh7",lg="TtG3yR",ug="cQzc0Q";var dg=function(e){return e.url?i.createElement("a",{href:e.url,className:e.className,"aria-label":e.ariaLabel,"data-automation-id":e.automationId},e.children):i.createElement("span",{"aria-label":e.ariaLabel,className:e.className,"data-automation-id":e.automationId,role:"img"},e.children)},pg=n("./node_modules/@amzn/dvui/dist/Icons/LinkArrow.js"),fg=n.n(pg);const mg="HEXDrZ",hg="_2yoYLR",gg="D9LaaU",vg="_3hGUnl",_g="Km2bko",yg="_3rWEr0",bg="_2r1IO_",Eg="_2D1hub",wg="_26VrVp",Dg="KFiIwp",Tg="_3txQ2v",Pg="oZ_Fl8",Ig="_1wTVMS",Sg="_276_lE",kg="_6g7nQt",Cg="_3jXUWZ",Og="_37VAqj";var xg=n("./node_modules/@amzn/dvui/dist/StarRating.js"),Ag=function(){return(Ag=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ng=function(e){var t=e.ratingsExplanationHeader,n=e.ratingsExplanationText,r=i.useState(!1),a=r[0],o=r[1],s=i.useContext(Y.h),c=s.pageType,l=s.subPageType;return i.createElement("div",{className:Ig,onClick:function(){a||(0,Cr.XQ)((0,Or.i)("atv_dp_cr_rev_exp"),c,l),o(!a)},"data-automation-id":"ratings-explanation-expander"},i.createElement($n.Icon,{className:Og,use:a?$n.IconType.TOGGLE_COLLAPSE:$n.IconType.TOGGLE_EXPAND}),i.createElement("div",{className:Sg},i.createElement("p",{className:kg},t),a&&i.createElement("p",{className:Cg,"data-automation-id":"ratings-explanation-body"},n)))},Rg=function(e){var t=e.ratingDisplayLabel,n=e.percentageDisplay;return i.createElement("div",{className:Eg},i.createElement("span",{className:wg},t),i.createElement("div",{className:Tg},i.createElement("span",{style:{width:n}})),i.createElement("span",{className:Dg},n))},Lg=function(e){var t=e.createReviewLink,n=e.writeReviewText;return i.createElement(ra(),{className:Pg,role:"button","aria-live":"polite","aria-label":n,testID:"write-review-button",href:t},n)},Vg=function(e){var t=e.reviewRatingInfo,n=t.starCount,r=t.hasHalfStar,a=t.averageRatingLabel,o=t.totalReviewCountText;return i.createElement("div",null,i.createElement(ur.Spacer,{alignItems:ur.spacerAlignItems.center,space:ur.spacerSpacing.xs},i.createElement(xg.StarRating,{rating:n+(r?.5:0),className:gg}),i.createElement("strong",{className:vg},a)),i.createElement("p",{className:_g},o))},Mg=function(e){var t=e.reviewsAnalysisModel,n=e.createReviewLink,r=e.reviewsHistogramStrings,a=t.ratingsHistogram,o=t.reviewRatingInfo,s=a.oneStar,c=a.twoStar,l=a.threeStar,u=a.fourStar,d=a.fiveStar,p=i.useRef(null),f=[d,u,l,c,s];return i.createElement("div",{className:mg,"data-automation-id":"reviews-histogram-container",ref:p},i.createElement("h1",{className:hg},r.reviewsHeader),o&&i.createElement(Vg,{reviewRatingInfo:o}),i.createElement("ol",{className:yg},f.map((function(e,t){var n=e.hoverText,r=e.ratingDisplayLabel,a=e.percentageDisplay,o={url:e.url,ariaLabel:r,automationId:"histogram-row-"+t},s={ratingDisplayLabel:r,percentageDisplay:a};return i.createElement("li",{key:t,className:bg},n?i.createElement(Da.Tooltip,{content:i.createElement(v.Text,{tag:"span",string:n,testID:"review-histogram-tooltip-"+t}),size:"s",id:"histogram-tooltip-id",containerRef:p},i.createElement(dg,Ag({},o),i.createElement(Rg,Ag({},s)))):i.createElement(Rg,Ag({},s)))}))),i.createElement(Ng,Ag({},r)),i.createElement(Lg,{writeReviewText:r.writeReviewText,createReviewLink:n}))};const Wg="GylBlw",jg="_3w9mJI",Bg="_2W8dUp",Fg="_1JSxwM",Ug="_2voCuO",Hg="_1ZRB-9",Gg="zfFfQG",qg="_2zZQbA",zg="_2kTylK";var Zg,Yg=function(){return(Yg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Xg=function(e){var t=e.requestContext,n=e.onSuccess,r=e.reviewID,a=e.reviewItemStrings,o=e.titleID,s=e.buttonLabel,c=e.testID,l=e.interactionType,u=e.interactionValue,d=e.token,p=i.useContext(Y.h),f=p.pageType,m=p.subPageType,h=i.useState("idle"),g=h[0],v=h[1],_=a.inProgressLabel,y=a.successfulMessage,b=a.unsuccessfulMessage,E={parameters:t.queryParameters,originalURI:t.originalURI,isRetail:t.isRetail},w=Ee(E,o,(0,Or.i)("atv_dp_cr_sign_vote_dp")),D=ye(E,(0,Or.i)("atv_dp_cr_sign_vote"),w);i.useEffect((function(){v("idle")}),[r]);switch(g){case"inProgress":return i.createElement("p",{className:zg},_);case"successful":return i.createElement("div",{className:qg,"data-automation-id":"review-interaction-success"},i.createElement($n.Icon,{use:$n.IconType.ALERT_SUCCESS}),i.createElement("p",null,y));case"unsuccessful":return i.createElement("div",{className:qg,"data-automation-id":"review-interaction-failure"},i.createElement($n.Icon,{use:$n.IconType.ALERT_CRITICAL}),i.createElement("p",null,b));default:return i.createElement(ra(),{className:Gg,role:"button","aria-live":"polite","aria-label":s,testID:c,textAlign:"center",onClick:function(){window&&!t.isRecognizedCustomer&&window.location.assign(D),v("inProgress"),(0,Cr.XQ)((0,Or.i)("Helpful"===l?"atv_dp_cr_helpful":"atv_dp_cr_rep"),f,m),function(e,t,n,r,a,o){return bc(this,void 0,void 0,(function(){var i;return Ec(this,(function(s){switch(s.label){case 0:return i={context:e,titleID:t,reviewID:n,interactionType:r,value:a,token:o},[4,wc.PostReviewInteraction(i)];case 1:return[2,s.sent()]}}))}))}(t.rawContext,o,r,l,u,d).then((function(e){v(e.isSuccessful?"successful":"unsuccessful"),e.isSuccessful&&n&&n()})).catch((function(e){v("unsuccessful")}))}},s)}},Kg=function(e){var t=e.reviewItemStrings,n=e.reviewListIndex,r=e.reviewInteractionButtonProps,a=t.reportAbuseMessage,o=t.reportAbuseText,s=i.useContext(Y.h),c=s.pageType,l=s.subPageType;return i.createElement(Po,{size:"xs",modalHeader:i.createElement("p",{className:Bg},o),modalContent:function(e){return function(e){var t=Yg(Yg({},r),{onSuccess:function(){return setTimeout(e,2e3)}});return i.createElement("div",{className:Fg},i.createElement("p",{className:Ug},a),i.createElement(Xg,Yg({},t)))}(e.closeModal)},modalId:"report-abuse-modal",toggle:function(e){var t=e.openModalClickHandler;return i.createElement(Cr.Jd,{refTag:(0,Or.i)("atv_dp_cr_rep_open"),className:jg,pageType:c,subPageType:l},i.createElement(Er.Link,{id:"reportAbuseTrigger",className:Wg,ariaLabel:o,testID:"report-abuse-link-"+n,text:o,onClick:t}))}})},Jg=function(e){var t=e.reviewItemStrings,n=e.requestContext,r=e.reviewID,a=e.reviewListIndex,o=e.titleID,s=e.token,c=function(e,a,i,c,l){return{reviewItemStrings:t,requestContext:n,titleID:o,reviewID:r,buttonLabel:e,onSuccess:l,testID:a,interactionType:i,interactionValue:c,token:s}},l=c(t.helpfulButtonText,"helpful-button-"+a,"Helpful",1),u={reviewItemStrings:t,reviewListIndex:a,reviewInteractionButtonProps:c(t.confirmLabel,"confirm-report-abuse-"+a,"Inappropriate",1)};return i.createElement("div",{className:Hg},i.createElement(Xg,Yg({},l)),i.createElement(Kg,Yg({},u)))},Qg=function(){return(Qg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},$g=["byHelpfulVotesDescending","bySubmissionDateDescending"],ev={byHelpfulVotesDescending:"atv_dp_cr_srt_mh",bySubmissionDateDescending:"atv_dp_cr_srt_mr"},tv={byHelpfulVotesDescending:"DV_CR_sorting_top_reviews",bySubmissionDateDescending:"DV_CR_sorting_most_recent"},nv=function(e){var t=e.rating,n=e.reviewTitle,r=e.hoverText,a=e.reviewListIndex,o=e.containerRef;return i.createElement(ur.Spacer,{className:eg,alignItems:ur.spacerAlignItems.center,space:ur.spacerSpacing.xs},i.createElement(Da.Tooltip,{content:i.createElement(v.Text,{tag:"span",string:r,testID:"review-rating-tooltip-"+a}),size:"s",containerRef:o},i.createElement(xg.StarRating,{rating:t,className:tg})),i.createElement("strong",null,n))},rv=function(e){var t=e.submissionRecord,n=e.ariaLabel,r=e.reviewListIndex,a=t.customerProfile,o=t.submittedOnText,s={url:a.profileUrl,ariaLabel:n,automationId:"customer-profile-link-"+r,className:cg};return i.createElement(ur.Spacer,{className:eg,alignItems:ur.spacerAlignItems.center,space:ur.spacerSpacing.xs},i.createElement(dg,Qg({},s),i.createElement("img",{className:og,"aria-label":n,loading:"lazy",src:a.avatarUrl,alt:""}),i.createElement("span",{className:ig},a.customerName)),i.createElement("span",{className:sg},o))},av=function(e){var t=e.htmlContent,n=e.uniqueId;return i.createElement(zn.Expander,{numOfLines:4,uniqueId:n,className:ng},i.createElement("div",{dangerouslySetInnerHTML:{__html:t}}))},ov=function(e){var t=e.reviewListIndex,n=e.reviewModel,r=e.reviewItemStrings,a=e.pageTitleId,o=e.requestContext,s=e.isInternational,c=n.reviewContent,l=n.helpfulVotes,u=i.useRef(),d=n.submissionRecord.customerProfile.isCurrentCustomer,p={reviewItemStrings:r,reviewListIndex:t,requestContext:o,titleID:a,reviewID:n.reviewID,token:n.postReviewInteractionToken};return i.createElement("div",{key:t,className:$h,"data-automation-id":"review-item-"+t,ref:u},i.createElement(rv,{submissionRecord:n.submissionRecord,ariaLabel:r.profileAriaLabel,reviewListIndex:t}),i.createElement(nv,{rating:n.rating,reviewTitle:n.reviewTitle,hoverText:n.hoverText,reviewListIndex:t,containerRef:u}),n.isVerifiedPurchase&&i.createElement("span",{className:rg},r.verifiedPurchaseLabel),i.createElement(av,{htmlContent:c,uniqueId:"review-expander-"+t}),l.helpfulVotesText&&i.createElement("span",{className:ag},l.helpfulVotesText),!d&&!s&&i.createElement(Jg,Qg({},p)))},iv=function(e){var t=e.reviewIds,n=e.isInternational,r=e.reviewIdToReview,a=e.reviewItemStrings,o=e.pageTitleId,s=e.requestContext;return i.createElement(i.Fragment,null,t.map((function(e,t){var c=r[e];if(!c)return null;var l={reviewModel:c,reviewListIndex:t,reviewItemStrings:a,pageTitleId:o,requestContext:s,isInternational:n};return i.createElement(ov,Qg({},l,{key:t}))})))},sv=(0,oe.$j)((function(e){return{reviews:ze.mZ.reviews(e),requestContext:Ft(e),pageTitleId:e.pageTitleId}}))((function(e){var t=e.reviews,n=e.requestContext,r=e.pageTitleId,a=i.useContext(Y.h),o=a.getString,s=a.pageType,c=a.subPageType,l=i.useState(yi),u=l[0],d=l[1];if(!t)return null;var p=t.reviewIdToReview,f=t.reviewsOrdering,m=t.internationalReviewsOrdering,h=bi(u),g=f[h]||[],v={reviewsHeader:o("DV_CR_reviews_header"),writeReviewText:o(n.isRetail?"DV_CR_write_review_label":"DV_CR_write_review_label_other"),ratingsExplanationHeader:o("DV_CR_reviews_explanation_header"),ratingsExplanationText:o("DV_CR_reviews_explanation_text")},_={reviewsAnalysisModel:t.reviewsAnalysisModel,createReviewLink:t.createReviewLink,reviewsHistogramStrings:v},y=!(0,$.xb)(g)||u!==yi;if((0,$.xb)(m)&&!y){var b=t.reviewsAnalysisModel.reviewRatingInfo,E=t.reviewsAnalysisModel&&b?o("DV_CR_fallback_with_ratings",{ratingCount:""+b.totalReviewCount}):o("DV_CR_fallback_no_ratings");return i.createElement(qn.Container,{className:xe(Ie,qh),testID:fv},i.createElement(Mg,Qg({},_)),i.createElement("div",{id:fv,className:Zh},i.createElement("p",{className:Yh},E)))}var w=o(tv[u]),D=n.isRetail?o(function(){switch(n.rawContext.marketplaceID){case wd.HZ.UK:return"UK_DV_CR_sorting_header";case wd.HZ.DE:return"DE_DV_CR_sorting_header";case wd.HZ.JP:return"JP_DV_CR_sorting_header";default:return"US_DV_CR_sorting_header"}}(),{sortingType:w}):w,T={helpfulButtonText:o("DV_CR_helpful_button_label"),reportAbuseText:o("DV_CR_report_abuse_label"),reportAbuseMessage:o("DV_CR_report_abuse_message",{site:(0,wd.c3)(n.rawContext.marketplaceID)}),profileAriaLabel:o("DV_CR_profile_aria_label"),successfulMessage:o("DV_CR_thank_you_feedback"),unsuccessfulMessage:o("DV_CR_vote_unsuccessful"),confirmLabel:o("DV_CR_confirm_label"),inProgressLabel:o("DV_CR_sending_feedback"),verifiedPurchaseLabel:o("DV_CR_verified_purchase")},P=function(e){return function(){var t=bi(e);f[t]||function(e,t,n,r){void 0===r&&(r=0),bc(this,void 0,void 0,(function(){var a;return Ec(this,(function(o){switch(o.label){case 0:return[4,wc.GetReviews((i={context:e,titleID:t},s={pageNumber:r,sortBy:n,includeReviewsSummary:!1},ns(ns({},i),s)))];case 1:return a=o.sent(),Ii.dispatch({type:Oo.k.STORE_MERGE,payload:yc({},vc(a,n,t))}),[2]}var i,s}))}))}(n.rawContext,r,e),e!==u&&(0,Cr.XQ)((0,Or.i)(ev[e]),s,c),d(e)}},I=$g.map((function(e){var t,n=e===u,r=o(tv[e]),a="dropList-option-"+e;return{id:a,name:e,text:i.createElement("span",{className:xe((t={},t[Qh]=n,t))},r),isHighlighted:n,onClick:P(e),ariaLabel:r,testID:a}}));return i.createElement(qn.Container,{className:xe(Ie,qh),testID:fv},i.createElement(Mg,Qg({},_)),i.createElement("div",{id:fv,className:zh},y&&i.createElement(i.Fragment,null,i.createElement("div",{className:Jh},i.createElement("span",null,o("DV_CR_sorted_by")+":"),i.createElement(Lu,{links:I,customDropListID:"reviews-sorting-droplist",isCustomTrigger:!0,right:!1,customText:w})),i.createElement("p",{className:Xh},D),i.createElement(iv,{reviewIds:g,reviewIdToReview:p,requestContext:n,isInternational:!1,pageTitleId:r,reviewItemStrings:T}),!f[h]&&i.createElement(Za.Spinner,{className:ug}),i.createElement(Er.Link,{className:lg,href:t.allReviewsLink,testID:"see-all-reviews-link"},i.createElement(Q,{stringID:"DV_CR_see_all_reviews"}),i.createElement(fg(),null))),m&&i.createElement(i.Fragment,null,i.createElement("p",{className:Kh},i.createElement(Q,{stringID:"DV_CR_other_countries_header"})),i.createElement(iv,{reviewIds:m,reviewIdToReview:p,requestContext:n,isInternational:!0,pageTitleId:r,reviewItemStrings:T}))))})),cv=function(e){var t=e.tabId,n=e.isVisible,r=e.isLazy,a=e.children,o=i.useState(n||!r),s=o[0],c=o[1];return n&&!s&&c(!0),i.createElement("div",{className:Ar,id:"tab-content-"+t},s&&a)},lv=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e.EPISODES_TAB_ID="episodes",e.EXPLORE_TAB_ID="explore",e.RELATED_TAB_ID="related",e.DETAILS_TAB_ID="details"}(Zg||(Zg={}));var uv=[Zg.EPISODES_TAB_ID,Zg.EXPLORE_TAB_ID,Zg.RELATED_TAB_ID,Zg.DETAILS_TAB_ID],dv=function(e){function t(t){var n,r,a,o,s=e.call(this,t)||this;return s.tabEnabledMap=function(e){var t,n=e.showTabCollections,r=e.showCarousels,a=e.showOtherFormats,o=e.showCastAndCrew,i=e.showScoutBanner,s=e.showProductDetails,c=e.showExploreTab,l=e.showReviews;return(t={})[Zg.EPISODES_TAB_ID]=n,t[Zg.EXPLORE_TAB_ID]=c,t[Zg.RELATED_TAB_ID]=r||i||o,t[Zg.DETAILS_TAB_ID]=s||a||l,t}(s.props),s.queryTabId=(n=s.props.queryParameters,r=n.tab&&n.tab[0],Object.values(Zg).includes(r)&&r),s.defaultTabId=(a=s.tabEnabledMap,(o=s.queryTabId)&&a[o]?o:a[Zg.EXPLORE_TAB_ID]?Zg.EXPLORE_TAB_ID:uv.find((function(e){return a[e]}))||""),s.defaultTab="tab-content-"+s.defaultTabId,s.navRef=i.createRef(),s.state={selectedTab:s.defaultTab,navIsActive:!1,pvNavSticky:!1},s}return lv(t,e),t.prototype.componentDidMount=function(){var e=this,t=document.getElementById("pv-nav"),n=this.props.isPhablet?0:60;this.navHeight=t&&t.getBoundingClientRect()&&t.getBoundingClientRect().height||n,this.navIo=new IntersectionObserver((function(n){var r,a=n[0],o=Boolean(t)||!e.props.isPhablet&&((r=document.querySelector(".av-retail-m-nav-container"))&&void 0!==r&&void 0!==r.dataset&&"true"===r.dataset.stickinessready);e.setState({navIsActive:!a.isIntersecting,pvNavSticky:o})}),{rootMargin:"-"+this.navHeight+"px",threshold:1}),this.navIo&&this.navIo.observe&&this.navRef&&this.navRef.current&&this.navIo.observe(this.navRef.current),this.navRef&&this.navRef.current&&this.queryTabId&&this.tabEnabledMap[this.queryTabId]&&this.moveToSelected()},t.prototype.componentWillUnmount=function(){this.navIo&&this.navIo.unobserve&&this.navRef&&this.navRef.current&&this.navIo.unobserve(this.navRef.current)},t.prototype.moveToSelected=function(){var e=this.navRef.current.getBoundingClientRect().top-this.navHeight+5;window.scrollBy({top:Math.ceil(e),behavior:"smooth"})},t.prototype.setSelectedAndScroll=function(e){var t="tab-content-"+e;this.moveToSelected(),this.setState({selectedTab:t})},t.prototype.getTabs=function(){var e,t="hor";return[this.tabEnabledMap[Zg.EPISODES_TAB_ID]&&{header:i.createElement(Q,{stringID:"DV_DP_TAB_episodes"}),content:i.createElement(fm,null),refTag:(0,Or.i)("atv_dp_btf_tab_{tabType}_ep",{tabType:t}),automationId:"btf-episodes-tab",tabId:Zg.EPISODES_TAB_ID},this.tabEnabledMap[Zg.EXPLORE_TAB_ID]&&{header:i.createElement(Q,{stringID:"DV_DP_TAB_explore"}),content:i.createElement(Hh,null),refTag:(0,Or.i)("atv_dp_btf_tab_{tabType}_exp",{tabType:t}),automationId:"btf-explore-tab",tabId:Zg.EXPLORE_TAB_ID},this.tabEnabledMap[Zg.RELATED_TAB_ID]&&{header:i.createElement(Q,{stringID:"DV_DP_TAB_related"}),content:i.createElement("div",{className:xe((e={},e[Mr]=!this.props.isRetail,e))},i.createElement(vm,null),i.createElement(ah,null),i.createElement(Km,null)),refTag:(0,Or.i)("atv_dp_btf_tab_{tabType}_rel",{tabType:t}),automationId:"btf-related-tab",tabId:Zg.RELATED_TAB_ID},this.tabEnabledMap[Zg.DETAILS_TAB_ID]&&{header:i.createElement(Q,{stringID:"DV_DP_TAB_details"}),content:i.createElement(i.Fragment,null,i.createElement(jh,null),i.createElement(Em,null),this.props.showReviews&&i.createElement(sv,null)),refTag:(0,Or.i)("atv_dp_btf_tab_{tabType}_det",{tabType:t}),automationId:"btf-details-tab",tabId:Zg.DETAILS_TAB_ID}].filter(Boolean)},t.prototype.render=function(){var e,t=this,n=this.getTabs(),r=this.props.isLazyTab,a=this.state.selectedTab;if((0,$.xb)(n))return null;var o=n.map((function(e,n){var o="tab-content-"+e.tabId===a;return i.createElement(i.Fragment,{key:"btf-content-"+n},i.createElement("input",{id:"tab-selector-"+e.tabId,name:"btf-content-selector",className:Nr,type:"radio",checked:o,onClick:function(){return t.setSelectedAndScroll(e.tabId)}}),i.createElement(cv,{tabId:e.tabId,isVisible:o,isLazy:r},e.content))})),s=i.createElement("div",{className:xe(jr,(e={},e[Ur]=this.state.navIsActive&&this.navRef.current.getBoundingClientRect().top-this.navHeight<0,e[Br]=!this.state.pvNavSticky,e[Fr]=!1,e))},i.createElement(qn.Container,null,i.createElement("div",{className:Rr},n.map((function(e,n){var r;return i.createElement("h2",{key:"btf-nav-"+n,className:Lr},i.createElement(Zc,{refTag:e.refTag},i.createElement("label",{className:xe(Vr,(r={},r[Wr]=t.state.selectedTab==="tab-content-"+e.tabId,r)),htmlFor:"tab-selector-"+e.tabId,"data-automation-id":e.automationId},e.header)))})))));return i.createElement("div",null,i.createElement("div",{ref:this.navRef}),s,i.createElement("div",{className:xr},o))},t}(i.Component),pv=(0,oe.$j)((function(e){var t;return{showTabCollections:dm(e),showCarousels:hm(e),showOtherFormats:bm(e),showCastAndCrew:Nm(e),showScoutBanner:rh(e),showProductDetails:gh(e),showExploreTab:Fh(e),showReviews:Gh(e),isPhablet:Ke(e),isRetail:jt(e),isLazyTab:"true"===(null===(t=e.pageContext.features)||void 0===t?void 0:t.lazyBtfTab),queryParameters:Vt(e)}}))(dv),fv="customer-review-section",mv=function(e){var t=e.titleId;return i.createElement(Er.Link,{href:"/review/create-review/ref=acr_dpinstantvideo_solicit?ie=UTF8&asin="+t},i.createElement(Q,{stringID:"DV_DP_first_review"}))},hv=function(e){var t,n=e.wholeRating,r=e.hasHalfStar,a=[Pr,Ir,Sr,kr][n];return i.createElement($n.Icon,{use:$n.IconType.AMAZON_RATING,className:xe(Dr,a,(t={},t[Tr]=r,t))})},gv=function(e){var t=e.amazonRating,n=e.pageTitleId,r=e.isRetail,a=e.reviewsNotAllowed,o=void 0!==a&&a,s=e.isCerberusChild,c=e.isFirestormReviewsEnabled,l=i.useContext(Y.h),u=l.getString,d=l.pageType,p=l.subPageType;if(!r&&!c)return null;var f=t&&t.value,m=t&&t.count,h=t&&t.countFormatted;if(!m||!f)return o||(0,$.JQ)(s)||c?null:i.createElement(mv,{titleId:n});var g,v=u("DV_DP_ARIA_amazon_rating",{ratingValue:wr(f,10).toString(),customerCount:m.toString()}),_=wr(f,2),y=Boolean(2*_%2),b=Math.ceil(_)-1,E="customer-review-badge",w=function(e){e.preventDefault(),(0,Cr.XQ)((0,Or.i)("atv_dp_cr_atf_rl"),d,p);var t=document&&document.getElementById("tab-selector-"+Zg.DETAILS_TAB_ID);t&&t.click()};return g=i.createElement(i.Fragment,null,i.createElement(hv,{hasHalfStar:y,wholeRating:b}),i.createElement("span",null," (",h,")")),(0,$.JQ)(s)?i.createElement("span",{"aria-label":v,"data-automation-id":E,role:"img"},g):i.createElement("a",{href:"#"+fv,onClick:w,"aria-label":v,"data-automation-id":E},g)};const vv="FDDgZI";var _v=function(e){var t=e.imdb,n=i.useContext(Y.h).getString;return t&&t.score&&i.createElement("span",{className:vv},i.createElement(Zm(),null),i.createElement("span",{role:"text","data-automation-id":"imdb-rating-badge","aria-label":n("DV_DP_ARIA_imdb_rating",{ratingValue:wr(t.score,10).toString()})},t.scoreFormatted))||null};const yv="_3y6hZ6";var bv=function(e){var t=e.subtitles,n=e.isClosedCaption,r=i.useContext(Y.h).getString;return Boolean(t&&t.length||(0,$.JQ)(n))&&i.createElement("span",{"data-automation-id":"subtitles-badge","aria-label":r("DV_WEB_SETTINGS_HEAD_SUBTITLES"),role:"text"},i.createElement($n.Icon,{className:yv,use:$n.IconType.SUBTITLES}))||null},Ev=function(e){var t=e.releaseYear,n=i.useContext(Y.h).getString;return t&&i.createElement(er.Badge,{use:er.badges.TEXT},i.createElement("span",{role:"text","aria-label":n("DV_DP_ARIA_release_year",{releaseYear:String(t)}),"data-automation-id":"release-year-badge"},t))||null},wv=function(e){var t=e.location,n=i.useContext(Y.h).getString;return t&&i.createElement(er.Badge,{use:er.badges.TEXT},i.createElement("span",{"data-automation-id":"location-badge","aria-label":n("DV_DP_ARIA_located",{location:t}),role:"text"},t))||null},Dv=function(e){var t=e.isXRay;return(0,$.JQ)(t)&&i.createElement(er.Badge,{use:er.badges.BORDERED_TEXT},i.createElement("span",{"data-automation-id":"x-ray-badge"},"X-Ray"))||null},Tv=function(e){var t=e.dateTimeBadge,n=i.useContext(Y.h).getString;return t&&i.createElement(er.Badge,{use:er.badges.TEXT},i.createElement("span",{"data-automation-id":"date-time-badge","aria-label":n("DV_DP_ARIA_scheduled",{dateTime:t}),role:"text"},t))||null},Pv=function(e){var t=e.isHdr;return(0,$.JQ)(t)&&i.createElement(er.Badge,{use:er.badges.BORDERED_TEXT},i.createElement("span",{"data-automation-id":"hdr-badge"},"HDR"))||null},Iv=function(e){var t=e.isUhd;return(0,$.JQ)(t)&&i.createElement(er.Badge,{use:er.badges.BORDERED_TEXT},i.createElement("span",{"data-automation-id":"uhd-badge"},"UHD"))||null};const Sv="Ps5WvF";var kv=function(e){var t=e.isAd,n=i.useContext(Y.h).getString;return(0,$.JQ)(t)&&i.createElement("span",{"data-automation-id":"ad-badge",className:Sv,title:n("DV_DP_ARIA_audio_description"),"aria-label":n("DV_DP_ARIA_audio_description"),role:"text"},i.createElement($n.Icon,{use:$n.IconType.AUDIO_DESCRIPTION}))||null},Cv=(0,qe.P)([jt,ze.bS.pageTitleId,Ze,On,at,ze.mZ.headerDetail],(function(e,t,n,r,a,o){return o&&t&&{amazonRating:o.amazonRating,isRetail:e,pageTitleId:t,isCerberusChild:n,reviewsNotAllowed:r,isFirestormReviewsEnabled:a}||void 0})),Ov=(0,qe.P)(ze.mZ.headerDetail,(function(e){return e&&{subtitles:e.subtitles,isClosedCaption:e.isClosedCaption}||void 0})),xv=(0,qe.P)(ze.mZ.headerDetail,(function(e){return e&&e.releaseYear&&{releaseYear:e.releaseYear}||void 0})),Av=(0,qe.P)(ze.mZ.headerDetail,(function(e){return e&&e.runtime&&{runtime:e.runtime}||void 0})),Nv=(0,qe.P)(ze.mZ.headerDetail,(function(e){return e&&e.ratingBadge&&{ratingBadge:e.ratingBadge}||void 0})),Rv=(0,qe.P)([ze.mZ.headerDetail],(function(e){return e&&e.pageDateTimeBadge&&{dateTimeBadge:e.pageDateTimeBadge}||void 0})),Lv=(0,qe.P)(ze.mZ.imdb,(function(e){return e&&{imdb:e}||void 0})),Vv=(0,qe.P)(ze.mZ.headerDetail,(function(e){return e&&e.location&&{location:e.location}||void 0})),Mv=(0,qe.P)(ze.mZ.headerDetail,(function(e){return e&&e.isXRay&&{isXRay:e.isXRay}||void 0})),Wv=(0,qe.P)(ze.mZ.headerDetail,(function(e){return e&&e.isHdr&&{isHdr:e.isHdr}||void 0})),jv=(0,qe.P)(ze.mZ.headerDetail,(function(e){return e&&e.isUhd&&{isUhd:e.isUhd}||void 0})),Bv=(0,qe.P)(ze.mZ.headerDetail,(function(e){return e&&e.isAd&&{isAd:e.isAd}||void 0})),Fv=function(){return(Fv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Uv=(0,oe.$j)((function(e){return{amazonRating:Cv(e),imdb:Lv(e),ratingBadge:Nv(e),dateTimeBadge:Rv(e),releaseYear:xv(e),runtime:Av(e),subtitles:Ov(e),location:Vv(e),xRay:Mv(e),hdr:Wv(e),uhd:jv(e),ad:Bv(e)}}))((function(e){var t,n=e.amazonRating,r=e.imdb,a=e.ratingBadge,o=e.dateTimeBadge,s=e.releaseYear,c=e.runtime,l=e.subtitles,u=e.location,d=e.xRay,p=e.hdr,f=e.uhd,m=e.ad,h=i.useContext(Y.h).getString;return i.createElement(ur.Spacer,{className:"dv-node-dp-badges "+dr+" "+ke,space:ur.spacerSpacing.s,alignItems:ur.spacerAlignItems.center},n&&i.createElement(gv,Fv({},n)),i.createElement(Tv,Fv({},o)),i.createElement(wv,Fv({},u)),i.createElement(_v,Fv({},r)),i.createElement(pr,Fv({},c,{ariaLabel:(null==c?void 0:c.runtime)&&h("DV_DP_ARIA_runtime",{runtime:c.runtime})})),i.createElement(Ev,Fv({},s)),i.createElement(Dv,Fv({},d)),i.createElement(Pv,Fv({},p)),i.createElement(Iv,Fv({},f)),i.createElement(kv,Fv({},m)),i.createElement(br,Fv({},a,{notRatedString:h("DV_TW_amr_nr_text"),suitableForAriaLabel:(null===(t=null==a?void 0:a.ratingBadge)||void 0===t?void 0:t.displayText)&&h("DV_DP_ARIA_suitable_for",{ageGroup:a.ratingBadge.displayText})})),i.createElement(bv,Fv({},l)))}));const Hv="_2RTMpg";var Gv=function(e){var t=e.messages;return t&&t.length?i.createElement(i.Fragment,null,t.map((function(e,t){return i.createElement(nu,{key:"text-block-conf-text-"+t,Tag:Ku.TextBlock,className:Hv,message:e})}))):null};const qv="_1K5BOV",zv="_2IVIC9",Zv="_2_k77h";var Yv=function(e){var t=e.playbackData,n=e.isMShop,r=e.isPVWinApp,a=void 0!==r&&r;if(!t)return null;var o={contentConfig:{asin:t.playbackID,trailer:!0,position:0,ref:Kt,videoType:t.videoMaterialType,useFullView:!0},playbackUrl:t.playbackURL,fallbackUrl:t.fallbackURL,signInUrl:t.signInURL,sequenceNumber:0,isBonus:!0};return i.createElement(Ka.ET.Consumer,null,(function(e){var r=e.onPlay;return i.createElement("div",{className:a?Te:zv},i.createElement(Zc,{refTag:Kt,className:"dv-dp-node-trailer"},i.createElement(Ra,{onClick:function(e){r(o),e.preventDefault()},forceDoubleHeight:a,href:n?void 0:t.playbackURL,tooltipText:t&&t.text.replace("{conditionalLineBreak}",""),"aria-label":t&&t.text.replace("{conditionalLineBreak}",""),isPVWinApp:a},a&&i.createElement(v.Text,{tag:"span",string:t.text}))),!a&&i.createElement(v.Text,{tag:"span",string:t.text,className:Zv}))}))},Xv=function(e,t){return function(e,t){return Oc({input:e,operation:Ds.WatchlistToggle},Sc,t)}(e,(function(n){return n?{type:So.k.WatchlistToggle,input:e,output:fc(t,n),payload:{pageTitleId:t}}:{type:So.k.WatchlistToggleFailed,input:e,payload:{pageTitleId:t}}}))},Kv=function(){return(Kv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Jv=(0,qe.P)([ze.bS.pageTitleId,Bt,ze.mZ.watchlist],(function(e,t,n){if(n){var r=n.endpoint.query,a="season"===r.titleType,o=function(e,t){var n=function(e,t){return"atv_dp_wtls_"+("Remove"===e?"rmv":"add")+"_"+(t?"seas":"mov")}(e.tag,t);return(e.endpoint.partialURL||"").replace("atv_unknown",n)}(n,a),i={tag:r.tag,titleID:r.titleID,token:r.token,titleType:r.titleType},s=r.titleID||e;return{partialURL:o,query:Kv({returnUrl:t(be(s),{refTag:"atv_wl_tog_sign_in"})},i),isSeason:a,tag:n.tag,text:n.text,ajaxEnabled:n.ajaxEnabled,failed:Boolean(n.failed)}}})),Qv=(0,qe.P)([En,Xe],(function(e,t){return e&&t}));const $v="_2umowe",e_="nPT-xD",t_="_1gVrns",n_="_2adLl2";var r_=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timer=null,t.state={showSpinner:!1},t}return r_(t,e),t.prototype.componentDidMount=function(){this.ensureTimer(this.props)},t.prototype.componentWillUnmount=function(){this.destroyTimer()},t.prototype.componentDidUpdate=function(e){e.isLoading!==this.props.isLoading&&this.ensureTimer(this.props)},t.prototype.ensureTimer=function(e){var t=this,n=e.isLoading,r=e.delay,a=void 0===r?350:r;n?this.timer||(this.timer=setTimeout((function(){t.timer=null,t.setState({showSpinner:!0})}),a)):this.destroyTimer()},t.prototype.destroyTimer=function(){clearTimeout(this.timer),this.timer=null,this.setState({showSpinner:!1})},t.prototype.render=function(){var e,t=this.props,n=t.spinner,r=void 0===n?i.createElement(o_,null):n,a=t.children;return i.createElement(i.Fragment,null,this.state.showSpinner&&r,a&&i.createElement("span",{className:xe(t_,(e={},e[n_]=this.state.showSpinner,e))},a))},t}(i.Component),o_=function(){return i.createElement("div",{className:$v},i.createElement("div",{className:e_},i.createElement(Za.Spinner,{fillHeight:!0})))};const i_="_2jlJER",s_="_2iUe7O",c_="y1nGLG",l_="_2rjFFc",u_="_2GxJOn",d_="_2WWNPa";var p_=n("./node_modules/@amzn/dvui/dist/Icons/Add.js"),f_=n.n(p_),m_=n("./node_modules/@amzn/dvui/dist/Icons/WatchlistOn.js"),h_=n.n(m_),g_=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={disabled:!1,isLoading:!1},t.clickHandler=function(e){Eo(e),t.setState({disabled:!0,isLoading:!0}),Xv(t.props.watchlist.query,t.props.pageTitleId),e.preventDefault()},t}return g_(t,e),t.prototype.componentDidUpdate=function(e){e!==this.props&&this.setState({disabled:!1,isLoading:!1})},t.prototype.render=function(){var e=this,t=this.props,n=t.watchlist,r=t.useWatchlistIcon,a=t.isPVWinApp,o=void 0!==a&&a;if(!n)return null;var s=n.partialURL,c=n.query,l=n.tag,u=n.ajaxEnabled,d=n.isSeason,p=n.failed,f="Remove"===l,m=f?d?"DV_DP_WL_removeTv":"DV_DP_WL_removeMovie":d?"DV_DP_WL_addTv":"DV_DP_WL_addMovie",h=f?$n.IconType.WATCHLIST_ON:$n.IconType.ADD,g={returnUrl:c.returnUrl,tag:l,titleID:c.titleID,token:c.token,titleType:c.titleType};return i.createElement("span",{className:xe(o?Te:s_,"dv-dp-node-watchlist",ke)},i.createElement($d,{action:s,method:"POST",hiddenInputs:g},o?i.createElement(na.Button,{disabled:this.state.disabled,className:i_,onClick:u?this.clickHandler:void 0,forceDoubleHeight:!0,"data-ux-click":!0,type:"submit","data-added":f,testID:"watchlist-button",useIcon:r&&h},i.createElement(a_,{isLoading:this.state.isLoading},i.createElement(Q,{stringID:m}))):i.createElement(Da.Tooltip,{position:"top",size:"s",content:i.createElement(Q,{stringID:f?"DV_DP_WL_removeMovie":"DV_DP_WL_addMovie",replace:{conditionalLineBreak:""}}),className:d_,id:"dv-dp-node-watchlist-tooltip"},i.createElement(na.Button,{disabled:this.state.disabled,className:c_,onClick:u?this.clickHandler:void 0,"data-ux-click":!0,type:"submit","data-added":f,"aria-label":this.context.getString(f?"DV_DP_WL_removeMovie":"DV_DP_WL_addMovie").replace("{conditionalLineBreak}",""),testID:"watchlist-button"},i.createElement("span",{className:l_},i.createElement(a_,{isLoading:this.state.isLoading},f?i.createElement(h_(),null):i.createElement(f_(),null)))))),i.createElement(Po,{modalId:"dvui-close-overlay-watchlist-failed",isOpen:p,modalHeader:i.createElement(Q,{stringID:m}),modalContent:i.createElement(Q,{stringID:"AVOD_WL_error_msg"}),modalFooter:function(e){var t=e.closeModal;return i.createElement(na.Button,{className:De,onClick:function(){return t()}},i.createElement(Q,{stringID:"AVOD_DP_E_error_ok"}))},onClose:function(){return t=e.props.pageTitleId,void Ii.dispatch({type:So.k.ClearWatchlistToggleFailure,payload:{pageTitleId:t}});var t}}),!o&&i.createElement("span",{className:u_},i.createElement(Q,{stringID:f?"DV_DP_WL_removeMovie":"DV_DP_WL_addMovie"})))},t.contextType=Y.h,t}(i.Component),__=(0,oe.$j)((function(e){return{watchlist:Jv(e),pageTitleId:e.pageTitleId,useWatchlistIcon:Qv(e)}}))(v_);const y_="_1kma0t";var b_=function(e){var t=e.message,n=e.returnLink,r=e.isPVWinApp;return t&&n?void 0!==r&&r?i.createElement("div",{className:Te+" dv-dp-node-dma","data-automation-id":"dma-button"},i.createElement(na.PrimaryButton,{href:n,forceDoubleHeight:!0},i.createElement(v.Text,{tag:"span",string:t}))):i.createElement("div",{className:xe(Te,"dv-dp-node-dma",y_),"data-automation-id":"dma-button"},i.createElement(Er.Link,{href:n,ariaLabel:t,text:t})):null};const E_="_19ueOW",w_="_1ndhb4";var D_=function(e){var t=e.messages;return t&&t.length?i.createElement("div",{className:E_},t.map((function(e,t){return i.createElement("div",{key:"secondary-offer-"+t,className:w_},i.createElement(v.Text,{string:e}))}))):null},T_=qr((function(e){var t=e.shouldShowMoreWaysToWatch,n=e.moreWaysToWatch,r=e.titleId,a=e.toggleGiftCardModal,o=n&&n.metadata&&n.metadata.refMarker||(0,Or.i)("atv_dp_mpo");return t&&r?i.createElement("div",{className:Pe+" "+Te},i.createElement(Po,{size:"m",modalId:"dvui-close-overlay-atf-mwtw",modalContent:function(e){var t=e.closeModal;return i.createElement(bu,{closeModal:t,moreWaysToWatch:n,toggleGiftCardModal:a})},toggle:function(e){var t=e.openModalClickHandler;return i.createElement(Zc,{refTag:o},i.createElement(na.Button,{"data-ux-click":!0,onClick:t,name:"more-purchase-options",className:we},i.createElement(Q,{stringID:"DV_MWTW_TITLE_MAIN"})))}})):null})),P_=qr((function(e){var t=e.playbackData,n=e.duration,r=e.isStartOver,a=e.downloads,o=e.isOfferClarityEnabled,s=e.isMShop;if(!t.playbackActionData)return null;var c=t.playbackActionData,l=c.playbackID,u=t.self&&t.self.sequenceNumber,d={contentConfig:{asin:l,trailer:!1,position:c.resumeTime,ref:c.refMarker,videoType:c.videoMaterialType,useFullView:!0,playbackEnvelope:(0,Yt.D)(c)},signInUrl:c.signInURL,playbackUrl:c.playbackURL,fallbackUrl:c.fallbackURL,sequenceNumber:u,isBonus:(0,yt.Kw)(t.self&&t.self.titleType,u),subscriptionName:c.subscriptionName,triggerLocation:"ATF"},p=o&&"IMDb TV"===c.subscriptionName;return i.createElement(Ka.ET.Consumer,null,(function(e){var t=e.onPlay,o=Math.max((0,La.fZ)(a,l,n),(0,La._y)(c.progress));return i.createElement(i.Fragment,null,i.createElement("div",{className:Te+" "+qv+" dv-dp-node-playback"},i.createElement(Na,{href:s?void 0:c.playbackURL,onClick:function(e){t(d),e.preventDefault()},progress:o,forceDoubleHeight:!0,isStartOver:r,useFreeButton:p},i.createElement(v.Text,{tag:"span",string:c.label}))))}))})),I_=(0,Ja.cG)(P_),S_=function(){return(S_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},k_=qr((function(e){var t=e.playbackDataList,n=e.isRetail,r=e.playerConfigData,a=e.duration,o=e.isOfferClarityEnabled,s=e.isMShop;return t.length?i.createElement(i.Fragment,null,t.map((function(e,t){var c={duration:a,playbackData:e,playerConfigData:r,isRetail:n,isStartOver:1===t,isOfferClarityEnabled:o,isMShop:s};return i.createElement(I_,S_({key:"action-box-playback-"+t},c))}))):null})),C_=(0,oe.$j)((function(e){return{purchase:e.purchase}}))((function(e){var t=e.purchase,n=Boolean(t&&t.failed);return i.createElement(Po,{modalId:"dvui-close-overlay-purchase-failed",isOpen:n,modalContent:i.createElement(Q,{stringID:"AVOD_DP_E_error_text"}),modalFooter:function(e){var t=e.closeModal;return i.createElement(na.Button,{className:De,onClick:function(){window.location.reload(!0),t()}},i.createElement(Q,{stringID:"AVOD_DP_E_error_ok"}))}})})),O_=function(){return(O_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var x_=(0,Hr.n)((0,oe.$j)((function(e){return{pageTitleId:e.pageTitleId,playbackMessaging:yn(e),notificationBox:pn(e),playbackActions:wn(e),downloadAction:bn(e),trailerAction:Dn(e),purchaseAction:Tn(e),disneyAction:Pn(e),moreWaysToWatch:Sn(e),secondaryOfferMessage:Cn(e),purchaseDetails:zi(e),isRefunding:Boolean(e.refund.refunding),isMShop:Je(e),requestContext:Ft(e),downloadLaunchType:e.pageContext.downloadLaunchType,isMovie:wt(e),duration:xn(e),accessChangeMessages:fn(e),tapsExperimentToken:ze.bS.atfTapsExperimentToken(e),watchPartyAction:(0,qt.MZ)(e),showCancellationWinback:e.winback.showCancellationWinback,viewRefMarker:(0,qt.SX)(e),isComingSoon:ze.mZ.comingSoon(e),metaData:Vn(e)}}))((function(e){var t,n,r=(0,i.useContext)(Y.h),a=r.pageType,o=r.subPageType,s=e.logger,c=e.accessChangeMessages,l=e.viewRefMarker,u=e.playbackMessaging,d=e.notificationBox,p=e.playbackActions,f=e.downloadAction,m=e.trailerAction,h=e.purchaseAction,g=e.disneyAction,_=e.moreWaysToWatch,y=e.secondaryOfferMessage,b=e.purchaseDetails,E=e.pageTitleId,w=e.duration,D=e.isRefunding,T=e.requestContext,P=e.downloadLaunchType,I=e.isMovie,S=e.tapsExperimentToken,k=e.watchPartyAction,C=e.showCancellationWinback,O=e.isMShop,x=e.isComingSoon,A=e.metaData,N=(0,i.useState)(!1),R=N[0],L=N[1];(0,i.useEffect)((function(){c.length>0&&s.count("DVWebNode::Detail::AtfLeavingSoonMessages",1,!0),l&&(0,Cr.XQ)(l,a,o)}),[]);var V=function(){return L(!R)},M=Boolean(b),W=M&&b.details&&b.details.offer.purchaseData.text||"",j=M||D,B="NONE"===P||"EMBEDDED"===P?void 0:function(e){e.preventDefault(),qc.b[P]({url:f.downloadURL,fallbackUrl:f.fallbackURL})},F="PVWinApp"===T.appName,U=void 0!==k,H=O_(O_({},f),{status:Gp.IDLE,forceDoubleHeight:!0,onClick:B,downloadURL:O?void 0:f&&f.downloadURL,label:f&&f.label?U||!F?f.label.replace("{lineBreak}"," "):f.label.replace("{lineBreak}","{conditionalLineBreak} "):void 0}),G=(O_(O_({},f),{isMovie:I,playbackTracks:null==A?void 0:A.playbackTracks,title:null==A?void 0:A.title}),S&&S.pvCinemaToken),q={messagesWithLogo:[{text:G&&G.message,logo:G&&G.logoUrl}]};return i.createElement(i.Fragment,null,i.createElement("div",{className:qa.actionBox},i.createElement("div",{className:xe((t={},t[qa.isProcessingTransaction]=j,t),qa.wrapper)},i.createElement(Wd,{className:"dv-node-dp-action-box"},i.createElement(hu,O_({},G?q:u,{tapsExperimentToken:S,showCancellationWinback:C})),i.createElement(Fu,{titleId:E}),i.createElement(ur.Spacer,{alignItems:F?ur.spacerAlignItems.top:ur.spacerAlignItems.center},i.createElement(Gv,O_({},d)),i.createElement(ur.Spacer,{alignItems:F?ur.spacerAlignItems.top:ur.spacerAlignItems.center,className:Te+" "+ke},i.createElement(ur.Spacer,{alignItems:ur.spacerAlignItems.center,className:xe(Te,(n={},n[qa.primaryActions]=!F,n))},p&&i.createElement(k_,O_({},p,{duration:w,isMShop:O})),(F||x&&!p)&&m&&i.createElement(Yv,O_({},m,{isMShop:O,isPVWinApp:!0})),i.createElement(Vd,O_({},h,{tvodButtonScope:Gc.ACTION_BOX,forceDoubleHeight:!0,tapsExperimentToken:S})),_&&i.createElement(T_,O_({},_,{toggleGiftCardModal:V}))),F?i.createElement(i.Fragment,null,i.createElement(__,{isPVWinApp:!0}),i.createElement(b_,O_({},g,{isPVWinApp:!0})),!U&&f&&i.createElement(sf,O_({},H))):i.createElement("span",{className:xe(Te,ke,qa.secondaryActions)},(!x||p)&&m&&i.createElement(Yv,O_({},m,{isMShop:O})),i.createElement(__,null),f&&i.createElement("span",{className:xe(qa.simplifiedBuyBoxDownload,"dv-dp-node-download")},i.createElement(sf,O_({},H,{forceDoubleHeight:!1})),i.createElement("span",{className:qa.buttonLabel},i.createElement(v.Text,{tag:"span",string:H.label}))),i.createElement(ip,{watchPartyAction:k,buttonOrLinkProps:{isButton:!0},withFTUETooltip:!0})))),F&&U&&i.createElement(ur.Spacer,{alignItems:ur.spacerAlignItems.top,className:xe(Te,qa.singleLineButtons)},f&&i.createElement(sf,O_({},H,{forceDoubleHeight:!1})),i.createElement(ip,{watchPartyAction:k,buttonOrLinkProps:{isButton:!0},withFTUETooltip:!0,isPVWinApp:!0})),G&&i.createElement(hu,O_({},u)),i.createElement("div",{className:ur.spacerSpacing.s},i.createElement(Zl,{placement:"ActionBox",toggleGiftCardModal:V}),i.createElement(D_,O_({},y))))),j&&i.createElement(Xa,{text:W}),i.createElement(C_,null),i.createElement(Fl,{isOpen:R,onClose:V,requestContext:T.rawContext})),!F&&i.createElement(b_,O_({},g)))})));const A_="_3CyLqv",N_="fVWsBr",R_="_3hF9WT",L_="_2ZnCkI",V_="_3Lykuc",M_="_33xhZL",W_="Coi_ha",j_="_3Mynff",B_="-TbE6N",F_="_3MF8IH",U_="mqdy4z",H_="_2AWcdS",G_="_2R7MIq",q_="_1y08HI";var z_=n("./src/widgets/DVWebNodeDetail/components/heroVideo/draperStatus.ts"),Z_=function(e){var t,n=e.playbackData,r=e.isPackshot,a=e.draperStatus,o=e.isMShop,s=n.playbackActionData;if(!s)return null;var c=xe(H_,((t={})[q_]=r,t[G_]=[z_.e.BeforePlaying,z_.e.Playing].includes(a),t)),l=(0,g.VJ)(s.label,{lineBreak:", "}),u=n.self&&n.self.sequenceNumber,d={contentConfig:{asin:s.playbackID,trailer:!1,position:s.resumeTime,ref:s.refMarker,videoType:s.videoMaterialType,useFullView:!0,playbackEnvelope:(0,Yt.D)(s)},signInUrl:s.signInURL,playbackUrl:s.playbackURL,fallbackUrl:s.fallbackURL,sequenceNumber:u,isBonus:(0,yt.Kw)(n.self&&n.self.titleType,u),subscriptionName:s.subscriptionName,triggerLocation:"ATFCircle"};return i.createElement(Zc,{refTag:"atv_dp_pb_circle"},i.createElement(Ka.ET.Consumer,null,(function(e){var t=e.onPlay;return i.createElement(Ca,{className:c,href:o?void 0:s.playbackURL,isSeeThrough:!0,isPackshotButton:r,ariaLabel:l,onClick:function(e){t(d),e.preventDefault()}})})))},Y_=function(){return(Y_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},X_=(0,oe.$j)((function(e){return{pageTitleId:ze.bS.pageTitleId(e),isRetail:jt(e),isMShop:Je(e),images:bt(e),heroshotShouldBeShown:Mn(e),playbackData:(0,qt.BB)(e),isStarlightEnhanced:(0,Ut.k7)(e)}}))((function(e){var t,n=e.images,r=e.heroshotShouldBeShown,a=e.playbackData,o=e.isRetail,s=e.isMShop,c=e.isStarlightEnhanced,l=e.draperStatus,u=i.useContext(Y.h).isRTL;if(!n)return null;if(!r){var d=n.packshot;if(!d)return null;var p={backgroundImage:"url("+new Ne.e(d).scaleWidth(300).setBlur(80).getImageUrl()+")"};return i.createElement("div",{className:xe(N_,A_),"data-automation-id":"hero-background",style:p},i.createElement("div",{className:V_}),i.createElement("div",{className:M_}))}var f={alt:"",src:n.heroshot,baseValue:1080,srcSizes:[{"max-phablet":360},{"max-tablet":720},{"min-tablet":1080}],blurUp:!0,isAtfMainImage:!0},m={alt:"",src:n.fullBackground16x9,baseValue:1700,srcSizes:[{"max-phablet":500},{"max-tablet":900},{"min-tablet":1100},{"min-tablet-landscape":1700}],blurUp:!0,isAtfMainImage:!0},h=Boolean(c&&n.fullBackground16x9&&!u),g=o&&!h;return i.createElement(i.Fragment,null,i.createElement("div",{className:xe(h?F_:N_,W_,"av-hero-background",(t={},t[j_]=[z_.e.BeforePlaying,z_.e.Playing].includes(l),t)),"data-automation-id":"hero-background"},i.createElement("div",{className:h?U_:R_},i.createElement(mt,Y_({className:L_,classNameContainer:L_},h?m:f)),i.createElement("div",{className:h?B_:V_}),i.createElement("div",{className:M_})),g&&i.createElement("div",{className:"playback-large-circle-wrapper"},i.createElement("div",{id:"dv-play-box-circle"},a&&i.createElement(Z_,{playbackData:a,draperStatus:l,isMShop:s})))))}));const K_="_3nvsfu",J_="_1nIHVe",Q_="_3fEJTC",$_="_1472H-",ey="_1WCtm8",ty="_2hu-aV",ny="Gzzp8d";var ry=function(){return(ry=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ay=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},oy=[hh.Directors,hh.Starring,hh.Genres,hh.Subtitles,hh.AudioTracks],iy=[hh.Starring,hh.Genres,hh.Subtitles,hh.AudioTracks],sy=Xr((function(e){var t=ay([],e.isTV?iy:oy),n=!1;return(0,$.Zi)(e.moodMetadataTreatment,"T1")?t.splice(t.length-2,0,hh.Moods):(0,$.Zi)(e.moodMetadataTreatment,"T2")&&(n=!0),i.createElement("div",{className:sh+" dv-dp-node-meta-info "+we},i.createElement(Lh,ry({},e,{fields:t,showMoodsHeader:n,expandedItemsCount:40,id:"meta-info"})))}));const cy="_3g6euW",ly="_3NQ02f";var uy=function(e){var t=e.showLiveError;return i.createElement(py,{stringID:t?"DV_DP_unavailable_live_page_message":"DV_DP_unavailable_page_message"})},dy=function(){return i.createElement(py,{stringID:"DV_DP_only_playback_available_in_gen4_message"})},py=function(e){var t=e.stringID;return i.createElement("div",{className:ly},i.createElement("p",{className:xe(cy,we)},i.createElement(Q,{stringID:t})))};const fy="_3FGYxA";var my=function(e){var t=e.text;return e.isLive&&t?i.createElement("div",{className:fy+" "+we+" "+ke},i.createElement(er.Badge,{use:er.badges.LIVE}," ",t," ")):null};const hy="_1MtDO7",gy="_1bxwoL";var vy=function(e){var t=e.imagePath,n=e.imageLink,r=e.imageAlt;return t&&n?i.createElement("div",{className:hy,"data-automation-id":"top-banner-promo"},i.createElement("div",{className:gy},i.createElement("a",{href:n.href,"aria-label":n.ariaLabel},i.createElement("img",{src:t,alt:r})))):null},_y=(0,qe.P)(ze.mZ.creative,(function(e){return e&&by(e.atfTop)&&e.atfTop.image&&{imagePath:e.atfTop.image.path,imageLink:e.atfTop.image.link,imageAlt:e.atfTop.image.alt}||void 0})),yy=(0,qe.P)(ze.mZ.creative,(function(e){return e&&Ey(e.atfBottom)&&{title:e.atfBottom.title,content:e.atfBottom.content,image:e.atfBottom.image}||void 0})),by=function(e){return(0,fr.P)(e,"atv.wps#BannerPromoModel")},Ey=function(e){return(0,fr.P)(e,"atv.wps#HeroQuickPromoModel")},wy=n("./node_modules/@amzn/dvui/dist/Panel.js");const Dy="_1CDdiS",Ty="_1Ag_ZD",Py="_4wfq7P";var Iy=function(){return(Iy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Sy=function(e){var t=e.title,n=e.content,r=e.image;return t||n?i.createElement("article",{"data-automation-id":"hero-quick-promo",className:Dy},i.createElement(wy.Panel,{className:Ty},r&&i.createElement(ky,Iy({},r)),i.createElement("div",null,i.createElement("header",null,i.createElement(v.Text,{string:t,tag:"small"})),i.createElement("p",null,i.createElement(v.Text,{string:n,tag:"small"}))))):null},ky=function(e){var t=e.path,n=e.alt,r=e.link;return t?r?i.createElement("a",{href:r.href,"aria-label":r.ariaLabel},i.createElement(Cy,Iy({},{path:t,alt:n}))):i.createElement(Cy,Iy({},{path:t,alt:n})):null},Cy=function(e){var t=e.path,n=e.alt;return i.createElement("div",{className:Py},i.createElement("img",{src:t,alt:n}))};const Oy="_2oa39y";var xy=function(){return(xy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ay=function(e){var t={header:e.header,collectionType:e.collectionType,cardTitleIds:e.titleIds,totalEpisodeSize:e.totalCardSize,refTagPrefix:"atv_dp_bundle_",index:0};return t.cardTitleIds&&t.cardTitleIds.length>0?i.createElement("div",{className:Oy,"data-automation-id":"bundle-carousel"},i.createElement(om,xy({},t))):null},Ny=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},Ry=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ly=function(e){var t=e.title,n=e.context,r=e.csrfToken,a=e.body;return i.createElement(us.MessageBlock,{heading:t.string,type:us.MessageTypes.warning,dismissable:!0,onDismiss:function(){!function(e,t){Ny(void 0,void 0,void 0,(function(){return Ry(this,(function(n){switch(n.label){case 0:return[4,(new c.eZ).SetPreferences({context:e,csrfToken:t,sessionBased:(0,$.Dv)({crowBannerOptOut:!0})})];case 1:return n.sent(),[2]}}))}))}(n,r)}},i.createElement(v.Text,{string:a}))},Vy=(0,qe.P)([ze.bS.context,ze.mZ.crowBanner],(function(e,t){return t&&{title:t.title,body:t.body,csrfToken:t.csrfToken,context:e}||void 0})),My=(0,qe.P)([ze.mZ.restriction],(function(e){return e&&e.blockedPageModel&&{model:e&&e.blockedPageModel}||void 0}));const Wy="_39Ikm0",jy="_3RyQYR",By="_2IqXB4",Fy="_26i0xA",Uy="_33CQ6M";var Hy=function(e){var t=e.model;return t?i.createElement("div",{className:Wy},i.createElement("div",{className:jy},i.createElement("p",{className:By},i.createElement(v.Text,{string:t.message})),i.createElement("p",null,i.createElement(v.Text,{string:t.secondaryMessage})),i.createElement("div",{className:Fy},t.primaryActionText&&i.createElement(na.PrimaryButton,{href:t.primaryActionLink},i.createElement(v.Text,{string:t.primaryActionText})),i.createElement("span",{className:Uy},i.createElement(v.Text,{string:t.secondaryAction}))))):null};const Gy="_13WDDv",qy="_2hXhRb";var zy=function(e){var t=e.isRetail,n=e.children;return i.createElement("div",{className:t?qy:Gy},n)};const Zy="_29NdO6";var Yy=(0,oe.$j)((function(e){return{banner:e.banner.ui}}),(function(e){return{clearBanner:function(){return setTimeout((function(){return e({type:So.k.ClearBanner})}),300)}}}))((function(e){var t=e.banner,n=e.clearBanner,r=i.useContext(Y.h).getString;if(!t)return null;var a=t.stringId,o=t.string,s=t.type,c=t.heading,l=t.headingStringId,u=t.dvStringAttrs,d=t.automationId,p=u||{},f=(0,zt.e6)(o,p),m=l?r(l):c||"",h=d||"banner";return i.createElement(us.MessageBlock,{className:Zy,heading:m,type:s,dismissable:!0,onDismiss:n,testID:h},a&&i.createElement(Q,{stringID:a,dvStringAttrs:p}),o&&i.createElement(v.Text,{string:f}))})),Xy=!1,Ky=function(e,t){return void 0===t&&(t=!0),!Xy&&t&&(0,o.o5)(),Xy=!0,{type:So.k.PlaybackStart,payload:e}},Jy=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!0),t&&Ii.dispatch({type:So.k.PlaybackClosed,payload:{content:e}});var r=Ii.getState(),a=rn(r);if(n&&e&&!e.trailer&&e.asin){var o=a&&a[e.asin]||e.asin;Nc(o)}},Qy=function(){return(Qy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},$y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},eb=function(e){Jy(e,!0)},tb=function(e){Jy(e,!1)},nb=(0,oe.$j)((function(e){return{playerConfig:Qt(e),whisperCacheData:nn(e),playbackLinkData:e.player.playbackLinkData||void 0,autoplay:tn(e)}}),(function(e){return{setPlayerCapabilities:function(t){return e(function(e){return{type:So.k.SetPlayerCapabilities,payload:{capabilities:e}}}(t))},onPlayFailure:function(){e({type:Oo.k.PlaybackFailed})},startPlayback:function(t){return e(Ky(t,!1))},createError:function(t,n){return e(Cu({type:us.MessageTypes.error,stringId:t,headingStringId:n,automationId:"player-error-banner"}))}}}))((function(e){var t=e.setPlayerCapabilities,n=e.startPlayback,r=e.createError,a=$y(e,["setPlayerCapabilities","startPlayback","createError"]),s=Qy(Qy({},a),{onAsinChanged:tb,onClosed:eb,liveIncompatibleCallback:function(){return r("DV_WEB_LIVE_NOT_SUPPORTED_BODY")},onPlayerCapabilities:function(e){(0,o.SX)(),t(e);var r=a.autoplay;r&&setTimeout((function(){n(r)}))},onPlayerLoadErrorCallback:function(){return r("DV_DP_PLAYER_TIMEOUT_BODY","DV_DP_PLAYER_TIMEOUT_HEADING")}});return i.createElement(Ed,Qy({},s))})),rb=n("./node_modules/@amzn/dvui/dist/Icons/LogoPrimevideoApp.js"),ab=n.n(rb);const ob="_3HpRgq",ib="IuS9GC",sb="_8kDmil",cb="_1aUeVF",lb="_3pUIFM",ub="_3-D7fn",db="_2x-B3P";var pb="dvWebDownloadAppModalShown",fb="true",mb=i.forwardRef((function(e,t){var n=e.launchType,r=e.url,a=e.watchText,o=e.featuresText,s=e.proceedText,c=e.onUpsellAppDone,l=i.useRef(),u=function(){qc.b.hasOwnProperty(n)&&qc.b[n]({url:r})},d=function(){c&&c()};i.useImperativeHandle(t,(function(){return{upsellApp:function(){localStorage.getItem(pb)===fb||!1?(u(),d()):(localStorage.setItem(pb,fb),l.current.open())}}}));return i.createElement(bo.Modal,{modalId:"download-app-modal",size:"xs",className:ob,onClose:d,ref:l},i.createElement("header",{className:ib},i.createElement("div",{className:sb},i.createElement(ab(),null)),i.createElement("h2",{className:cb},a)),i.createElement("div",{className:lb},i.createElement("p",{className:ub},o),i.createElement(Cr.Jd,{refTag:(0,Or.i)("atv_dlapp_get_app")},i.createElement(na.FreeButton,{className:db,onClick:function(){l.current.close(),u()}},s))))})),hb=function(){return(hb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},gb=(0,oe.$j)((function(e){return{playbackIntegration:e.playbackIntegration}}),(function(e){return{clearUpsellApp:function(){return e({type:Oo.k.ClearUpsellApp})}}}))((function(e){var t=e.playbackIntegration,n=e.clearUpsellApp,r=i.useRef();return i.useEffect((function(){t.downloadAppModal&&t.isUpsellingApp&&r.current.upsellApp()}),[t.isUpsellingApp]),t.downloadAppModal?i.createElement(mb,hb({},t.downloadAppModal,{onUpsellAppDone:n,ref:r})):null})),vb=n("./node_modules/@amzn/dvui/dist/Icons/Edit.js"),_b=n("./node_modules/@amzn/dvui/dist/Icons/Help.js"),yb=n("./node_modules/@amzn/dvui/dist/Icons/Share.js");const bb="_2kDqJK";var Eb=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const wb=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={copied:!1,buttonString:t.props.copyLinkText},t.copyLink=function(e){var t=document.createElement("textarea");t.value=e,t.readOnly=!0,t.setAttribute("display","none"),document.body.appendChild(t),t.select(),t.setSelectionRange(0,e.length),document.execCommand("copy"),t.remove()},t.onClickHandler=function(e){t.state.copied||(0,Cr.XQ)(t.props.reftag),t.setState({copied:!0,buttonString:t.props.linkCopiedText}),t.copyLink(t.props.url),e.stopPropagation()},t}return Eb(t,e),t.prototype.render=function(){var e,t=this.state.buttonString,n=xe(bb,((e={})[this.props.className]=Boolean(this.props.className),e));return i.createElement(na.Button,{className:n,onClick:this.onClickHandler,"data-automation-id":"copy-url-button","data-testid":"copy-url-button"},i.createElement(v.Text,{string:t}))},t}(i.PureComponent),Db="_3r4blv",Tb="_1soPIu",Pb="q72d3c",Ib="_3o41qN",Sb="_18gh9i",kb="_2v8Cz0";var Cb=function(e,t){var n=e||.7*window.innerWidth,r=t||.7*window.innerHeight;return"toolbar=0, status=0, width="+n+", height="+r+", top="+(window.top.outerHeight/2+window.top.screenY-r/2)+", left="+(window.top.outerWidth/2+window.top.screenX-n/2)},Ob=["Email","Facebook","Twitter","Pinterest"],xb={Email:$n.IconType.EMAIL,Facebook:$n.IconType.FACEBOOK,Twitter:$n.IconType.TWITTER,Pinterest:$n.IconType.PINTEREST},Ab=function(e,t,n,r,a){return function(o){o.preventDefault(),(0,Cr.XQ)(e),window.open(t,n,Cb(r,a))}},Nb=function(e){var t=e.shareIcons.networkMap,n=function(e){var n=t[e],r=n.network,a=n.url,o=n.reftag,s=n.target,c=n.ariaText,l=n.width,u=n.height,d=xb[e],p="share-widget-"+d;return i.createElement(Er.Link,{id:p,"data-automation-id":p,"data-testid":p,ariaLabel:c,href:a,target:s,key:d,onClick:Ab(o,a,s,l,u)},i.createElement("div",{className:Ib},i.createElement($n.Icon,{className:Sb,use:d}),i.createElement("p",{className:kb},r)))};return i.createElement("div",{className:Pb},Ob.filter((function(e){return Object.keys(t).includes(e)})).map((function(e){return n(e)})))},Rb=function(e){var t=e.shareIcons,n=e.pageUrl,r=e.copyUrlReftag,a=e.copyLinkText,o=e.linkCopiedText;return i.createElement("div",null,t&&i.createElement(Nb,{shareIcons:t}),i.createElement(wb,{url:n,reftag:r,copyLinkText:a,linkCopiedText:o}))},Lb=function(e){var t,n=e.shareWidgetModel,r=e.refTag,a=e.pageType,o=e.subPageType;return n?i.createElement(Po,{size:"xs",modalHeader:(t=n.shareText,i.createElement("strong",null,i.createElement(v.Text,{string:t}))),modalContent:Rb(n),modalId:"share-modal",toggle:function(e){var t=e.openModalClickHandler;return i.createElement(Cr.Jd,{refTag:r,pageType:a,subPageType:o},i.createElement("button",{id:"shareTrigger",className:Tb,onClick:t,"data-automation-id":"share-button","data-testid":"share-button"},i.createElement(v.Text,{string:n.shareText})))},className:Db}):null},Vb=function(e,t,n){return function(e,t,n,r){return Oc({input:e,operation:Ds.GetYourDevicesSettingsPage},kc,t,n,r)}(e,(function(t){return{type:So.k.GetDevices,input:e,output:mc(t)}}),t,n)},Mb=function(e){return Vb({widgetArgs:(0,$.Dv)({})},{retryable:!1,mutedStatusCodes:[Pt.SU.Forbidden]},(function(t){window&&e&&t instanceof Pt.yM&&t.message.includes(""+Pt.SU.Forbidden)&&window.location.assign(e)}))},Wb=function(){function e(t){if(void 0===t&&(t=null),this._v=null,null==t)return e._none;this._v=t}return e.from=function(t){return void 0===t&&(t=null),null==t?e._none:new e(t)},e.prototype.isPresent=function(){return null!=this._v},e.prototype.isEmpty=function(){return null==this._v},e.prototype.contains=function(e){return null!=this._v&&this._v==e},e.prototype.getOrElse=function(e){return null==this._v?e:this._v},e.prototype.map=function(t){return null==this._v?this:e.from(t(this._v))},e.prototype.flatMap=function(e){return null==this._v?this:e(this._v)},e.prototype.filter=function(t){return null==this._v?e._none:t(this._v)?this:e._none},e.prototype.exists=function(e){return null!=this._v&&e(this._v)},e.prototype.orElse=function(e){return null==this._v?e:this},e.prototype.forEach=function(e){null==this._v||e(this._v)},e.prototype.match=function(e){var t=e.some,n=e.none;return null==this._v?n():t(this._v)},e._none=new e,e}();const jb="_3h4TEd",Bb="_1DL1hb",Fb="_3Itp-s",Ub="_3RRtRN",Hb="xDczhL";var Gb=function(e){var t=e.dropListId,n=e.dropListLinks,r=e.formUrl,a=e.formOnSubmitFn;return i.createElement(i.Fragment,null,i.createElement("h4",{className:""+Fb},i.createElement(Q,{stringID:"DV_WEB_FEEDBACK_select_related_device"})),i.createElement("div",{className:""+Ub,"data-automation-id":"feedback-drop-list","data-testid":"feedback-drop-list"},i.createElement(Lu,{links:n,customDropListID:t})),i.createElement(na.PrimeButton,{useIcon:$n.IconType.EXTERNAL,onClick:function(){a&&a(),window.open(r,"_blank",Cb(500,540))},className:""+Hb,"data-automation-id":"feedback-submit-button","data-testid":"feedback-submit-button"},i.createElement(Q,{stringID:"DV_WEB_FEEDBACK_submit_button"})))},qb=function(e){var t=e.isOpen,n=void 0!==t&&t,r=e.link,a=e.linkOnClickFn,o=e.onCloseFn,s=e.header,c=e.children;return i.createElement(Po,{size:"xs",isOpen:n,toggle:function(){return i.createElement(Zc,{refTag:"atv_dp_fb_open"},i.createElement("button",{"data-automation-id":"feedback-button","data-testid":"feedback-button",className:""+Bb,onClick:a},r))},onClose:o,modalHeader:i.createElement("strong",null,s),modalContent:c,className:""+jb})},zb=n("./src/util/utils/feedback.ts"),Zb=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yb=function(){return(Yb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Xb=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},Kb="fbModalOpen",Jb=i.createElement(Q,{stringID:"DV_WEB_FEEDBACK_feedback"}),Qb=i.createElement(Q,{stringID:"DV_WEB_FEEDBACK__send_us_feedback"}),$b={deviceTypeId:"A13Q6A55DBZB7M",name:"AVOD Website",text:i.createElement(Q,{stringID:"DV_WEB_FEEDBACK_no_device_website"})},eE={deviceTypeId:"",name:"Other Device",text:i.createElement(Q,{stringID:"DV_WEB_SETTINGS_HEAD_YOUR_DEVICES"})},tE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isOpen:t.isModalOpenOnPageLoad(),selected:0},t.getDevicesList=function(){Boolean(t.props.context.customerID)&&!t.props.devices.deviceEntries&&Mb(t.props.feedbackSignInUrl)},t}return Zb(t,e),t.prototype.isModalOpenOnPageLoad=function(){var e=this.props.context.queryParameters;return Boolean(e&&e.fbModalOpen&&e.fbModalOpen[0])},t.prototype.linkClickHandler=function(){this.getDevicesList(),this.openModal()},t.prototype.selectDropListLink=function(e){this.setState({selected:e})},t.prototype.openModal=function(){this.setState({isOpen:!0})},t.prototype.closeModal=function(){this.setState({isOpen:!1})},t.prototype.componentDidMount=function(){this.state.isOpen&&this.getDevicesList()},t.prototype.render=function(){var e=this,t=this.state,n=t.selected,r=t.isOpen,a=this.props,o=a.isMobile,s=a.isRetail,c=a.context,l=a.pageTitleId,u=a.logger,d=function(e,t){void 0===t&&(t=!0);var n=Wb.from(e);if(n.isEmpty()&&t)return[$b,eE];var r=n.getOrElse([]).reduce((function(e,t){var n=t.childrenNames&&t.childrenNames[0]||t.name;return e[n]||(e[n]=t.deviceTypeId),e}),{}),a=Object.keys(r).sort((function(e,t){return e.localeCompare(t)})).map((function(e){return{name:e,deviceTypeId:r[e],text:e}}));return Xb([$b],a)}(a.devices.deviceEntries,Boolean(c.customerID)),p=function(e,t,n){return e.map((function(e,r){return{text:e.text,isHighlighted:t===r,href:"#"+r,onClick:function(e){n(r),e.preventDefault()}}}))}(d,n,(function(t){return e.selectDropListLink(t)})),f=d[n],m=Yb(Yb({},s?{ASIN:l}:{GTI:l}),{deviceName:f.name,deviceTypeId:f.deviceTypeId,currentTerritory:c.currentTerritory,recordTerritory:c.recordTerritory,language:c.locale,marketplace:c.marketplaceID,encryptedCustomerId:c.customerID,sessionId:c.sessionID,sourceUrl:""+(0,wd.cU)(c.marketplaceID)+c.originalURI,returnUrl:Ee({isRetail:s,parameters:{},originalURI:c.originalURI},l,"atv_dp_send_feedback")}),h=(0,zb.O)(c.marketplaceID,m,u,o);return i.createElement(qb,{isOpen:r,link:Jb,linkOnClickFn:function(){return e.linkClickHandler()},onCloseFn:function(){return e.closeModal()},header:Qb},i.createElement(Gb,{dropListId:"feedback-device-list",dropListLinks:p,formUrl:h,formOnSubmitFn:function(){return e.closeModal()}}))},t}(i.Component),nE=(0,Hr.n)((0,oe.$j)((function(e){return{devices:ze.bS.devices(e),isMobile:Xe(e),pageTitleId:ze.bS.pageTitleId(e),context:ze.bS.context(e),isRetail:jt(e)}}))(tE));const rE="_2T-E4t",aE="_3sJF7y",oE="_8n5jYM",iE="_3Vj7e7",sE="_2hn8r7";var cE=n("./node_modules/@amzn/dvui/dist/Icons/Lightbulb.js"),lE=n.n(cE),uE=function(e){var t=e.termsText;return i.createElement("div",{className:""+aE},i.createElement(v.Text,{string:t}))},dE=function(e){var t=e.Icon,n=e.children;return i.createElement("div",{className:sE},i.createElement("div",{className:iE},i.createElement(t,{height:"24px",width:"24px"})),n)},pE=function(e){var t=e.isPurchaseRestricted,n=e.isRetail,r=e.bottomBar,a=e.isChildProfile,o=e.isComingSoon,s=i.useContext(Y.h),c=s.pageType,l=s.subPageType;return t?null:i.createElement("div",{className:xe("dv-dp-node-bottom",rE)},i.createElement(uE,{termsText:r.termsText}),!a&&i.createElement(ur.Spacer,{className:oE,space:ur.spacerSpacing.m,alignItems:ur.spacerAlignItems.center,testID:"bottom-bar-actions"},i.createElement(dE,{Icon:yb.Share},i.createElement(Lb,{shareWidgetModel:r.shareWidgetModel,refTag:"atv_dp_share_open",pageType:c,subPageType:l})),n?i.createElement(i.Fragment,null,!o&&i.createElement(dE,{Icon:vb.Edit},i.createElement("span",{"data-automation-id":"write-review-link","data-testid":"write-review-link"},i.createElement(v.Text,{string:r.writeReviewText}))),i.createElement(dE,{Icon:lE()},i.createElement(nE,{feedbackSignInUrl:r.feedbackSignInUrl}))):i.createElement(i.Fragment,null,i.createElement(dE,{Icon:vb.Edit},i.createElement(nE,{feedbackSignInUrl:r.feedbackSignInUrl})),i.createElement(dE,{Icon:_b.Help},i.createElement("span",{"data-automation-id":"get-help-link","data-testid":"get-help-link"},i.createElement(v.Text,{string:r.helpText}))))))};const fE="_20_SK5",mE="_3du1zj",hE="_3x9v6G";var gE=function(){return(gE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},vE=(0,oe.$j)((function(e){return{isRetail:jt(e),isTV:(0,Ut.be)(e),isMShop:Je(e),marketplaceId:Wt(e),images:bt(e),heroshotShouldBeShown:Mn(e),playbackData:(0,qt.BB)(e)}}))((function(e){var t=e.images,n=e.playbackData,r=e.isRetail,a=e.isTV,o=e.isMShop,s=e.heroshotShouldBeShown,c=e.draperStatus;if(s||!t||!t.packshot)return null;var l={alt:"",src:t.packshot,baseValue:300,isAtfMainImage:!0,classNameContainer:hE},u=xe(fE,a?mE:void 0,"dv-fallback-packshot-image");return i.createElement(i.Fragment,null,i.createElement("div",{className:u},i.createElement(mt,gE({},l)),r&&i.createElement("div",{className:"playback-large-circle-wrapper"},i.createElement("div",{id:"dv-play-box-circle"},n&&i.createElement(Z_,{playbackData:n,isPackshot:!0,draperStatus:c,isMShop:o})))))})),_E=n("./src/widgets/DVWebNodeDetail/selectors/autoplayHero.ts");const yE="_1DrAlF",bE="_2tqSOt",EE="_1mbktc";var wE="chart-position-badge",DE=function(e){var t=e.isMobile,n=e.chartPosition,r=i.useContext(Y.h).getString;return t||!n?null:i.createElement("div",{className:yE,"data-testid":wE,"data-automation-id":wE},i.createElement("span",{className:bE},r("DV_DP_CHART_TOP_TEN")),i.createElement("span",{className:EE},n))},TE=function(){return(TE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},PE="DVWebNode-detail-btf-wrapper",IE=i.lazy((function(){return Promise.all([n.e(942),n.e(608)]).then(n.bind(n,"./src/widgets/DVWebNodeDetail/components/heroVideo/heroVideo.tsx"))})),SE=new Set([Kb,hs,"fbId","wpCode","wpTitleId"]),kE=function(e){var t,n=e.children,r=e.useSimplifiedBuyBoxStyling,a=void 0!==r&&r;return i.createElement(qn.Container,{className:xe($_,"av-dp-container",ey,(t={},t[ny]=a,t))},n)},CE=function(){return i.createElement("div",{id:"dv-action-box-wrapper",className:we},i.createElement("div",{id:"dv-action-box",className:Te},i.createElement(x_,null)))},OE=(0,oe.$j)((function(e){return{hasCritical:Fn(e),renderOnlyGen4PlaybackInAtf:Un(e),title:Ln(e),metaData:Vn(e),synopsis:Wn(e),seasons:Bn(e),liveState:jn(e),bannerPromo:_y(e),heroQuickPromo:yy(e),bundleCarousel:ze.mZ.bundleCarousel(e),crowBanner:Vy(e),blockedPage:My(e),bottomBar:Hn(e),pageContext:e.pageContext,trailerAction:Dn(e),isMShop:Je(e),heroshotShouldBeShown:Mn(e),watchPartyAction:(0,qt.MZ)(e),isRetail:jt(e),accessChangeMessages:fn(e),autoplayHero:(0,_E.v)(e),appName:At(e),moodMetadataTreatment:tt(e),pageTitleId:e.pageTitleId,chartPosition:Gn(e)}}))((function(e){var t,n=e.hasCritical,r=e.renderOnlyGen4PlaybackInAtf,a=e.title,o=e.metaData,s=e.synopsis,c=e.seasons,l=e.liveState,u=e.bannerPromo,d=e.heroQuickPromo,p=e.bundleCarousel,f=e.crowBanner,m=e.blockedPage,h=e.pageContext,g=e.bottomBar,v=e.heroshotShouldBeShown,_=e.isRetail,y=e.autoplayHero,b=e.appName,E=e.moodMetadataTreatment,w=e.pageTitleId,D=e.chartPosition,T=i.useState(z_.e.NotStarted),P=T[0],I=T[1],S=i.useState(!1),k=S[0],C=S[1],O=h.subPageType,x="PVWinApp"===b;return i.useEffect((function(){!function(e){if(window&&window.location.search){var t=function(e,t){return e?(e.startsWith("?")?e.slice(1):e).split("&").map((function(e){return e.split("=")})).filter((function(e){return!t.has(e[0])})).map((function(e){return void 0===e[1]?e[0]:e.join("=")})).join("&"):""}(window.location.search,e),n=t?"?"+t:"";n!==window.location.search&&(0,Hu.lO)(null,"",""+window.location.origin+window.location.pathname+n)}}(SE),C(Boolean(y)),I(z_.e.NotStarted)}),[w]),m?i.createElement(kE,null,i.createElement("div",{className:"av-detail-section"},i.createElement(Hy,TE({},m)))):n?i.createElement("div",{className:K_},i.createElement(zy,{isRetail:_},f&&i.createElement(Ly,TE({},f)),i.createElement(Yy,null)),i.createElement(kE,{useSimplifiedBuyBoxStyling:!x},u&&i.createElement(vy,TE({},u)),i.createElement(X_,{draperStatus:P}),i.createElement(vE,{draperStatus:P}),k&&y&&i.createElement(i.Suspense,{fallback:null},i.createElement(IE,{draperStatus:P,setDraperStatus:I})),i.createElement("div",{className:xe("av-detail-section",(t={},t[Se]=k,t),v?J_:Q_)},i.createElement("div",{className:ty},r&&i.createElement(dy,null),l&&i.createElement(my,TE({},l)),i.createElement(gt,TE({},a)),D&&i.createElement(DE,TE({},D)),c&&i.createElement(lr,TE({},c,{isPVWinApp:x})),i.createElement(Uv,null),s&&i.createElement(Jn,TE({},s)),o&&i.createElement(sy,TE({},o,{moodMetadataTreatment:E})),i.createElement(CE,null),d&&i.createElement(Sy,TE({},d)))),p&&i.createElement(Ay,TE({},p)),i.createElement(pE,TE({},g,{isChildProfile:h.isCerberusChild}))),[h.playbackLaunchType,h.playbackTrailerLaunchType].some((function(e){return["EMBEDDED","URL_EMBEDDED","MSHOP_ANDROID_EMBEDDED"].includes(e)}))&&i.createElement(nb,null),i.createElement(gb,null)):i.createElement(kE,null,i.createElement("div",{className:"av-detail-section"},i.createElement(uy,{showLiveError:"Event"===O}),i.createElement("style",null,"."+PE+"."+PE+"."+PE+"{display:none;}")))})),xE=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),AE=function(e){function t(t){var n=e.call(this,t)||this;return n.state={error:void 0,info:void 0},n}return xE(t,e),t.prototype.componentDidCatch=function(e,t){var n=this.props,r=n.logger,a=n.name,o=$.EZ+"_ErrorBoundary_"+a;r.fatal(o,e).count(o,1,!1),this.setState({error:e,info:t})},t.prototype.render=function(){var e=this.state.error,t=this.props.requestContext.isInternal;return e?t?i.createElement("div",null,i.createElement("div",null,"$",e.message),i.createElement("div",null,"$",e.stack)):null:this.props.children},t}(i.Component),NE=(0,oe.$j)((function(e){return{requestContext:Ft(e)}}))((0,Hr.n)(AE)),RE=n("./node_modules/@amzn/dvui/dist/DVUI.js"),LE=(0,oe.$j)((function(e){return{pageContext:e.pageContext,config:Qt(e),playerCapabilities:e.player.capabilities,downloadAppModal:e.playbackIntegration.downloadAppModal,enableMarinTracking:Boolean(e.features.enableMarinTracking)}}),(function(e){return{startPlayback:function(t){return e(Ky(t))},triggerUpsellApp:function(){return e({type:Oo.k.TriggerUpsellApp})}}}))((function(e){var t=e.startPlayback,n=e.pageContext,r=e.config,a=e.playerCapabilities,o=e.downloadAppModal,s=e.triggerUpsellApp,c=e.enableMarinTracking,l=e.children;return i.createElement(Ka.cr,{pageType:r.pageType,onPlay:t,launchType:n.playbackLaunchType,trailerLaunchType:n.playbackTrailerLaunchType,playerCapabilities:a,onDownloadAppRequired:o?s:null,enableMarinTracking:c},l)})),VE=(0,qe.P)([ze.bS.refunding,ze.bS.refund],(function(e,t){if(!e||!t[e.titleId]||0===t[e.titleId].refundableOrders.length)return null;var n=t[e.titleId].refundableOrders[0],r=n.asin,a=n.csrfToken,o=/^[a-zA-Z0-9]{10}$/.test(r);return{asin:o?r:void 0,gti:o?void 0:r,csrfToken:a}})),ME=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),WE=function(){return(WE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},jE=i.lazy((function(){return n.e(355).then(n.bind(n,"./src/widgets/DVWebNodeDetail/components/purchaseFlowWrapper/dvpaWrapper.tsx"))})),BE="mfa-purchase-root",FE=function(e){var t=(window.location.search||"").match(e+"=([^&]+)");return t&&decodeURIComponent(t[1])},UE=function(e){function t(t){var n=e.call(this,t)||this;return n.shouldInitialize=function(){return Object.keys(n.props.offerTokenToPurchaseAction).length>0||n.props.hasRefunds},n.state={initialized:!1},n.portalRoot=null,n}return ME(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.triggerPurchase,n=e.offerTokenToPurchaseAction;if(this.shouldInitialize()){this.initialize();var r=FE("continueToken"),a=FE("offerToken"),o=FE("gti");r&&a&&(n[a]||o)&&(setTimeout((function(){return t(a,r,o)}),300),window.location.href&&(0,Hu.lO)(null,document.title,function(e){return e.replace(/continueToken=[^&]+&?/,"").replace(/offerToken=[^&]+&?/,"").replace(/gti=[^&]+&?/,"")}(window.location.href)))}},t.prototype.componentDidUpdate=function(){!this.state.initialized&&this.shouldInitialize()&&this.initialize()},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.el&&this.portalRoot.removeChild(this.el)},t.prototype.getPurchaseElement=function(){var e=document.getElementById(BE);return e||((e=document.createElement("div")).setAttribute("id",BE),document.body.appendChild(e),e)},t.prototype.initialize=function(){this.portalRoot=this.getPurchaseElement(),this.el=document.createElement("div"),this.portalRoot.appendChild(this.el),this.setState({initialized:!0})},t.prototype.render=function(){var e=this.props,t=e.purchasingDetails,n=e.refundingDetails,r=e.callbackCancel,a=e.resetAfterCancel,o=e.callbackFailure,s=e.failed,c=e.refreshAfterDone,l=e.callbackCSRF,u=e.callbackCancelRefund,d=e.callbackFailureRefund,p=e.callbackRefund,f=e.subPageType,m=e.titleId,h=e.capabilities,g=e.offerTokenToPurchaseAction,v=e.deviceId,_=e.specialHDPlaybackBlocked,y=this.state.initialized,b={supportsWebPlayback:Boolean(h)&&h.supportsWebPlayback,supportsHDMovies:Boolean(h)&&h.supportsHDMovies,supportsUHD:!1};if(!y)return null;var E={action:void 0,actionContext:{callbacks:{callbackCancel:function(){},callbackFailure:function(){}}}};if(t){var w=t.details,D=t.continueToken,T=t.refTag,P=t.gtiRedirect,I=w&&w.offer.offerToken||t.offerToken,S=w&&w.offer.csrfTokenWorkflow;if(!S){var k=Object.values(g)[0];S=k&&k.offer.csrfTokenWorkflow}var C=w&&w.gti||P,O=Ni().deviceTypeId;E={action:"purchase",actionContext:{isVisible:!0,playerDetails:b,extraData:WE(WE({subPageType:f,titleId:m,refTag:T,globalTitleIdentifier:C,specialHDPlaybackBlocked:_},{deviceTypeId:O}),v&&{deviceId:v}),callbacks:{callbackCancel:r,callbackFailure:o,resetAfterCancel:a,refreshAfterDone:c,failed:s,callbackCSRF:l},offerContext:{offerToken:I,csrfToken:S},continueToken:D}}}else n&&(E={action:"refund",actionContext:{isVisible:!0,asin:n.asin,csrfToken:n.csrfToken,globalTitleIdentifier:n.gti,callbacks:{callbackCancel:u,callbackFailure:d,callbackRefundSuccess:p("Success"),callbackRefundFailure:p("Failure")}}});return Bh.createPortal(i.createElement(NE,{name:"purchaseWorkflow"},i.createElement(i.Suspense,{fallback:i.createElement(i.Fragment,null)},i.createElement(jE,WE({},E)))),this.el)},t}(i.Component),HE=(0,Hr.n)((0,oe.$j)((function(e){return{purchasingDetails:zi(e),refundingDetails:VE(e),offerTokenToPurchaseAction:qi(e),hasRefunds:Object.keys(e.refund.fragments).length>0,subPageType:Dt(e),deviceId:e.requestContext.deviceID,titleId:e.pageTitleId,capabilities:e.player.capabilities,specialHDPlaybackBlocked:(ze.mZ.hdPlaybackRestricted(e)||{}).isRestricted}}),(function(e,t){var n=t.logger,r=function(t){return function(r,a,o){void 0===o&&(o=!1);var i=o?n.error:n.info,s=[$.EZ,t,a].join("_"),c=Ni().deviceTypeId;i((o?"TVOD failure in ":"")+"["+t+"] - Callback "+a+" triggered").count(s,1,!0).count(s+"_"+c,1,!0),r({dispatch:e,logger:n})}},a=r("Purchase"),o=r("Refund");return{callbackCancel:function(){return a(Wc,"callbackCancel")},resetAfterCancel:function(){return a(Wc,"resetAfterCancel")},callbackFailure:function(){return a(jc,"callbackFailure",!0)},failed:function(){return a(jc,"failed",!0)},refreshAfterDone:function(){return a(Bc,"refreshAfterDone")},callbackCSRF:function(){return a(Uc,"callbackCSRF")},callbackCancelRefund:function(){return o(Au,"callbackCancel")},callbackFailureRefund:function(){return o(Nu,"callbackFailure")},callbackRefund:function(e){return function(t){return o(function(e,t){return function(n){var r=n.dispatch;return Ou(void 0,void 0,void 0,(function(){var n,a,o;return xu(this,(function(i){switch(i.label){case 0:return[4,Nc()];case 1:return i.sent(),(((t||{}).clientContract||{}).taskData||{}).viewData&&(n=t.clientContract.taskData.viewData,a=n.title,o=n.message,r(Cu({type:"Success"===e?us.MessageTypes.success:us.MessageTypes.warning,string:o,heading:a}))),[2]}}))}))}}(e,t),"callbackRefund"+e)}},triggerPurchase:function(t,r,a){return Mc(e,n,t,r,void 0,a)}}}))(UE));var GE=n("./node_modules/@amzn/dv-marin-tracking-js-library/dist/index.js"),qE=function(){return(qE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},zE={name:"detail-atf",getProps:void 0,Component:(0,ae.s6)((function(e){var t=e.logger,n=e.context,r=e.state,a=e.isPageChange,o=e.strings,s=e.render,c=xi(qE(qE({},r),{requestContext:n}),t,a);return i.useEffect((function(){Boolean(r.features.enableMarinTracking)&&(0,GE.sendClicksTrackingRequest)(n.recordTerritory)}),[]),i.createElement(RE.DVUI,null,i.createElement(Y.h.Provider,{value:{getString:(0,zt.qY)(o,t,n),pageType:r.pageContext.pageType,subPageType:r.pageContext.subPageType,isRTL:Boolean(s&&s.isRTL)}},i.createElement(oe.zt,{store:c},i.createElement(NE,{name:"atf"},i.createElement(LE,null,i.createElement(OE,null))),i.createElement(HE,null))))}))},ZE=function(){return(ZE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},YE=(0,oe.$j)((function(e){return{collections:cm(e)}}))((function(e){var t=e.collections;return i.createElement(qn.Container,null,t.map((function(e,t){return null===e?null:i.createElement(sm,ZE({},e,{key:"collection-"+e.index+"-"+t}))})))}));const XE="_3NoapH",KE="_2whq0W",JE="_3w0SJY";var QE=(0,oe.$j)((function(e){return{faq:e.faq[e.pageTitleId]}}))((function(e){var t=e.faq;return t&&t.questionList&&t.questionList.length?i.createElement(qn.Container,{className:Ie+" "+XE},i.createElement("span",{"data-automation-id":"av-faq"},i.createElement("div",{id:"faq",className:KE},i.createElement("h1",null,i.createElement(v.Text,{string:t.header}))),i.createElement("div",{className:JE},i.createElement("ul",null,t.questionList.map((function(e,t){return i.createElement("li",{key:"faq-li-"+t},i.createElement(v.Text,{string:e}))}))),i.createElement(v.Text,{string:t.seeMoreLink})))):null}));const $E="snBZZB",ew="-TtRqm",tw="_3AiGNe",nw="_2xBNyn",rw="cR7l9r",aw="_2GlBPe",ow="_3GJVd-",iw="AuZIIJ",sw="_3AqtcM",cw="_2QEmp8",lw="_3qKcrS",uw="_3Jd4bd";var dw={Chat:"_3awQKl",CallMe:"_1aMiiL"},pw=function(e){var t=e.header,n=e.body,r=e.footer,a=e.buttonText,o=e.buttonLink,s=e.contactBoxType,c=s?dw[s]:void 0;return o?i.createElement("div",{className:nw},i.createElement("div",{className:lw},i.createElement("div",{className:uw+" "+aw},i.createElement("span",null,i.createElement(v.Text,{string:t})))),i.createElement("div",{className:lw},i.createElement("div",{className:uw+" "+ow},i.createElement(v.Text,{string:n}))),i.createElement("div",{className:lw},i.createElement("div",{className:uw+" "+iw},i.createElement("strong",null,i.createElement(v.Text,{string:r})))),i.createElement("div",{className:lw},i.createElement("div",{className:uw+" "+sw},i.createElement(na.Button,{className:cw,href:o},i.createElement("div",{className:uw+" "+rw},c?i.createElement("div",{className:c}):null),i.createElement(v.Text,{tag:"div",string:a}))))):null},fw=function(){return(fw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},mw=(0,oe.$j)((function(e){return{contactUs:e.contactUs[e.pageTitleId]}}))((function(e){var t=e.contactUs;return t&&t.contactUsBoxList&&t.contactUsBoxList.length?i.createElement(qn.Container,{className:Ie+" "+$E},i.createElement("span",{"data-automation-id":"av-contact-us"},i.createElement("div",{id:"contactus",className:ew},i.createElement("h1",null,i.createElement(v.Text,{string:t.header}))),i.createElement("div",{className:tw},t.contactUsBoxList.map((function(e,t){return i.createElement(pw,fw({},e,{key:"contact-us-"+t}))}))))):null})),hw=n("./src/widgets/Explore/DraperPlayer/videoContext.ts"),gw=function(){return(gw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},vw=(0,oe.$j)((function(e){return{shouldShowTabs:!(0,Ut.V$)(e),showReviews:Gh(e)}}))((function(e){var t=e.shouldShowTabs,n=e.showReviews,r=i.useState({videoContext:gw(gw({},hw.E),{updateContext:function(e){o({videoContext:e})}})}),a=r[0],o=r[1];return i.createElement(hw.l.Provider,{value:a.videoContext},t?i.createElement(pv,null):i.createElement(i.Fragment,null,i.createElement(YE,null),i.createElement(vm,null),i.createElement(Km,null),i.createElement(ah,null),i.createElement(jh,null),i.createElement(QE,null),i.createElement(mw,null),i.createElement(Em,null)),!t&&n&&i.createElement(sv,null))})),_w=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yw=function(){return(yw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},bw=function(e){function t(t){var n=e.call(this,t)||this,r=t.logger,a=t.context,o=t.state;return n.store=xi(yw(yw({},o),{requestContext:a}),r),n}return _w(t,e),t.prototype.render=function(){var e=this.props,t=e.logger,n=e.context,r=e.state,a=e.strings;if(r.restriction&&r.restriction[r.pageTitleId]&&r.restriction[r.pageTitleId].blockedPageModel)return null;var o=r.pageContext,s=o.pageType,c=o.subPageType;return i.createElement(RE.DVUI,null,i.createElement(Y.h.Provider,{value:{getString:(0,zt.qY)(a,t,n),pageType:s,subPageType:c,isRTL:!1}},i.createElement(oe.zt,{store:this.store},i.createElement(NE,{name:"btf"},i.createElement(LE,null,i.createElement(vw,null))))))},t}(i.Component),Ew={name:"detail-btf",getProps:void 0,getHydrationProps:undefined,Component:(0,ae.s6)(bw)},ww=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};(function(e,t,n,r){new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))})(void 0,void 0,void 0,(function(){return ww(this,(function(e){switch(e.label){case 0:return(0,a.y)(zE),(0,o.KL)(),[4,new Promise((function(e){return setTimeout(e)}))];case 1:return e.sent(),(0,a.y)(Ew),n="detail-hydration-complete","function"==typeof Event?t=new Event(n):(t=document.createEvent("Event")).initEvent(n),"complete"===document.readyState&&document.dispatchEvent(t),window.addEventListener("load",(function(){return document.dispatchEvent(t)})),[2]}var t,n}))}))},"./src/shared/SPA/SpaContext.tsx":(e,t,n)=>{"use strict";n.d(t,{cG:()=>s});var r,a=n("./node_modules/react/index.js"),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=a.createContext({});i.Provider,i.Consumer;!function(e){e.CanMultiDeleteV2="CanMultiDeleteV2",e.CanSeasonDownloadV2="CanSeasonDownloadV2",e.CanDownloadSDQuality="CanDownloadSDQuality",e.CanSelectAudioTracks="CanSelectAudioTracks"}(r||(r={}));var s=function(e){return function(t){return a.createElement(e,o({},t))}}},"./src/shared/deeplink/browser.ts":(e,t,n)=>{"use strict";n.d(t,{pb:()=>p,Vl:()=>f,Y5:()=>m,uW:()=>h});var r=n("./src/util/logger/logger.ts"),a=n("./src/util/utils/recordReftag/recordReftag.tsx"),o=new r.Oc("DVWbNode:deeplink"),i="pv-hidden-iframe",s=function(e){var t=e&&e.match(/^([^:]+)/);return t&&t[1]||"unknown"},c=function(e,t,n){var r=s(e);t?((0,a.XQ)("dv_deeplink_"+r+"_noapp"),o.count("DVWeb::Deeplink::"+r+"::NoApp",1,!0),n({isSuccess:!0}),window.location.assign(t)):(n({isSuccess:!1}),o.error("fallbackUrl param is required for deeplinking"))},l=function(e,t){var n=s(e);(0,a.XQ)("dv_deeplink_"+n),t({isSuccess:!0}),o.count("DVWeb::Deeplink::"+n,1,!0)},u=function(){return document.querySelector("#"+i)||(e=document.body,t="about:blank",(n=document.createElement("iframe")).src=t,n.id=i,n.style.display="none",e.appendChild(n),n);var e,t,n},d=function(e,t,n){return e.addEventListener(t,n),function(){e.removeEventListener(t,n)}},p=function(e){var t=e.logOutcome;return function(e){var n=e.url,r=e.fallbackUrl;navigator.msLaunchUri&&navigator.msLaunchUri(n,(function(){return l(n,t)}),(function(){return c(n,r,t)}))}},f=function(e){var t=e.logOutcome;return function(e){var n=e.url,r=e.fallbackUrl,a=setTimeout((function(){c(n,r,t),i&&i()}),1e3),o=u(),i=d(window,"blur",(function(){clearTimeout(a),i&&i(),l(n,t)}));o.contentWindow.location.href=n}},m=function(e){var t=e.logOutcome;return function(e){var n=e.url,r=e.fallbackUrl,a=u();try{a.contentWindow.location.href=n,l(n,t)}catch(e){"NS_ERROR_UNKNOWN_PROTOCOL"===e.name?c(n,r,t):o.error("Unexpected error with Firefox deeplinking",e)}}},h=function(e){var t=e.logOutcome;return function(e){for(var n=e.url,r=e.fallbackUrl,a=setTimeout((function(){c(n,r,t),i&&i()}),1e3),o=window;o!=o.parent;)o=o.parent;var i=d(o,"blur",(function(){clearTimeout(a),i&&i(),l(n,t)}));window.location.assign(n)}}},"./src/shared/deeplink/index.ts":(e,t,n)=>{"use strict";n.d(t,{b:()=>c});var r=n("./src/shared/deeplink/url.ts"),a=n("./src/shared/deeplink/mshop.ts"),o=n("./src/shared/deeplink/browser.ts"),i=new(n("./src/util/logger/logger.ts").Oc)("DVWebNode:deeplink"),s=function(e,t){return e({logOutcome:function(e){var n=e.isSuccess;i.count("DVWebNode:deeplinking:"+t+":"+(n?"success":"failure"),1,!0)}})},c={URL:s(r.t,"url"),URL_EMBEDDED:s(r.t,"urlEmbedded"),MSHOP_ANDROID:s(a.Q,"mshopAndroid"),MSHOP_ANDROID_EMBEDDED:s(a.Q,"mshopAndroidEmbedded"),MSHOP_IOS:s(a.l,"mshopIos"),IOS_LEGACY:s(r.t,"iosLegacy"),WIN10_EDGE:s(o.pb,"win10Edge"),WIN10_FIREFOX:s(o.Vl,"win10Firefox"),WIN10_FIREFOX_LEGACY:s(o.Y5,"win10FirefoxLegacy"),WIN10_CHROME:s(o.uW,"win10Chrome"),MAC_OS:s(o.Vl,"macOS")}},"./src/shared/deeplink/mshop.ts":(e,t,n)=>{"use strict";n.d(t,{l:()=>c,Q:()=>l});var r=n("./src/util/utils/recordReftag/recordReftag.tsx"),a=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},o=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i="dv_web_dl_success",s="dv_web_dl_failure",c=function(e){var t=e.logOutcome;return function(e){var n=e.url,c=e.fallbackUrl;window.P.when("mash").execute((function(e){e.launchIntentURL({url:n,successCallback:function(){t({isSuccess:!0}),(0,r.XQ)(i)},failCallback:function(){return a(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return c?(t({isSuccess:!0}),[4,(0,r.XQ)(i)]):[3,2];case 1:return e.sent(),window.location.assign(c),[3,4];case 2:return t({isSuccess:!1}),[4,(0,r.XQ)(s)];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))}})}))}},l=function(e){var t=e.logOutcome;return function(e){var n=e.url,c=e.fallbackUrl;window.P.when("mash").execute((function(e){e.canLaunchIntentURL({url:n,successCallback:function(l){return a(void 0,void 0,void 0,(function(){return o(this,(function(a){switch(a.label){case 0:return l?[4,(0,r.XQ)(i)]:[3,2];case 1:return a.sent(),t({isSuccess:!0}),e.launchIntentURL({url:n}),[3,4];case 2:return[4,(0,r.XQ)(s)];case 3:a.sent(),t({isSuccess:!1}),c&&e.launchIntentURL({url:c}),a.label=4;case 4:return[2]}}))}))},failCallback:function(){t({isSuccess:!1}),(0,r.XQ)(s)}})}))}}},"./src/shared/deeplink/url.ts":(e,t,n)=>{"use strict";n.d(t,{t:()=>r});var r=function(e){var t=e.logOutcome;return function(e){var n=e.url;t({isSuccess:!0}),window.location.assign(n)}}},"./src/shared/player/integration/playbackArea.tsx":(e,t,n)=>{"use strict";n.d(t,{ET:()=>u,cr:()=>m});var r=n("./node_modules/react/index.js"),a=n("./src/shared/deeplink/index.ts"),o=n("./src/util/logger/logger.ts"),i=n("./src/util/wrappers/ArgsContext.tsx"),s=n("./node_modules/@amzn/dv-marin-tracking-js-library/dist/index.js"),c=n("./src/shared/SPA/SpaContext.tsx"),l=new o.Oc("DVWebNode:deeplink"),u=r.createContext({onPlay:null}),d=function(e,t){a.b[t]({url:e.playbackUrl,fallbackUrl:e.fallbackUrl})},p=function(e){return e.isBonus||e.sequenceNumber>=1&&e.sequenceNumber<=3},f=function(e,t,n,r,o,i,c,u,f,m){return function(h){var g=h.contentConfig.trailer;!c||g||h.isBonus||("Detail"===r||"DetailAndroid"===r?"Prime"===h.subscriptionName&&(0,s.sendConversionTrackingRequest)(s.ConversionType.SVOD_ANY_STREAM,u):(0,s.sendConversionTrackingRequest)(s.ConversionType.UNDEFINED_ANY_STREAM,u));var v=(h.contentConfig.videoType||"").toLowerCase(),_="trailer"===v?n:t;l.count("DVWebNode:LaunchType:"+r+":"+_,1,!0),"feature"===v&&function(e){return!e||e.supportsDrm}(o)&&["MSHOP_ANDROID_EMBEDDED","URL_EMBEDDED"].includes(_)?"MSHOP_ANDROID_EMBEDDED"===_?function(e,t,n,r){var a=function(){p(t)?e(t):r?r():d(t,n)};window.P.when("mash").execute((function(e){e.canLaunchIntentURL({url:t.playbackUrl,successCallback:function(e){e?d(t,n):a()},failCallback:function(){a()}})}))}(e,h,_,i):function(e,t,n){p(t)?e(t):d(t,n)}(e,h,_):"EMBEDDED"===_?"feature"===v&&f&&f(h.contentConfig.asin)?m(h.contentConfig.asin):e(h):a.b.hasOwnProperty(_)&&d(h,_)}},m=(0,c.cG)((0,i.s6)((function(e){var t=e.onPlay,n=e.launchType,a=e.trailerLaunchType,o=e.pageType,i=e.playerCapabilities,s=e.onDownloadAppRequired,c=e.children,l=e.enableMarinTracking,d=e.context,p=e.hasDownloadedToNative,m=e.triggerNativeOfflinePlayback,h=f(t,n,a,o,i,s,l,null==d?void 0:d.recordTerritory,p,m);return r.createElement(u.Provider,{value:{onPlay:h}},c)})))},"./src/util/utils/marketplace.ts":(e,t,n)=>{"use strict";var r;n.d(t,{HZ:()=>r,D1:()=>a,cU:()=>o,c3:()=>i}),function(e){e.US="ATVPDKIKX0DER",e.UK="A1F83G8C2ARO7P",e.DE="A1PA6795UKMFR9",e.JP="A1VC38T7YXB528",e.ROW_NA="ART4WZ8MWBX2Y",e.ROW_EU="A2MFUE2XK8ZSSY",e.ROE_EU="A3K6Y4MI8GDYMT",e.ROW_FE="A15PK738MTQHSO"}(r||(r={}));var a=function(e){return e===r.JP},o=function(e){return"https://www."+i(e)},i=function(e){switch(e){case r.US:return"amazon.com";case r.UK:return"amazon.co.uk";case r.DE:return"amazon.de";case r.JP:return"amazon.co.jp";default:return"primevideo.com"}}},"./src/widgets/DVWebNodeDetail/actions/constants.ts":(e,t,n)=>{"use strict";var r;n.d(t,{k:()=>r}),function(e){e.STORE_MERGE="@@dp/STORE_MERGE",e.CHANGE_PAGE="@@dp/CHANGE_PAGE",e.WatchlistToggle="@@dp/WatchlistToggle",e.WatchlistToggleFailed="@@dp/WatchlistToggleFailed",e.ClearWatchlistToggleFailure="@@dp/ClearWatchlistToggleFailure",e.GetDevices="@@dp/GetDevices",e.GetDevicesFailed="@@dp/GetDevicesFailed",e.RefreshEpisode="@@dp/ActionBox/RefreshEpisode",e.RefreshAtfActionBox="@@dp/ActionBox/RefreshAtfActionBox",e.RefreshBtfActionBoxes="@@dp/ActionBox/RefreshBtfActionBoxes",e.TriggerPurchase="@@dp/ActionBox/TriggerPurchase",e.PurchaseCancelled="@@dp/ActionBox/PurchaseCancelled",e.PurchaseFailed="@@dp/ActionBox/PurchaseFailed",e.TriggerRefund="@@dp/ActionBox/TriggerRefund",e.RefundFailed="@@dp/ActionBox/RefundFailed",e.RefundCancelled="@@dp/ActionBox/RefundCancelled",e.CreateBanner="@@dp/CreateBanner",e.ClearBanner="@@dp/ClearBanner",e.SetPlayerCapabilities="@@dp/player/SetPlayerCapabilities",e.PlaybackStart="@@dp/player/PlaybackStart",e.PlaybackFailed="@@dp/player/PlaybackFailed",e.PlaybackClosed="@@dp/player/PlaybackClosed",e.UpdateShowCancellationWinback="@@dp/UpdateShowCancellationWinback",e.TriggerUpsellApp="@@dp/TriggerUpsellApp",e.ClearUpsellApp="@@dp/ClearUpsellApp"}(r||(r={}))},"./src/widgets/DVWebNodeDetail/actions/index.ts":(e,t,n)=>{"use strict";n.d(t,{k:()=>r.k});var r=n("./src/widgets/DVWebNodeDetail/actions/constants.ts")},"./src/widgets/DVWebNodeDetail/components/heroVideo/draperStatus.ts":(e,t,n)=>{"use strict";var r;n.d(t,{e:()=>r}),function(e){e[e.NotStarted=0]="NotStarted",e[e.BeforePlaying=1]="BeforePlaying",e[e.Playing=2]="Playing",e[e.Stopped=3]="Stopped",e[e.Cancelled=4]="Cancelled"}(r||(r={}))},"./src/widgets/DVWebNodeDetail/context/withLogger.tsx":(e,t,n)=>{"use strict";n.d(t,{n:()=>i});var r=n("./node_modules/react/index.js"),a=n("./src/util/wrappers/ArgsContext.tsx"),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(e){return function(t){return r.createElement(a.pG,null,(function(n){var a=n.logger;return r.createElement(e,o({},t,{logger:a}))}))}}},"./src/widgets/DVWebNodeDetail/reducers/action.ts":(e,t,n)=>{"use strict";n.d(t,{t1:()=>c,L5:()=>l,I6:()=>f});var r=n("./src/widgets/DVWebNodeDetail/utils/reducer.ts"),a=n("./src/widgets/DVWebNodeDetail/actions/index.ts"),o=n("./node_modules/redux/es/redux.js"),i=n("./src/widgets/DVWebNodeDetail/utils/utils.ts"),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},c="atf",l="btf",u=(0,i.bc)([c,l]),d={},p=function(e){return(0,r.V)((function(t){return t.action&&t.action[e]}),d,function(e){return function(t,n){switch(void 0===t&&(t=d),n.type){case a.k.RefreshAtfActionBox:case a.k.RefreshBtfActionBoxes:case a.k.RefreshEpisode:return n.output&&n.output.action&&n.output.action[e]&&s(s({},t),n.output.action[e])||t;default:return t}}}(e))},f=(0,o.UY)(u.reduce((function(e,t){return e[t]=p(t),e}),{}))},"./src/widgets/DVWebNodeDetail/reducers/collections.ts":(e,t,n)=>{"use strict";n.d(t,{Wq:()=>i,I6:()=>d});var r=n("./src/widgets/DVWebNodeDetail/actions/index.ts"),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},o=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},i=25,s={},c=["episodes","bonus"],l=function(e,t){t.reduce((function(e,t){return t.collectionType&&(e[t.collectionType]?e[t.collectionType].titleIds=Array.from(new Set(o(o([],e[t.collectionType].titleIds),t.titleIds))):e[t.collectionType]=a({},t)),e}),e||{})},u=function(e,t){var n=Object.keys(e).reduce((function(t,n){return t[n]=o([],e[n]),t}),{});return Object.keys(t).reduce((function(e,n){if(e[n]){var r={};l(r,e[n]),l(r,t[n]);var a=new Set(Object.keys(r));e[n]=c.filter((function(e){return a.has(e)})).map((function(e){return r[e]}))}else e[n]=o([],t[n]);return e}),n)},d=function(e,t){switch(void 0===e&&(e=s),t.type){case r.k.STORE_MERGE:return t.payload.collections?u(e,t.payload.collections):e;case r.k.CHANGE_PAGE:return u({},t.payload.collections);default:return e}}},"./src/widgets/DVWebNodeDetail/reducers/detail.ts":(e,t,n)=>{"use strict";n.d(t,{B6:()=>i,k5:()=>s,Xt:()=>c,I6:()=>l});var r,a=n("./src/widgets/DVWebNodeDetail/utils/reducer.ts"),o=n("./node_modules/redux/es/redux.js"),i="headerDetail",s="btfMoreDetails",c="detail",l=(0,o.UY)(((r={})[i]=(0,a.V)((function(e){return e.detail&&e.detail[i]}),{}),r[s]=(0,a.V)((function(e){return e.detail&&e.detail[s]}),{}),r[c]=(0,a.V)((function(e){return e.detail&&e.detail[c]}),{}),r))},"./src/widgets/DVWebNodeDetail/selectors/actionFragment.ts":(e,t,n)=>{"use strict";n.d(t,{IB:()=>p,AI:()=>f,SX:()=>m,lO:()=>v,Lu:()=>_,MZ:()=>y,C9:()=>b,ZA:()=>E,BN:()=>w,ZM:()=>T,l7:()=>I,J2:()=>S,UT:()=>k,cD:()=>O,Br:()=>x,u5:()=>A,aQ:()=>N,c9:()=>R,Li:()=>L,rp:()=>V,tW:()=>M,a1:()=>W,BB:()=>j,PC:()=>F,VM:()=>U});var r=n("./src/widgets/DVWebNodeDetail/selectors/selectorWrapper.ts"),a=n("./src/widgets/DVWebNodeDetail/utils/isType.ts"),o=n("./src/widgets/DVWebNodeDetail/utils/utils.ts"),i=n("./src/widgets/DVWebNodeDetail/selectors/basicState.ts"),s=n("./src/widgets/DVWebNodeDetail/utils/playbackActionHelper.ts"),c=n("./src/widgets/DVWebNodeDetail/utils/downloadActionHelper.ts"),l=n("./src/widgets/DVWebNodeDetail/reducers/collections.ts"),u=n("./src/widgets/DVWebNodeDetail/utils/getPlaybackProgress.ts"),d=n("./src/widgets/DVWebNodeDetail/utils/actionBoxUtils.ts"),p=(0,r.P)([i.bS.actionBtf,i.mZ.collections],(function(e,t){return void 0===t&&(t=[]),Array.from(new Set((0,o.VF)(t.map((function(e){return e.titleIds}))))).reduce((function(t,n){var r=e[n];return r&&(t[n]=r),t}),{})})),f=(0,r.P)(i.mZ.actionAtf,(function(e){return e&&e.acquisitionActions})),m=(0,r.P)(i.mZ.actionAtf,(function(e){return e&&e.viewRefMarker})),h=(0,r.P)(i.mZ.actionAtf,(function(e){return e&&e.playbackActions})),g=(0,r.P)(i.mZ.actionAtf,(function(e){return e&&e.downloadActions})),v=(0,r.P)(i.mZ.actionAtf,(function(e){return e&&e.notificationActions})),_=(0,r.P)(i.mZ.actionAtf,(function(e){return e&&e.disneyAction})),y=(0,r.P)(i.mZ.actionAtf,(function(e){return e&&e.watchPartyAction})),b=(0,r.P)([i.bS.actionBtf,i.mZ.collections],(function(e,t){return void 0===t&&(t=[]),(0,o.VF)(t.filter((function(e){return"episodes"===e.collectionType})).map((function(e){return e.titleIds}))).slice(0,l.Wq).reduce((function(t,n){var r=e[n];if(!r||!r.playbackActions)return t;var a=(0,s.MG)(r.playbackActions);return a&&(0,u.Nw)(a.progress)?t+1:t}),0)})),E=(0,r.P)([i.bS.actionBtf,i.mZ.collections],(function(e,t){return void 0===t&&(t=[]),(0,o.VF)(t.filter((function(e){return"episodes"===e.collectionType})).map((function(e){return e.titleIds}))).reduce((function(t,n){var r=e[n];return t[n]=r&&r.playbackActions&&void 0!==(0,s.MG)(r.playbackActions),t}),{})})),w=(0,r.P)([i.bS.actionBtf,i.mZ.collections],(function(e,t){return void 0===t&&(t=[]),(0,o.VF)(t.filter((function(e){return"episodes"===e.collectionType})).map((function(e){return e.titleIds}))).reduce((function(t,n){var r=e[n];return r&&!(0,o.xb)((0,d.N)(r.notificationActions))?t+1:t}),0)})),D=(0,r.P)(f,(function(e){var t=e&&e.svodWinners;return function(e){return(0,a.P)(e,"atv.wps#SubscribeActionTreeRight")}(t)?t:void 0})),T=(0,r.P)(D,(function(e){return e&&e.children})),P=(0,r.P)(T,(function(e){return e&&(0,o.VF)(e.map((function(e){return e.problems})))})),I=(0,r.P)(P,(function(e){return e&&e.map((function(e){return e.message}))})),S=(0,r.P)(D,(function(e){return e&&e.metadata})),k=(0,r.P)(S,(function(e){return e&&e.behaviour})),C=(0,r.P)(f,(function(e){return e&&(t=e.tvodWinners,(0,a.P)(t,"atv.wps#PurchaseActionTreeRight"))?e.tvodWinners:void 0;var t})),O=(0,r.P)(C,(function(e){return e&&e.children})),x=(0,r.P)(C,(function(e){return e&&e.metadata})),A=(0,r.P)(x,(function(e){return e&&e.messages})),N=(0,r.P)(O,(function(e){return e&&(0,o.VF)(e.filter((function(e){return!(0,o.xb)(e.displayMessages)})).map((function(e){return e.displayMessages})))})),R=(0,r.P)(f,(function(e){return e&&e.moreWaysToWatch})),L=(0,r.P)(f,(function(e){return e&&e.acceptedPreorder})),V=(0,r.P)(h,(function(e){return e&&e.main&&(0,s.cn)(e.main)&&e.main.metadata||void 0})),M=(0,r.P)(h,(function(e){return e&&e.main&&(0,s.cn)(e.main)&&e.main.children||void 0})),W=(0,r.P)(M,(function(e){return e&&e[0]})),j=(0,r.P)([i.bS.self,W],(function(e,t){return{playbackActionData:t,self:t&&e[t.playbackID]}})),B=(0,r.P)(g,(function(e){return e&&e.main&&(0,c.m)(e.main)&&e.main.children||void 0})),F=(0,r.P)(B,(function(e){return e&&e[0]})),U=(0,r.P)([i.bS.actionBtf,i.mZ.collections],(function(e,t){return void 0===t&&(t=[]),(0,o.VF)(t.map((function(e){return"episodes"===e.collectionType?e.titleIds:null}))).filter((function(t){return t&&e[t]&&e[t].downloadActions&&e[t].downloadActions.main}))}))},"./src/widgets/DVWebNodeDetail/selectors/autoplayHero.ts":(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var r=n("./src/widgets/DVWebNodeDetail/selectors/selectorWrapper.ts"),a=n("./src/widgets/DVWebNodeDetail/selectors/basicState.ts"),o=(0,r.P)(a.mZ.autoplayHero,(function(e){if(!e||0===Object.keys(e.mediaFiles).length)return null;var t,n=e.mediaFiles,r=e.draperTrackingEvents,a=e.textMap,o=Object.entries(n).map((function(e){var t=e[0],n=e[1];return{bitrate:parseInt(t,10),file:n}})).filter((function(e){var t=e.bitrate;return Boolean(t)})).sort((function(e,t){return e.bitrate-t.bitrate}));if(window.navigator&&window.navigator.connection&&window.navigator.connection.downlink){var i=o.filter((function(e){return e.bitrate<1024*window.navigator.connection.downlink*.5}));t=i.length>0?i[i.length-1].file:null}else t=o[Math.floor((o.length-1)/2)].file;return null===t?null:{mediaFile:t,draperTrackingEvents:r,textMap:a}}))},"./src/widgets/DVWebNodeDetail/selectors/basicState.ts":(e,t,n)=>{"use strict";n.d(t,{bS:()=>i,mZ:()=>c});var r=n("./src/widgets/DVWebNodeDetail/selectors/selectorWrapper.ts"),a=n("./src/widgets/DVWebNodeDetail/reducers/action.ts"),o=n("./src/widgets/DVWebNodeDetail/reducers/detail.ts"),i={context:function(e){return e.requestContext},features:function(e){return e.features},pageTitleId:function(e){return e.pageTitleId},bundleCarousel:function(e){return e.bundleCarousel},collections:function(e){return e.collections},carousel:function(e){return e.carousel},pageLink:function(e){return e.pageLink},actionAtf:function(e){return e.action[a.t1]},actionBtf:function(e){return e.action[a.L5]},seasons:function(e){return e.seasons},buyboxTitleId:function(e){return e.buyboxTitleId},crowBanner:function(e){return e.banner.crow},creative:function(e){return e.creative},headerDetail:function(e){return e.detail[o.B6]},moreDetails:function(e){return e.detail[o.k5]},detail:function(e){return e.detail[o.Xt]},self:function(e){return e.self},imdb:function(e){return e.imdb},notification:function(e){return e.notification},refund:function(e){return e.refund.fragments},refunding:function(e){return e.refund.refunding},restriction:function(e){return e.restriction},trailer:function(e){return e.trailer},watchlist:function(e){return e.watchlist},hoverWatchlist:function(e){return e.hoverWatchlist},purchase:function(e){return e.purchase},pageContext:function(e){return e.pageContext},bottomBar:function(e){return e.bottomBar},exploreTabContent:function(e){return e.exploreTabContent},devices:function(e){return e.devices},otherFormats:function(e){return e.otherFormats},scoutBanner:function(e){return e.scoutBanner},castAndCrew:function(e){return e.castAndCrew},player:function(e){return e.player},atfTapsExperimentToken:function(e){return e.tapsExperimentToken[e.pageTitleId]},autoplayHero:function(e){return e.autoplayHero},hdPlaybackRestricted:function(e){return e.hdPlaybackRestricted},reviews:function(e){return e.reviews},comingSoon:function(e){return e.comingSoon},metadata:function(e){return e.metadata}},s=function(e){return(0,r.P)([i.pageTitleId,e],(function(e,t){return t[e]}))},c={actionAtf:s(i.actionAtf),collections:s(i.collections),seasons:s(i.seasons),bundleCarousel:s(i.bundleCarousel),buyboxTitleId:s(i.buyboxTitleId),creative:s(i.creative),headerDetail:s(i.headerDetail),moreDetails:s(i.moreDetails),self:s(i.self),imdb:s(i.imdb),notification:s(i.notification),refund:s(i.refund),restriction:s(i.restriction),trailer:s(i.trailer),watchlist:s(i.watchlist),crowBanner:s(i.crowBanner),otherFormats:s(i.otherFormats),scoutBanner:s(i.scoutBanner),castAndCrew:s(i.castAndCrew),autoplayHero:s(i.autoplayHero),hdPlaybackRestricted:s(i.hdPlaybackRestricted),comingSoon:s(i.comingSoon),reviews:s(i.reviews),metadata:s(i.metadata)}},"./src/widgets/DVWebNodeDetail/selectors/selectorWrapper.ts":(e,t,n)=>{"use strict";n.d(t,{P:()=>r});var r=n("./node_modules/reselect/es/index.js").P1},"./src/widgets/DVWebNodeDetail/selectors/shared.ts":(e,t,n)=>{"use strict";n.d(t,{be:()=>s,Ng:()=>c,V$:()=>l,k7:()=>u});var r=n("./src/widgets/DVWebNodeDetail/selectors/selectorWrapper.ts"),a=n("./src/widgets/DVWebNodeDetail/selectors/basicState.ts"),o=n("./src/widgets/DVWebNodeDetail/utils/titleTypes.ts"),i=n("./src/widgets/DVWebNodeDetail/utils/entityTypes.ts"),s=(0,r.P)(a.mZ.headerDetail,i.xw),c=(0,r.P)(a.mZ.self,(function(e){return Boolean(e&&(0,o.yJ)(e.titleType))})),l=(0,r.P)(a.mZ.moreDetails,(function(e){return(0,i.Z4)(e&&e.entityType)})),u=(0,r.P)([a.bS.pageContext,a.mZ.moreDetails,a.mZ.headerDetail],(function(e,t,n){return t&&t.isStarlightEnhanced||n&&n.isStarlightEnhanced}))},"./src/widgets/DVWebNodeDetail/utils/actionBoxUtils.ts":(e,t,n)=>{"use strict";n.d(t,{N:()=>a});var r=n("./src/widgets/DVWebNodeDetail/utils/stringUtils.ts"),a=function(e){return(e||[]).filter((function(e){var t=e.severity,n=e.messageSource;return"RELEVANT"===t&&("LEAVING_SOON"===n||"ACCESS_CHANGE"===n)})).map((function(e){return(0,r.bJ)(e.message)}))}},"./src/widgets/DVWebNodeDetail/utils/downloadActionHelper.ts":(e,t,n)=>{"use strict";n.d(t,{m:()=>a,L:()=>o});var r=n("./src/widgets/DVWebNodeDetail/utils/isType.ts"),a=function(e){return(0,r.P)(e,"atv.wps#DownloadActionTreeRight")},o=function(e){var t=function(e){return e&&e.main&&a(e.main)&&e.main}(e);return t&&t.children&&t.children[0]||void 0}},"./src/widgets/DVWebNodeDetail/utils/dpWidgetContext.ts":(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var r=n("./node_modules/react/index.js").createContext(null)},"./src/widgets/DVWebNodeDetail/utils/entityTypes.ts":(e,t,n)=>{"use strict";n.d(t,{Z4:()=>c,xw:()=>l});var r="Live Event Default UX",a="Live Sporting Event UX 1",o="Live Sporting Event UX 2",i="Live Sporting Event UX 3",s="EVENT",c=function(e){return!!e&&[r,a,o,i,s].includes(e)},l=function(e){return Boolean(e&&"TV Show"==e.entityType)}},"./src/widgets/DVWebNodeDetail/utils/getPlaybackProgress.ts":(e,t,n)=>{"use strict";n.d(t,{_y:()=>r,fZ:()=>a,Nw:()=>o});var r=function(e){return e?Math.round(100*e):0},a=function(e,t,n){var r=e&&e[t],a=r&&r.ResumeTime;return(0===a?100:n&&a>0?100*a/(1e3*n):0)||0},o=function(e){return 1===e}},"./src/widgets/DVWebNodeDetail/utils/isType.ts":(e,t,n)=>{"use strict";function r(e,t){return Boolean(e&&e.__type===t)}n.d(t,{P:()=>r})},"./src/widgets/DVWebNodeDetail/utils/playbackActionHelper.ts":(e,t,n)=>{"use strict";n.d(t,{cn:()=>a,MG:()=>i,fi:()=>s,D8:()=>c});var r=n("./src/widgets/DVWebNodeDetail/utils/isType.ts"),a=function(e){return(0,r.P)(e,"atv.wps#PlaybackActionTreeRight")},o=function(e){return e&&e.main&&a(e.main)&&e.main},i=function(e){var t=o(e);return t&&t.children&&t.children[0]||void 0},s=function(e){var t=o(e);return t&&t.children&&t.children.map((function(e){return e.playbackID}))||void 0},c=function(e){var t=o(e);return t&&t.metadata&&t.metadata.secondaryMessages||void 0}},"./src/widgets/DVWebNodeDetail/utils/playbackEnvelope.ts":(e,t,n)=>{"use strict";n.d(t,{D:()=>r});var r=function(e){return(null==e?void 0:e.playbackEnvelope)&&{envelope:e.playbackEnvelope,correlationId:e.correlationId,expiration:e.expiryTime}}},"./src/widgets/DVWebNodeDetail/utils/reducer.ts":(e,t,n)=>{"use strict";n.d(t,{V:()=>a});var r=n("./src/widgets/DVWebNodeDetail/actions/constants.ts"),a=function(e,t,n){return function(a,o){switch(void 0===a&&(a=t),o.type){case r.k.STORE_MERGE:return e(o.payload)?Object.assign({},a,e(o.payload)):a;case r.k.CHANGE_PAGE:return e(o.payload)||t;default:return n?n(a,o):a}}}},"./src/widgets/DVWebNodeDetail/utils/stringUtils.ts":(e,t,n)=>{"use strict";n.d(t,{qY:()=>a,e6:()=>o,bJ:()=>i,q1:()=>s});var r=n("./src/util/utils/strings.ts"),a=function(e,t,n){var a=0;return function(o,i){var s=e[o];return s?(0,r.VJ)(s,i,t):(0===a&&t.error("Missing string "+o),a+=1,n.isInternal?"MISSING STRING "+o:"")}},o=function(e,t){return void 0===t&&(t={}),{string:e,attrs:t}},i=function(e){return"string"==typeof e?o(e.trim()):e},s=function(e,t){return void 0===t&&(t="_"),e.map((function(e){return void 0===e?t:e})).join("|")}},"./src/widgets/DVWebNodeDetail/utils/titleTypes.ts":(e,t,n)=>{"use strict";n.d(t,{yJ:()=>i,rM:()=>s,I:()=>c,Kw:()=>l});var r="EVENT",a="LIVE_EVENT_ITEM",o="VOD_EVENT_ITEM",i=function(e){return!!e&&[r,a,o].includes(e.toUpperCase())},s=function(e){return!/^amzn1.dv.icid/.test(e)},c=function(e){return e&&"MOVIE"===e.toUpperCase()||!1},l=function(e,t){return e&&!t&&"EPISODE"===e.toUpperCase()}},"./src/widgets/DVWebNodeDetail/utils/useInteractionObserver.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n("./node_modules/react/index.js");const a=function(e){var t=e.enabled,n=e.target,a=e.onIntersect,o=e.threshold,i=void 0===o?0:o,s=e.rootMargin,c=void 0===s?"0px":s;r.useEffect((function(){if(t&&n){var e=new IntersectionObserver(a,{rootMargin:c,threshold:i}),r=n.current||n;return e.observe(r),function(){e.unobserve(r)}}}),[a,c,i,n,t])}},"./src/widgets/DVWebNodeDetail/utils/utils.ts":(e,t,n)=>{"use strict";n.d(t,{xb:()=>r,Db:()=>a,w6:()=>o,e$:()=>i,yb:()=>s,bc:()=>c,VF:()=>l,JQ:()=>u,Dv:()=>d,ws:()=>p,EZ:()=>f,Zi:()=>m});var r=function(e){return!e||0===e.length},a=function(e){return!r(e)},o=function(e,t){return Array.from({length:t-e+1},(function(t,n){return n+e}))},i=function(e){return parseInt(e,10)||0},s=function(e){return Boolean(e)},c=function(e){return e},l=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},u=function(e){return 1==e},d=function(e){return e&&JSON.stringify(e)},p=function(e,t){return e-t},f="DVWebNodeDetail",m=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.includes(e)}},"./src/widgets/Explore/DraperPlayer/videoContext.ts":(e,t,n)=>{"use strict";n.d(t,{E:()=>a,l:()=>o});var r=n("./node_modules/react/index.js"),a={muted:!0,activeActivePlayer:null,activePassivePlayer:null,fullScreen:!1,updateContext:null},o=r.createContext(a)},"./src/widgets/Explore/Hover/utils.ts":(e,t,n)=>{"use strict";n.d(t,{o6:()=>a,Xe:()=>o,AK:()=>i,Wx:()=>s,Sy:()=>c,j8:()=>u});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=function(e){if(e&&(!e||e.playbackAction)){var t=e.progress&&e.progress.percentage,n=e.playbackAction;return r(r({},n),{progress:t})}},o=function(e){var t=e&&e.endpoint&&e.endpoint.query&&e.endpoint.query.titleType;if(t){var n=t.toLowerCase();if("season"==n)return"SEASON";if("event"==n)return"LIVEEVENT"}return"UNKNOWN"},i=function(e){return e&&e.endpoint&&e.endpoint.query&&e.endpoint.query.titleID},s=function(e){return{onMouseOver:function(){return e(!0)},onMouseLeave:function(){return e(!1)},onFocus:function(){return e(!0)},onBlur:function(){return e(!1)}}},c=function(e,t){if(void 0===t&&(t=0),e){var n=(new Date).getTime(),r=e&&e.schedule.sort((function(e,t){return e.start-t.start}))||[],a=r.findIndex((function(e){return e.start<n&&e.end>n}));return a>-1?r[a+t]:void 0}},l="DVWeb::Hover2019::",u={enrichAttempt:l+"Enrich::Attempt",enrichAttemptInitial:l+"Enrich::Attempt::Initial",enrichComplete:l+"Enrich::Complete",enrichCompleteInitial:l+"Enrich::Complete::Initial",hoverNoEnrich:l+"Hover::NoEnrich",hover:l+"Hover",playerOpened:l+"Playback",mountToFirstEnrich:l+"ToFirstEnrich"}},"./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":(e,t,n)=>{"use strict";var r=n("./node_modules/react-is/index.js"),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?i:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=i;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var a=f(n);a&&a!==m&&e(t,a,r)}var i=u(n);d&&(i=i.concat(d(n)));for(var s=c(t),h=c(n),g=0;g<i.length;++g){var v=i[g];if(!(o[v]||r&&r[v]||h&&h[v]||s&&s[v])){var _=p(n,v);try{l(t,v,_)}catch(e){}}}}return t}},"./node_modules/invariant/browser.js":e=>{"use strict";e.exports=function(e,t,n,r,a,o,i,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,a,o,i,s],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},"./node_modules/@amzn/dvui/dist/Expander.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/@amzn/dvui/dist/Icons/Add.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/@amzn/dvui/dist/Icons/Edit.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/@amzn/dvui/dist/Icons/Help.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/@amzn/dvui/dist/Icons/Lightbulb.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/@amzn/dvui/dist/Icons/LinkArrow.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/@amzn/dvui/dist/Icons/LogoPrimevideoApp.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/@amzn/dvui/dist/Icons/PlayArrow.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/@amzn/dvui/dist/Icons/Share.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/@amzn/dvui/dist/Icons/Trailer.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/@amzn/dvui/dist/Icons/WatchParty.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/@amzn/dvui/dist/Icons/WatchlistOn.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/@amzn/dvui/dist/MoreContent.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/@amzn/dvui/dist/StarRating.css":(e,t,n)=>{"use strict";n.r(t)},"./node_modules/prop-types/factoryWithThrowingShims.js":(e,t,n)=>{"use strict";var r=n("./node_modules/prop-types/lib/ReactPropTypesSecret.js");function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},"./node_modules/prop-types/index.js":(e,t,n)=>{e.exports=n("./node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/react-is/cjs/react-is.production.min.js":(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,h=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,_=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case i:case f:return e;default:switch(e=e&&e.$$typeof){case l:case p:case g:case h:case c:return e;default:return t}}case a:return t}}}function w(e){return E(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=r,t.ForwardRef=p,t.Fragment=o,t.Lazy=g,t.Memo=h,t.Portal=a,t.Profiler=s,t.StrictMode=i,t.Suspense=f,t.isAsyncMode=function(e){return w(e)||E(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===p},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===g},t.isMemo=function(e){return E(e)===h},t.isPortal=function(e){return E(e)===a},t.isProfiler=function(e){return E(e)===s},t.isStrictMode=function(e){return E(e)===i},t.isSuspense=function(e){return E(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===s||e===i||e===f||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p||e.$$typeof===_||e.$$typeof===y||e.$$typeof===b||e.$$typeof===v)},t.typeOf=E},"./node_modules/react-is/index.js":(e,t,n)=>{"use strict";e.exports=n("./node_modules/react-is/cjs/react-is.production.min.js")},"./node_modules/react-redux/es/index.js":(e,t,n)=>{"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{zt:()=>u,$j:()=>L});var o=n("./node_modules/react/index.js"),i=n("./node_modules/prop-types/index.js"),s=n.n(i),c=o.createContext(null);var l=function(e){function t(t){var n;n=e.call(this,t)||this;var r=t.store;return n.state={storeState:r.getState(),store:r},n}a(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.subscribe()},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1},n.componentDidUpdate=function(e){this.props.store!==e.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())},n.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe((function(){var n=t.getState();e._isMounted&&e.setState((function(e){return e.storeState===n?null:{storeState:n}}))}));var n=t.getState();n!==this.state.storeState&&this.setState({storeState:n})},n.render=function(){var e=this.props.context||c;return o.createElement(e.Provider,{value:this.state},this.props.children)},t}(o.Component);l.propTypes={store:s().shape({subscribe:s().func.isRequired,dispatch:s().func.isRequired,getState:s().func.isRequired}),context:s().object,children:s().any};const u=l;function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var f=n("./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),m=n.n(f),h=n("./node_modules/invariant/browser.js"),g=n.n(h),v=n("./node_modules/react-is/index.js");function _(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,i=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,s=n.methodName,l=void 0===s?"connectAdvanced":s,u=n.renderCountProp,f=void 0===u?void 0:u,h=n.shouldHandleStateChanges,_=void 0===h||h,y=n.storeKey,b=void 0===y?"store":y,E=n.withRef,w=void 0!==E&&E,D=n.forwardRef,T=void 0!==D&&D,P=n.context,I=void 0===P?c:P,S=p(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);g()(void 0===f,"renderCountProp is removed. render counting is built into the latest React dev tools profiling extension"),g()(!w,"withRef is removed. To access the wrapped instance, use a ref on the connected component");var k="To use a custom Redux store for specific components,  create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like:  <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";g()("store"===b,"storeKey has been removed and does not do anything. "+k);var C=I;return function(t){var n=t.displayName||t.name||"Component",r=i(n),s=d({},S,{getDisplayName:i,methodName:l,renderCountProp:f,shouldHandleStateChanges:_,storeKey:b,displayName:r,wrappedComponentName:n,WrappedComponent:t}),c=S.pure,u=o.Component;c&&(u=o.PureComponent);var p=function(n){function i(t){var r,a,i,s,l,u,p,f,m,h,v;return r=n.call(this,t)||this,g()(T?!t.wrapperProps[b]:!t[b],"Passing redux store in props has been removed and does not do anything. "+k),r.selectDerivedProps=function(t,n,r,o){if(c&&a===n&&i===t)return s;r===l&&u===o||(l=r,u=o,p=e(r.dispatch,o)),a=n,i=t;var d=p(t,n);return s=d},r.selectChildElement=function(e,t,n){return t===f&&n===m&&v===e||(f=t,m=n,v=e,h=o.createElement(e,d({},t,{ref:n}))),h},r.indirectRenderWrappedComponent=r.indirectRenderWrappedComponent.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)),r}a(i,n);var l=i.prototype;return l.indirectRenderWrappedComponent=function(e){return this.renderWrappedComponent(e)},l.renderWrappedComponent=function(e){g()(e,'Could not find "store" in the context of "'+r+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+r+" in connect options.");var n,a=e.storeState,o=e.store,i=this.props;T&&(i=this.props.wrapperProps,n=this.props.forwardedRef);var c=this.selectDerivedProps(a,i,o,s);return this.selectChildElement(t,c,n)},l.render=function(){var e=this.props.context&&this.props.context.Consumer&&(0,v.isContextConsumer)(o.createElement(this.props.context.Consumer,null))?this.props.context:C;return o.createElement(e.Consumer,null,this.indirectRenderWrappedComponent)},i}(u);if(p.WrappedComponent=t,p.displayName=r,T){var h=o.forwardRef((function(e,t){return o.createElement(p,{wrapperProps:e,forwardedRef:t})}));return h.displayName=r,h.WrappedComponent=t,m()(h,t)}return m()(p,t)}}var y=Object.prototype.hasOwnProperty;function b(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function E(e,t){if(b(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!y.call(t,n[a])||!b(e[n[a]],t[n[a]]))return!1;return!0}var w=n("./node_modules/redux/es/redux.js");function D(e){return function(t,n){var r=e(t,n);function a(){return r}return a.dependsOnOwnProps=!1,a}}function T(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function P(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=T(e);var a=r(t,n);return"function"==typeof a&&(r.mapToProps=a,r.dependsOnOwnProps=T(a),a=r(t,n)),a},r}}const I=[function(e){return"function"==typeof e?P(e):void 0},function(e){return e?void 0:D((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?D((function(t){return(0,w.DE)(e,t)})):void 0}];const S=[function(e){return"function"==typeof e?P(e):void 0},function(e){return e?void 0:D((function(){return{}}))}];function k(e,t,n){return d({},n,e,t)}const C=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,a=n.pure,o=n.areMergedPropsEqual,i=!1;return function(t,n,s){var c=e(t,n,s);return i?a&&o(c,r)||(r=c):(i=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return k}}];function O(e,t,n,r){return function(a,o){return n(e(a,o),t(r,o),o)}}function x(e,t,n,r,a){var o,i,s,c,l,u=a.areStatesEqual,d=a.areOwnPropsEqual,p=a.areStatePropsEqual,f=!1;function m(a,f){var m,h,g=!d(f,i),v=!u(a,o);return o=a,i=f,g&&v?(s=e(o,i),t.dependsOnOwnProps&&(c=t(r,i)),l=n(s,c,i)):g?(e.dependsOnOwnProps&&(s=e(o,i)),t.dependsOnOwnProps&&(c=t(r,i)),l=n(s,c,i)):v?(m=e(o,i),h=!p(m,s),s=m,h&&(l=n(s,c,i)),l):l}return function(a,u){return f?m(a,u):(s=e(o=a,i=u),c=t(r,i),l=n(s,c,i),f=!0,l)}}function A(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,a=t.initMergeProps,o=p(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),i=n(e,o),s=r(e,o),c=a(e,o);return(o.pure?x:O)(i,s,c,e,o)}function N(e,t,n){for(var r=t.length-1;r>=0;r--){var a=t[r](e);if(a)return a}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function R(e,t){return e===t}const L=(W=(M=void 0===V?{}:V).connectHOC,j=void 0===W?_:W,B=M.mapStateToPropsFactories,F=void 0===B?S:B,U=M.mapDispatchToPropsFactories,H=void 0===U?I:U,G=M.mergePropsFactories,q=void 0===G?C:G,z=M.selectorFactory,Z=void 0===z?A:z,function(e,t,n,r){void 0===r&&(r={});var a=r,o=a.pure,i=void 0===o||o,s=a.areStatesEqual,c=void 0===s?R:s,l=a.areOwnPropsEqual,u=void 0===l?E:l,f=a.areStatePropsEqual,m=void 0===f?E:f,h=a.areMergedPropsEqual,g=void 0===h?E:h,v=p(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),_=N(e,F,"mapStateToProps"),y=N(t,H,"mapDispatchToProps"),b=N(n,q,"mergeProps");return j(Z,d({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:y,initMergeProps:b,pure:i,areStatesEqual:c,areOwnPropsEqual:u,areStatePropsEqual:m,areMergedPropsEqual:g},v))});var V,M,W,j,B,F,U,H,G,q,z,Z},"./node_modules/redux/es/redux.js":(e,t,n)=>{"use strict";n.d(t,{md:()=>g,DE:()=>d,UY:()=>l,qC:()=>h,MT:()=>s});const r=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:{__SERVER__:!1,__DEVSERVER__:!1,__NATIVEAPP__:!1,__ES6__:!0,__COMMITHASH__:"2aafe0f05a805c129db168b94db46906a30760a6"});var a=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+a(),REPLACE:"@@redux/REPLACE"+a(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+a()}};function i(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var a;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,l=t,u=[],d=u,p=!1;function f(){d===u&&(d=u.slice())}function m(){if(p)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function h(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(p)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return f(),d.push(e),function(){if(t){if(p)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,f();var n=d.indexOf(e);d.splice(n,1),u=null}}}function g(e){if(!i(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,l=c(l,e)}finally{p=!1}for(var t=u=d,n=0;n<t.length;n++){(0,t[n])()}return e}function v(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,g({type:o.REPLACE})}function _(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[r]=function(){return this},e}return g({type:o.INIT}),(a={dispatch:g,subscribe:h,getState:m,replaceReducer:v})[r]=_,a}function c(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function l(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];0,"function"==typeof e[a]&&(n[a]=e[a])}var i,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:o.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,a={},o=0;o<s.length;o++){var l=s[o],u=n[l],d=e[l],p=u(d,t);if(void 0===p){var f=c(l,t);throw new Error(f)}a[l]=p,r=r||p!==d}return(r=r||s.length!==Object.keys(e).length)?a:e}}function u(e,t){return function(){return t(e.apply(this,arguments))}}function d(e,t){if("function"==typeof e)return u(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var a=e[r];"function"==typeof a&&(n[r]=u(a,t))}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},a={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(a)}));return m({},n,{dispatch:r=h.apply(void 0,o)(n.dispatch)})}}}},"./node_modules/reselect/es/index.js":(e,t,n)=>{"use strict";function r(e,t){return e===t}function a(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];var i=0,s=r.pop(),c=o(r),l=e.apply(void 0,[function(){return i++,s.apply(null,arguments)}].concat(n)),u=e((function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return l.apply(null,e)}));return u.resultFunc=s,u.dependencies=c,u.recomputations=function(){return i},u.resetRecomputations=function(){return i=0},u}}n.d(t,{wN:()=>i,P1:()=>s});var s=i((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,o=null;return function(){return a(t,n,arguments)||(o=e.apply(null,arguments)),n=arguments,o}}))},url:e=>{"use strict";e.exports=url}},o={};function i(e){if(o[e])return o[e].exports;var t=o[e]={exports:{}};return a[e].call(t.exports,t,t.exports,i),t.exports}i.m=a,i.x=e=>{},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>(({355:"detail-purchase",584:"detail-hover",608:"detail-hero-video",918:"detail-entitlement"}[e]||e)+"."+{355:"7bb4a58aa627b57e6d79",584:"a08ca2a45aba69c77957",608:"948c5f001b6c7ed56786",918:"38d4c29bb04ef29cdef0",942:"c1517aa7fbf85d7a294a"}[e]+".js"),i.miniCssF=e=>({351:"commons",584:"detail-hover",608:"detail-hero-video",918:"detail-entitlement"}[e]+"."+{351:"c5789efd50cdcbe1bd04",584:"aa8c31112aa61bf59ed0",608:"893a9bbc3aab11888c73",918:"0bbec045deba0b282448"}[e]+".css"),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="@amzn/dvwebnode:",i.l=(n,r,a,o)=>{if(e[n])e[n].push(r);else{var s,c;if(void 0!==a)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+a){s=d;break}}if(!s){c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+a),s.src=n;var p=s.src.split("/"),f=p[p.length-1].split("."),m=window.DVWEBNODE_MANIFESTS[f[0]+".js"]||window.DVWEBNODE_MANIFESTS[p[p.length-1]],h=i.p+m;s.src=h}e[n]=[r];var g=(t,r)=>{s.onerror=s.onload=null,clearTimeout(v);var a=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(r))),t)return t(r)},v=setTimeout(g.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=g.bind(null,s.onerror),s.onload=g.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.j=167,i.p="https://m.media-amazon.com/images/I/",n=e=>new Promise(((t,n)=>{var r=i.miniCssF(e),a=i.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var a=(i=n[r]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(a===e||a===t))return i}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var i;if((a=(i=o[r]).getAttribute("data-href"))===e||a===t)return i}})(r,a))return t();((e,t,n,r)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.onerror=a.onload=o=>{if(a.onerror=a.onload=null,"load"===o.type)n();else{var i=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=i,c.request=s,a.parentNode.removeChild(a),r(c)}},a.href=t,function(e){if(e.href){var t=e.href.match(/I\/(.*?)\./)[1]+".css",n=e.href.match(/I\/(.*)\./)[1]+".css";return(window.DVWEBNODE_MANIFESTS[t]||window.DVWEBNODE_MANIFESTS[n])&&(e.href=i.p+(window.DVWEBNODE_MANIFESTS[t]||window.DVWEBNODE_MANIFESTS[n])),document.head.appendChild(e)}document.head.appendChild(e)}(a)})(e,a,t,n)})),r={167:0},i.f.miniCss=(e,t)=>{r[e]?t.push(r[e]):0!==r[e]&&{584:1,608:1,918:1}[e]&&t.push(r[e]=n(e).then((()=>{r[e]=0}),(t=>{throw delete r[e],t})))},(()=>{var e={167:0},t=[["./src/entrypoints/hydration/detail.tsx",216,351]];i.f.j=(t,n)=>{var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise(((n,a)=>{r=e[t]=[n,a]}));n.push(r[2]=a);var o=i.p+i.u(t),s=new Error;i.l(o,(n=>{if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,r[1](s)}}),"chunk-"+t,t)}};var n=e=>{},r=(r,a)=>{for(var o,s,[c,l,u,d]=a,p=0,f=[];p<c.length;p++)s=c[p],i.o(e,s)&&e[s]&&f.push(e[s][0]),e[s]=0;for(o in l)i.o(l,o)&&(i.m[o]=l[o]);for(u&&u(i),r&&r(a);f.length;)f.shift()();return d&&t.push.apply(t,d),n()},a=self.webpackChunk_amzn_dvwebnode=self.webpackChunk_amzn_dvwebnode||[];function o(){for(var n,r=0;r<t.length;r++){for(var a=t[r],o=!0,s=1;s<a.length;s++){var c=a[s];0!==e[c]&&(o=!1)}o&&(t.splice(r--,1),n=i(i.s=a[0]))}return 0===t.length&&(i.x(),i.x=e=>{}),n}a.forEach(r.bind(null,0)),a.push=r.bind(null,a.push.bind(a));var s=i.x;i.x=()=>(i.x=s||(e=>{}),(n=o)())})();i.x()})();
//# sourceMappingURL=http://sourcemaps.aka.amazon.com/1.0.34689.0/sourcemaps/detail.789bd12271c18fddcc5b.js.map